var Sl=Object.defineProperty;var Pl=(e,t,n)=>t in e?Sl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Xn=(e,t,n)=>Pl(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ps(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const te={},on=[],it=()=>{},Cl=()=>!1,Er=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Cs=e=>e.startsWith("onUpdate:"),Pe=Object.assign,xs=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},xl=Object.prototype.hasOwnProperty,J=(e,t)=>xl.call(e,t),B=Array.isArray,an=e=>Sr(e)==="[object Map]",Ao=e=>Sr(e)==="[object Set]",q=e=>typeof e=="function",de=e=>typeof e=="string",At=e=>typeof e=="symbol",le=e=>e!==null&&typeof e=="object",ko=e=>(le(e)||q(e))&&q(e.then)&&q(e.catch),Ro=Object.prototype.toString,Sr=e=>Ro.call(e),Al=e=>Sr(e).slice(8,-1),To=e=>Sr(e)==="[object Object]",As=e=>de(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,kn=Ps(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Pr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},kl=/-(\w)/g,xt=Pr(e=>e.replace(kl,(t,n)=>n?n.toUpperCase():"")),Rl=/\B([A-Z])/g,Bt=Pr(e=>e.replace(Rl,"-$1").toLowerCase()),Oo=Pr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Dr=Pr(e=>e?`on${Oo(e)}`:""),Ct=(e,t)=>!Object.is(e,t),lr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},$o=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},ts=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ri;const Cr=()=>ri||(ri=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ks(e){if(B(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=de(r)?Il(r):ks(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(de(e)||le(e))return e}const Tl=/;(?![^(]*\))/g,Ol=/:([^]+)/,$l=/\/\*[^]*?\*\//g;function Il(e){const t={};return e.replace($l,"").split(Tl).forEach(n=>{if(n){const r=n.split(Ol);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Rs(e){let t="";if(de(e))t=e;else if(B(e))for(let n=0;n<e.length;n++){const r=Rs(e[n]);r&&(t+=r+" ")}else if(le(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const jl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ll=Ps(jl);function Io(e){return!!e||e===""}const jo=e=>!!(e&&e.__v_isRef===!0),Ne=e=>de(e)?e:e==null?"":B(e)||le(e)&&(e.toString===Ro||!q(e.toString))?jo(e)?Ne(e.value):JSON.stringify(e,Lo,2):String(e),Lo=(e,t)=>jo(t)?Lo(e,t.value):an(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Nr(r,i)+" =>"]=s,n),{})}:Ao(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Nr(n))}:At(t)?Nr(t):le(t)&&!B(t)&&!To(t)?String(t):t,Nr=(e,t="")=>{var n;return At(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ue;class Ml{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ue,!t&&Ue&&(this.index=(Ue.scopes||(Ue.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ue;try{return Ue=this,t()}finally{Ue=n}}}on(){Ue=this}off(){Ue=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Dl(){return Ue}let se;const Ur=new WeakSet;class Mo{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ue&&Ue.active&&Ue.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ur.has(this)&&(Ur.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||No(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,si(this),Uo(this);const t=se,n=Ge;se=this,Ge=!0;try{return this.fn()}finally{Fo(this),se=t,Ge=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)$s(t);this.deps=this.depsTail=void 0,si(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ur.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ns(this)&&this.run()}get dirty(){return ns(this)}}let Do=0,Rn,Tn;function No(e,t=!1){if(e.flags|=8,t){e.next=Tn,Tn=e;return}e.next=Rn,Rn=e}function Ts(){Do++}function Os(){if(--Do>0)return;if(Tn){let t=Tn;for(Tn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Rn;){let t=Rn;for(Rn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Uo(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Fo(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),$s(r),Nl(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function ns(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Bo(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Bo(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Un))return;e.globalVersion=Un;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!ns(e)){e.flags&=-3;return}const n=se,r=Ge;se=e,Ge=!0;try{Uo(e);const s=e.fn(e._value);(t.version===0||Ct(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{se=n,Ge=r,Fo(e),e.flags&=-3}}function $s(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)$s(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Nl(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Ge=!0;const zo=[];function kt(){zo.push(Ge),Ge=!1}function Rt(){const e=zo.pop();Ge=e===void 0?!0:e}function si(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=se;se=void 0;try{t()}finally{se=n}}}let Un=0;class Ul{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Is{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!se||!Ge||se===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==se)n=this.activeLink=new Ul(se,this),se.deps?(n.prevDep=se.depsTail,se.depsTail.nextDep=n,se.depsTail=n):se.deps=se.depsTail=n,qo(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=se.depsTail,n.nextDep=void 0,se.depsTail.nextDep=n,se.depsTail=n,se.deps===n&&(se.deps=r)}return n}trigger(t){this.version++,Un++,this.notify(t)}notify(t){Ts();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Os()}}}function qo(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)qo(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const rs=new WeakMap,Dt=Symbol(""),ss=Symbol(""),Fn=Symbol("");function we(e,t,n){if(Ge&&se){let r=rs.get(e);r||rs.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new Is),s.map=r,s.key=n),s.track()}}function ht(e,t,n,r,s,i){const o=rs.get(e);if(!o){Un++;return}const a=l=>{l&&l.trigger()};if(Ts(),t==="clear")o.forEach(a);else{const l=B(e),c=l&&As(n);if(l&&n==="length"){const u=Number(r);o.forEach((f,d)=>{(d==="length"||d===Fn||!At(d)&&d>=u)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Fn)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Dt)),an(e)&&a(o.get(ss)));break;case"delete":l||(a(o.get(Dt)),an(e)&&a(o.get(ss)));break;case"set":an(e)&&a(o.get(Dt));break}}Os()}function Kt(e){const t=Q(e);return t===e?t:(we(t,"iterate",Fn),He(e)?t:t.map(be))}function xr(e){return we(e=Q(e),"iterate",Fn),e}const Fl={__proto__:null,[Symbol.iterator](){return Fr(this,Symbol.iterator,be)},concat(...e){return Kt(this).concat(...e.map(t=>B(t)?Kt(t):t))},entries(){return Fr(this,"entries",e=>(e[1]=be(e[1]),e))},every(e,t){return ct(this,"every",e,t,void 0,arguments)},filter(e,t){return ct(this,"filter",e,t,n=>n.map(be),arguments)},find(e,t){return ct(this,"find",e,t,be,arguments)},findIndex(e,t){return ct(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ct(this,"findLast",e,t,be,arguments)},findLastIndex(e,t){return ct(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ct(this,"forEach",e,t,void 0,arguments)},includes(...e){return Br(this,"includes",e)},indexOf(...e){return Br(this,"indexOf",e)},join(e){return Kt(this).join(e)},lastIndexOf(...e){return Br(this,"lastIndexOf",e)},map(e,t){return ct(this,"map",e,t,void 0,arguments)},pop(){return wn(this,"pop")},push(...e){return wn(this,"push",e)},reduce(e,...t){return ii(this,"reduce",e,t)},reduceRight(e,...t){return ii(this,"reduceRight",e,t)},shift(){return wn(this,"shift")},some(e,t){return ct(this,"some",e,t,void 0,arguments)},splice(...e){return wn(this,"splice",e)},toReversed(){return Kt(this).toReversed()},toSorted(e){return Kt(this).toSorted(e)},toSpliced(...e){return Kt(this).toSpliced(...e)},unshift(...e){return wn(this,"unshift",e)},values(){return Fr(this,"values",be)}};function Fr(e,t,n){const r=xr(e),s=r[t]();return r!==e&&!He(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const Bl=Array.prototype;function ct(e,t,n,r,s,i){const o=xr(e),a=o!==e&&!He(e),l=o[t];if(l!==Bl[t]){const f=l.apply(e,i);return a?be(f):f}let c=n;o!==e&&(a?c=function(f,d){return n.call(this,be(f),d,e)}:n.length>2&&(c=function(f,d){return n.call(this,f,d,e)}));const u=l.call(o,c,r);return a&&s?s(u):u}function ii(e,t,n,r){const s=xr(e);let i=n;return s!==e&&(He(e)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,e)}):i=function(o,a,l){return n.call(this,o,be(a),l,e)}),s[t](i,...r)}function Br(e,t,n){const r=Q(e);we(r,"iterate",Fn);const s=r[t](...n);return(s===-1||s===!1)&&Ms(n[0])?(n[0]=Q(n[0]),r[t](...n)):s}function wn(e,t,n=[]){kt(),Ts();const r=Q(e)[t].apply(e,n);return Os(),Rt(),r}const zl=Ps("__proto__,__v_isRef,__isVue"),Ho=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(At));function ql(e){At(e)||(e=String(e));const t=Q(this);return we(t,"has",e),t.hasOwnProperty(e)}class Vo{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Xl:Qo:i?Go:Wo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=B(t);if(!s){let l;if(o&&(l=Fl[n]))return l;if(n==="hasOwnProperty")return ql}const a=Reflect.get(t,n,Se(t)?t:r);return(At(n)?Ho.has(n):zl(n))||(s||we(t,"get",n),i)?a:Se(a)?o&&As(n)?a:a.value:le(a)?s?Yo(a):Ar(a):a}}class Ko extends Vo{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._isShallow){const l=Nt(i);if(!He(r)&&!Nt(r)&&(i=Q(i),r=Q(r)),!B(t)&&Se(i)&&!Se(r))return l?!1:(i.value=r,!0)}const o=B(t)&&As(n)?Number(n)<t.length:J(t,n),a=Reflect.set(t,n,r,Se(t)?t:s);return t===Q(s)&&(o?Ct(r,i)&&ht(t,"set",n,r):ht(t,"add",n,r)),a}deleteProperty(t,n){const r=J(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&ht(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!At(n)||!Ho.has(n))&&we(t,"has",n),r}ownKeys(t){return we(t,"iterate",B(t)?"length":Dt),Reflect.ownKeys(t)}}class Hl extends Vo{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Vl=new Ko,Kl=new Hl,Wl=new Ko(!0);const is=e=>e,er=e=>Reflect.getPrototypeOf(e);function Gl(e,t,n){return function(...r){const s=this.__v_raw,i=Q(s),o=an(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...r),u=n?is:t?os:be;return!t&&we(i,"iterate",l?ss:Dt),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function tr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ql(e,t){const n={get(s){const i=this.__v_raw,o=Q(i),a=Q(s);e||(Ct(s,a)&&we(o,"get",s),we(o,"get",a));const{has:l}=er(o),c=t?is:e?os:be;if(l.call(o,s))return c(i.get(s));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!e&&we(Q(s),"iterate",Dt),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=Q(i),a=Q(s);return e||(Ct(s,a)&&we(o,"has",s),we(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=Q(a),c=t?is:e?os:be;return!e&&we(l,"iterate",Dt),a.forEach((u,f)=>s.call(i,c(u),c(f),o))}};return Pe(n,e?{add:tr("add"),set:tr("set"),delete:tr("delete"),clear:tr("clear")}:{add(s){!t&&!He(s)&&!Nt(s)&&(s=Q(s));const i=Q(this);return er(i).has.call(i,s)||(i.add(s),ht(i,"add",s,s)),this},set(s,i){!t&&!He(i)&&!Nt(i)&&(i=Q(i));const o=Q(this),{has:a,get:l}=er(o);let c=a.call(o,s);c||(s=Q(s),c=a.call(o,s));const u=l.call(o,s);return o.set(s,i),c?Ct(i,u)&&ht(o,"set",s,i):ht(o,"add",s,i),this},delete(s){const i=Q(this),{has:o,get:a}=er(i);let l=o.call(i,s);l||(s=Q(s),l=o.call(i,s)),a&&a.call(i,s);const c=i.delete(s);return l&&ht(i,"delete",s,void 0),c},clear(){const s=Q(this),i=s.size!==0,o=s.clear();return i&&ht(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Gl(s,e,t)}),n}function js(e,t){const n=Ql(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(J(n,s)&&s in r?n:r,s,i)}const Jl={get:js(!1,!1)},Yl={get:js(!1,!0)},Zl={get:js(!0,!1)};const Wo=new WeakMap,Go=new WeakMap,Qo=new WeakMap,Xl=new WeakMap;function ec(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tc(e){return e.__v_skip||!Object.isExtensible(e)?0:ec(Al(e))}function Ar(e){return Nt(e)?e:Ls(e,!1,Vl,Jl,Wo)}function Jo(e){return Ls(e,!1,Wl,Yl,Go)}function Yo(e){return Ls(e,!0,Kl,Zl,Qo)}function Ls(e,t,n,r,s){if(!le(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=tc(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function ln(e){return Nt(e)?ln(e.__v_raw):!!(e&&e.__v_isReactive)}function Nt(e){return!!(e&&e.__v_isReadonly)}function He(e){return!!(e&&e.__v_isShallow)}function Ms(e){return e?!!e.__v_raw:!1}function Q(e){const t=e&&e.__v_raw;return t?Q(t):e}function nc(e){return!J(e,"__v_skip")&&Object.isExtensible(e)&&$o(e,"__v_skip",!0),e}const be=e=>le(e)?Ar(e):e,os=e=>le(e)?Yo(e):e;function Se(e){return e?e.__v_isRef===!0:!1}function ve(e){return Zo(e,!1)}function rc(e){return Zo(e,!0)}function Zo(e,t){return Se(e)?e:new sc(e,t)}class sc{constructor(t,n){this.dep=new Is,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Q(t),this._value=n?t:be(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||He(t)||Nt(t);t=r?t:Q(t),Ct(t,n)&&(this._rawValue=t,this._value=r?t:be(t),this.dep.trigger())}}function Ee(e){return Se(e)?e.value:e}const ic={get:(e,t,n)=>t==="__v_raw"?e:Ee(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Se(s)&&!Se(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function Xo(e){return ln(e)?e:new Proxy(e,ic)}class oc{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Is(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Un-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&se!==this)return No(this,!0),!0}get value(){const t=this.dep.track();return Bo(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ac(e,t,n=!1){let r,s;return q(e)?r=e:(r=e.get,s=e.set),new oc(r,s,n)}const nr={},hr=new WeakMap;let It;function lc(e,t=!1,n=It){if(n){let r=hr.get(n);r||hr.set(n,r=[]),r.push(e)}}function cc(e,t,n=te){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,c=P=>s?P:He(P)||s===!1||s===0?pt(P,1):pt(P);let u,f,d,h,y=!1,_=!1;if(Se(e)?(f=()=>e.value,y=He(e)):ln(e)?(f=()=>c(e),y=!0):B(e)?(_=!0,y=e.some(P=>ln(P)||He(P)),f=()=>e.map(P=>{if(Se(P))return P.value;if(ln(P))return c(P);if(q(P))return l?l(P,2):P()})):q(e)?t?f=l?()=>l(e,2):e:f=()=>{if(d){kt();try{d()}finally{Rt()}}const P=It;It=u;try{return l?l(e,3,[h]):e(h)}finally{It=P}}:f=it,t&&s){const P=f,j=s===!0?1/0:s;f=()=>pt(P(),j)}const w=Dl(),x=()=>{u.stop(),w&&w.active&&xs(w.effects,u)};if(i&&t){const P=t;t=(...j)=>{P(...j),x()}}let k=_?new Array(e.length).fill(nr):nr;const C=P=>{if(!(!(u.flags&1)||!u.dirty&&!P))if(t){const j=u.run();if(s||y||(_?j.some((z,U)=>Ct(z,k[U])):Ct(j,k))){d&&d();const z=It;It=u;try{const U=[j,k===nr?void 0:_&&k[0]===nr?[]:k,h];l?l(t,3,U):t(...U),k=j}finally{It=z}}}else u.run()};return a&&a(C),u=new Mo(f),u.scheduler=o?()=>o(C,!1):C,h=P=>lc(P,!1,u),d=u.onStop=()=>{const P=hr.get(u);if(P){if(l)l(P,4);else for(const j of P)j();hr.delete(u)}},t?r?C(!0):k=u.run():o?o(C.bind(null,!0),!0):u.run(),x.pause=u.pause.bind(u),x.resume=u.resume.bind(u),x.stop=x,x}function pt(e,t=1/0,n){if(t<=0||!le(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Se(e))pt(e.value,t,n);else if(B(e))for(let r=0;r<e.length;r++)pt(e[r],t,n);else if(Ao(e)||an(e))e.forEach(r=>{pt(r,t,n)});else if(To(e)){for(const r in e)pt(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&pt(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wn(e,t,n,r){try{return r?e(...r):e()}catch(s){kr(s,t,n)}}function ot(e,t,n,r){if(q(e)){const s=Wn(e,t,n,r);return s&&ko(s)&&s.catch(i=>{kr(i,t,n)}),s}if(B(e)){const s=[];for(let i=0;i<e.length;i++)s.push(ot(e[i],t,n,r));return s}}function kr(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||te;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,l,c)===!1)return}a=a.parent}if(i){kt(),Wn(i,null,10,[e,l,c]),Rt();return}}uc(e,n,s,r,o)}function uc(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const xe=[];let nt=-1;const cn=[];let wt=null,tn=0;const ea=Promise.resolve();let pr=null;function ta(e){const t=pr||ea;return e?t.then(this?e.bind(this):e):t}function fc(e){let t=nt+1,n=xe.length;for(;t<n;){const r=t+n>>>1,s=xe[r],i=Bn(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function Ds(e){if(!(e.flags&1)){const t=Bn(e),n=xe[xe.length-1];!n||!(e.flags&2)&&t>=Bn(n)?xe.push(e):xe.splice(fc(t),0,e),e.flags|=1,na()}}function na(){pr||(pr=ea.then(sa))}function dc(e){B(e)?cn.push(...e):wt&&e.id===-1?wt.splice(tn+1,0,e):e.flags&1||(cn.push(e),e.flags|=1),na()}function oi(e,t,n=nt+1){for(;n<xe.length;n++){const r=xe[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;xe.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function ra(e){if(cn.length){const t=[...new Set(cn)].sort((n,r)=>Bn(n)-Bn(r));if(cn.length=0,wt){wt.push(...t);return}for(wt=t,tn=0;tn<wt.length;tn++){const n=wt[tn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}wt=null,tn=0}}const Bn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function sa(e){try{for(nt=0;nt<xe.length;nt++){const t=xe[nt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Wn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;nt<xe.length;nt++){const t=xe[nt];t&&(t.flags&=-2)}nt=-1,xe.length=0,ra(),pr=null,(xe.length||cn.length)&&sa()}}let qe=null,ia=null;function gr(e){const t=qe;return qe=e,ia=e&&e.type.__scopeId||null,t}function oa(e,t=qe,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&gi(-1);const i=gr(t);let o;try{o=e(...s)}finally{gr(i),r._d&&gi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function aa(e,t){if(qe===null)return e;const n=Ir(qe),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,o,a,l=te]=t[s];i&&(q(i)&&(i={mounted:i,updated:i}),i.deep&&pt(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Tt(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(kt(),ot(l,n,8,[e.el,a,e,t]),Rt())}}const hc=Symbol("_vte"),pc=e=>e.__isTeleport;function Ns(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ns(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Ve(e,t){return q(e)?Pe({name:e.name},t,{setup:e}):e}function la(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function mr(e,t,n,r,s=!1){if(B(e)){e.forEach((y,_)=>mr(y,t&&(B(t)?t[_]:t),n,r,s));return}if(On(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&mr(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?Ir(r.component):r.el,o=s?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===te?a.refs={}:a.refs,f=a.setupState,d=Q(f),h=f===te?()=>!1:y=>J(d,y);if(c!=null&&c!==l&&(de(c)?(u[c]=null,h(c)&&(f[c]=null)):Se(c)&&(c.value=null)),q(l))Wn(l,a,12,[o,u]);else{const y=de(l),_=Se(l);if(y||_){const w=()=>{if(e.f){const x=y?h(l)?f[l]:u[l]:l.value;s?B(x)&&xs(x,i):B(x)?x.includes(i)||x.push(i):y?(u[l]=[i],h(l)&&(f[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else y?(u[l]=o,h(l)&&(f[l]=o)):_&&(l.value=o,e.k&&(u[e.k]=o))};o?(w.id=-1,Me(w,n)):w()}}}Cr().requestIdleCallback;Cr().cancelIdleCallback;const On=e=>!!e.type.__asyncLoader,ca=e=>e.type.__isKeepAlive;function gc(e,t){ua(e,"a",t)}function mc(e,t){ua(e,"da",t)}function ua(e,t,n=Ae){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Rr(t,r,n),n){let s=n.parent;for(;s&&s.parent;)ca(s.parent.vnode)&&yc(r,t,n,s),s=s.parent}}function yc(e,t,n,r){const s=Rr(t,e,r,!0);fa(()=>{xs(r[t],s)},n)}function Rr(e,t,n=Ae,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{kt();const a=Qn(n),l=ot(t,n,e,o);return a(),Rt(),l});return r?s.unshift(i):s.push(i),i}}const gt=e=>(t,n=Ae)=>{(!qn||e==="sp")&&Rr(e,(...r)=>t(...r),n)},_c=gt("bm"),Gn=gt("m"),vc=gt("bu"),Us=gt("u"),wc=gt("bum"),fa=gt("um"),bc=gt("sp"),Ec=gt("rtg"),Sc=gt("rtc");function Pc(e,t=Ae){Rr("ec",e,t)}const Cc=Symbol.for("v-ndc");function cr(e,t,n,r){let s;const i=n,o=B(e);if(o||de(e)){const a=o&&ln(e);let l=!1;a&&(l=!He(e),e=xr(e)),s=new Array(e.length);for(let c=0,u=e.length;c<u;c++)s[c]=t(l?be(e[c]):e[c],c,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,i)}else if(le(e))if(e[Symbol.iterator])s=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=t(e[u],u,l,i)}}else s=[];return s}const as=e=>e?ja(e)?Ir(e):as(e.parent):null,$n=Pe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>as(e.parent),$root:e=>as(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ha(e),$forceUpdate:e=>e.f||(e.f=()=>{Ds(e.update)}),$nextTick:e=>e.n||(e.n=ta.bind(e.proxy)),$watch:e=>Kc.bind(e)}),zr=(e,t)=>e!==te&&!e.__isScriptSetup&&J(e,t),xc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(zr(r,t))return o[t]=1,r[t];if(s!==te&&J(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&J(c,t))return o[t]=3,i[t];if(n!==te&&J(n,t))return o[t]=4,n[t];ls&&(o[t]=0)}}const u=$n[t];let f,d;if(u)return t==="$attrs"&&we(e.attrs,"get",""),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==te&&J(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,J(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return zr(s,t)?(s[t]=n,!0):r!==te&&J(r,t)?(r[t]=n,!0):J(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==te&&J(e,o)||zr(t,o)||(a=i[0])&&J(a,o)||J(r,o)||J($n,o)||J(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:J(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ai(e){return B(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ls=!0;function Ac(e){const t=ha(e),n=e.proxy,r=e.ctx;ls=!1,t.beforeCreate&&li(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:y,activated:_,deactivated:w,beforeDestroy:x,beforeUnmount:k,destroyed:C,unmounted:P,render:j,renderTracked:z,renderTriggered:U,errorCaptured:ie,serverPrefetch:oe,expose:ge,inheritAttrs:me,components:he,directives:Y,filters:at}=t;if(c&&kc(c,r,null),o)for(const X in o){const W=o[X];q(W)&&(r[X]=W.bind(n))}if(s){const X=s.call(n,n);le(X)&&(e.data=Ar(X))}if(ls=!0,i)for(const X in i){const W=i[X],lt=q(W)?W.bind(n,n):q(W.get)?W.get.bind(n,n):it,mt=!q(W)&&q(W.set)?W.set.bind(n):it,Je=Fe({get:lt,set:mt});Object.defineProperty(r,X,{enumerable:!0,configurable:!0,get:()=>Je.value,set:ke=>Je.value=ke})}if(a)for(const X in a)da(a[X],r,n,X);if(l){const X=q(l)?l.call(n):l;Reflect.ownKeys(X).forEach(W=>{In(W,X[W])})}u&&li(u,e,"c");function fe(X,W){B(W)?W.forEach(lt=>X(lt.bind(n))):W&&X(W.bind(n))}if(fe(_c,f),fe(Gn,d),fe(vc,h),fe(Us,y),fe(gc,_),fe(mc,w),fe(Pc,ie),fe(Sc,z),fe(Ec,U),fe(wc,k),fe(fa,P),fe(bc,oe),B(ge))if(ge.length){const X=e.exposed||(e.exposed={});ge.forEach(W=>{Object.defineProperty(X,W,{get:()=>n[W],set:lt=>n[W]=lt})})}else e.exposed||(e.exposed={});j&&e.render===it&&(e.render=j),me!=null&&(e.inheritAttrs=me),he&&(e.components=he),Y&&(e.directives=Y),oe&&la(e)}function kc(e,t,n=it){B(e)&&(e=cs(e));for(const r in e){const s=e[r];let i;le(s)?"default"in s?i=ue(s.from||r,s.default,!0):i=ue(s.from||r):i=ue(s),Se(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function li(e,t,n){ot(B(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function da(e,t,n,r){let s=r.includes(".")?Aa(n,r):()=>n[r];if(de(e)){const i=t[e];q(i)&&ur(s,i)}else if(q(e))ur(s,e.bind(n));else if(le(e))if(B(e))e.forEach(i=>da(i,t,n,r));else{const i=q(e.handler)?e.handler.bind(n):t[e.handler];q(i)&&ur(s,i,e)}}function ha(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(c=>yr(l,c,o,!0)),yr(l,t,o)),le(t)&&i.set(t,l),l}function yr(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&yr(e,i,n,!0),s&&s.forEach(o=>yr(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=Rc[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Rc={data:ci,props:ui,emits:ui,methods:xn,computed:xn,beforeCreate:Ce,created:Ce,beforeMount:Ce,mounted:Ce,beforeUpdate:Ce,updated:Ce,beforeDestroy:Ce,beforeUnmount:Ce,destroyed:Ce,unmounted:Ce,activated:Ce,deactivated:Ce,errorCaptured:Ce,serverPrefetch:Ce,components:xn,directives:xn,watch:Oc,provide:ci,inject:Tc};function ci(e,t){return t?e?function(){return Pe(q(e)?e.call(this,this):e,q(t)?t.call(this,this):t)}:t:e}function Tc(e,t){return xn(cs(e),cs(t))}function cs(e){if(B(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ce(e,t){return e?[...new Set([].concat(e,t))]:t}function xn(e,t){return e?Pe(Object.create(null),e,t):t}function ui(e,t){return e?B(e)&&B(t)?[...new Set([...e,...t])]:Pe(Object.create(null),ai(e),ai(t??{})):t}function Oc(e,t){if(!e)return t;if(!t)return e;const n=Pe(Object.create(null),e);for(const r in t)n[r]=Ce(e[r],t[r]);return n}function pa(){return{app:null,config:{isNativeTag:Cl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $c=0;function Ic(e,t){return function(r,s=null){q(r)||(r=Pe({},r)),s!=null&&!le(s)&&(s=null);const i=pa(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:$c++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:du,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&q(u.install)?(o.add(u),u.install(c,...f)):q(u)&&(o.add(u),u(c,...f))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,f){return f?(i.components[u]=f,c):i.components[u]},directive(u,f){return f?(i.directives[u]=f,c):i.directives[u]},mount(u,f,d){if(!l){const h=c._ceVNode||Ie(r,s);return h.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),e(h,u,d),l=!0,c._container=u,u.__vue_app__=c,Ir(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(ot(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return i.provides[u]=f,c},runWithContext(u){const f=un;un=c;try{return u()}finally{un=f}}};return c}}let un=null;function In(e,t){if(Ae){let n=Ae.provides;const r=Ae.parent&&Ae.parent.provides;r===n&&(n=Ae.provides=Object.create(r)),n[e]=t}}function ue(e,t,n=!1){const r=Ae||qe;if(r||un){const s=un?un._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&q(t)?t.call(r&&r.proxy):t}}const ga={},ma=()=>Object.create(ga),ya=e=>Object.getPrototypeOf(e)===ga;function jc(e,t,n,r=!1){const s={},i=ma();e.propsDefaults=Object.create(null),_a(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:Jo(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Lc(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=Q(s),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(Tr(e.emitsOptions,d))continue;const h=t[d];if(l)if(J(i,d))h!==i[d]&&(i[d]=h,c=!0);else{const y=xt(d);s[y]=us(l,a,y,h,e,!1)}else h!==i[d]&&(i[d]=h,c=!0)}}}else{_a(e,t,s,i)&&(c=!0);let u;for(const f in a)(!t||!J(t,f)&&((u=Bt(f))===f||!J(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(s[f]=us(l,a,f,void 0,e,!0)):delete s[f]);if(i!==a)for(const f in i)(!t||!J(t,f))&&(delete i[f],c=!0)}c&&ht(e.attrs,"set","")}function _a(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(kn(l))continue;const c=t[l];let u;s&&J(s,u=xt(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Tr(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=Q(n),c=a||te;for(let u=0;u<i.length;u++){const f=i[u];n[f]=us(s,l,f,c[f],e,!J(c,f))}}return o}function us(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=J(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&q(l)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const u=Qn(s);r=c[n]=l.call(null,t),u()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Bt(n))&&(r=!0))}return r}const Mc=new WeakMap;function va(e,t,n=!1){const r=n?Mc:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!q(e)){const u=f=>{l=!0;const[d,h]=va(f,t,!0);Pe(o,d),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return le(e)&&r.set(e,on),on;if(B(i))for(let u=0;u<i.length;u++){const f=xt(i[u]);fi(f)&&(o[f]=te)}else if(i)for(const u in i){const f=xt(u);if(fi(f)){const d=i[u],h=o[f]=B(d)||q(d)?{type:d}:Pe({},d),y=h.type;let _=!1,w=!0;if(B(y))for(let x=0;x<y.length;++x){const k=y[x],C=q(k)&&k.name;if(C==="Boolean"){_=!0;break}else C==="String"&&(w=!1)}else _=q(y)&&y.name==="Boolean";h[0]=_,h[1]=w,(_||J(h,"default"))&&a.push(f)}}const c=[o,a];return le(e)&&r.set(e,c),c}function fi(e){return e[0]!=="$"&&!kn(e)}const wa=e=>e[0]==="_"||e==="$stable",Fs=e=>B(e)?e.map(rt):[rt(e)],Dc=(e,t,n)=>{if(t._n)return t;const r=oa((...s)=>Fs(t(...s)),n);return r._c=!1,r},ba=(e,t,n)=>{const r=e._ctx;for(const s in e){if(wa(s))continue;const i=e[s];if(q(i))t[s]=Dc(s,i,r);else if(i!=null){const o=Fs(i);t[s]=()=>o}}},Ea=(e,t)=>{const n=Fs(t);e.slots.default=()=>n},Sa=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},Nc=(e,t,n)=>{const r=e.slots=ma();if(e.vnode.shapeFlag&32){const s=t._;s?(Sa(r,t,n),n&&$o(r,"_",s,!0)):ba(t,r)}else t&&Ea(e,t)},Uc=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=te;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:Sa(s,t,n):(i=!t.$stable,ba(t,s)),o=t}else t&&(Ea(e,t),o={default:1});if(i)for(const a in s)!wa(a)&&o[a]==null&&delete s[a]},Me=Xc;function Fc(e){return Bc(e)}function Bc(e,t){const n=Cr();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=it,insertStaticContent:y}=e,_=(p,g,m,v=null,S=null,E=null,O=void 0,T=null,R=!!g.dynamicChildren)=>{if(p===g)return;p&&!bn(p,g)&&(v=b(p),ke(p,S,E,!0),p=null),g.patchFlag===-2&&(R=!1,g.dynamicChildren=null);const{type:A,ref:N,shapeFlag:I}=g;switch(A){case Or:w(p,g,m,v);break;case Ut:x(p,g,m,v);break;case Hr:p==null&&k(g,m,v,O);break;case $e:he(p,g,m,v,S,E,O,T,R);break;default:I&1?j(p,g,m,v,S,E,O,T,R):I&6?Y(p,g,m,v,S,E,O,T,R):(I&64||I&128)&&A.process(p,g,m,v,S,E,O,T,R,M)}N!=null&&S&&mr(N,p&&p.ref,E,g||p,!g)},w=(p,g,m,v)=>{if(p==null)r(g.el=a(g.children),m,v);else{const S=g.el=p.el;g.children!==p.children&&c(S,g.children)}},x=(p,g,m,v)=>{p==null?r(g.el=l(g.children||""),m,v):g.el=p.el},k=(p,g,m,v)=>{[p.el,p.anchor]=y(p.children,g,m,v,p.el,p.anchor)},C=({el:p,anchor:g},m,v)=>{let S;for(;p&&p!==g;)S=d(p),r(p,m,v),p=S;r(g,m,v)},P=({el:p,anchor:g})=>{let m;for(;p&&p!==g;)m=d(p),s(p),p=m;s(g)},j=(p,g,m,v,S,E,O,T,R)=>{g.type==="svg"?O="svg":g.type==="math"&&(O="mathml"),p==null?z(g,m,v,S,E,O,T,R):oe(p,g,S,E,O,T,R)},z=(p,g,m,v,S,E,O,T)=>{let R,A;const{props:N,shapeFlag:I,transition:D,dirs:F}=p;if(R=p.el=o(p.type,E,N&&N.is,N),I&8?u(R,p.children):I&16&&ie(p.children,R,null,v,S,qr(p,E),O,T),F&&Tt(p,null,v,"created"),U(R,p,p.scopeId,O,v),N){for(const ne in N)ne!=="value"&&!kn(ne)&&i(R,ne,null,N[ne],E,v);"value"in N&&i(R,"value",null,N.value,E),(A=N.onVnodeBeforeMount)&&et(A,v,p)}F&&Tt(p,null,v,"beforeMount");const K=zc(S,D);K&&D.beforeEnter(R),r(R,g,m),((A=N&&N.onVnodeMounted)||K||F)&&Me(()=>{A&&et(A,v,p),K&&D.enter(R),F&&Tt(p,null,v,"mounted")},S)},U=(p,g,m,v,S)=>{if(m&&h(p,m),v)for(let E=0;E<v.length;E++)h(p,v[E]);if(S){let E=S.subTree;if(g===E||Ra(E.type)&&(E.ssContent===g||E.ssFallback===g)){const O=S.vnode;U(p,O,O.scopeId,O.slotScopeIds,S.parent)}}},ie=(p,g,m,v,S,E,O,T,R=0)=>{for(let A=R;A<p.length;A++){const N=p[A]=T?bt(p[A]):rt(p[A]);_(null,N,g,m,v,S,E,O,T)}},oe=(p,g,m,v,S,E,O)=>{const T=g.el=p.el;let{patchFlag:R,dynamicChildren:A,dirs:N}=g;R|=p.patchFlag&16;const I=p.props||te,D=g.props||te;let F;if(m&&Ot(m,!1),(F=D.onVnodeBeforeUpdate)&&et(F,m,g,p),N&&Tt(g,p,m,"beforeUpdate"),m&&Ot(m,!0),(I.innerHTML&&D.innerHTML==null||I.textContent&&D.textContent==null)&&u(T,""),A?ge(p.dynamicChildren,A,T,m,v,qr(g,S),E):O||W(p,g,T,null,m,v,qr(g,S),E,!1),R>0){if(R&16)me(T,I,D,m,S);else if(R&2&&I.class!==D.class&&i(T,"class",null,D.class,S),R&4&&i(T,"style",I.style,D.style,S),R&8){const K=g.dynamicProps;for(let ne=0;ne<K.length;ne++){const Z=K[ne],je=I[Z],Re=D[Z];(Re!==je||Z==="value")&&i(T,Z,je,Re,S,m)}}R&1&&p.children!==g.children&&u(T,g.children)}else!O&&A==null&&me(T,I,D,m,S);((F=D.onVnodeUpdated)||N)&&Me(()=>{F&&et(F,m,g,p),N&&Tt(g,p,m,"updated")},v)},ge=(p,g,m,v,S,E,O)=>{for(let T=0;T<g.length;T++){const R=p[T],A=g[T],N=R.el&&(R.type===$e||!bn(R,A)||R.shapeFlag&70)?f(R.el):m;_(R,A,N,null,v,S,E,O,!0)}},me=(p,g,m,v,S)=>{if(g!==m){if(g!==te)for(const E in g)!kn(E)&&!(E in m)&&i(p,E,g[E],null,S,v);for(const E in m){if(kn(E))continue;const O=m[E],T=g[E];O!==T&&E!=="value"&&i(p,E,T,O,S,v)}"value"in m&&i(p,"value",g.value,m.value,S)}},he=(p,g,m,v,S,E,O,T,R)=>{const A=g.el=p?p.el:a(""),N=g.anchor=p?p.anchor:a("");let{patchFlag:I,dynamicChildren:D,slotScopeIds:F}=g;F&&(T=T?T.concat(F):F),p==null?(r(A,m,v),r(N,m,v),ie(g.children||[],m,N,S,E,O,T,R)):I>0&&I&64&&D&&p.dynamicChildren?(ge(p.dynamicChildren,D,m,S,E,O,T),(g.key!=null||S&&g===S.subTree)&&Pa(p,g,!0)):W(p,g,m,N,S,E,O,T,R)},Y=(p,g,m,v,S,E,O,T,R)=>{g.slotScopeIds=T,p==null?g.shapeFlag&512?S.ctx.activate(g,m,v,O,R):at(g,m,v,S,E,O,R):Ke(p,g,R)},at=(p,g,m,v,S,E,O)=>{const T=p.component=ou(p,v,S);if(ca(p)&&(T.ctx.renderer=M),au(T,!1,O),T.asyncDep){if(S&&S.registerDep(T,fe,O),!p.el){const R=T.subTree=Ie(Ut);x(null,R,g,m)}}else fe(T,p,g,m,S,E,O)},Ke=(p,g,m)=>{const v=g.component=p.component;if(Yc(p,g,m))if(v.asyncDep&&!v.asyncResolved){X(v,g,m);return}else v.next=g,v.update();else g.el=p.el,v.vnode=g},fe=(p,g,m,v,S,E,O)=>{const T=()=>{if(p.isMounted){let{next:I,bu:D,u:F,parent:K,vnode:ne}=p;{const Ze=Ca(p);if(Ze){I&&(I.el=ne.el,X(p,I,O)),Ze.asyncDep.then(()=>{p.isUnmounted||T()});return}}let Z=I,je;Ot(p,!1),I?(I.el=ne.el,X(p,I,O)):I=ne,D&&lr(D),(je=I.props&&I.props.onVnodeBeforeUpdate)&&et(je,K,I,ne),Ot(p,!0);const Re=hi(p),Ye=p.subTree;p.subTree=Re,_(Ye,Re,f(Ye.el),b(Ye),p,S,E),I.el=Re.el,Z===null&&Zc(p,Re.el),F&&Me(F,S),(je=I.props&&I.props.onVnodeUpdated)&&Me(()=>et(je,K,I,ne),S)}else{let I;const{el:D,props:F}=g,{bm:K,m:ne,parent:Z,root:je,type:Re}=p,Ye=On(g);Ot(p,!1),K&&lr(K),!Ye&&(I=F&&F.onVnodeBeforeMount)&&et(I,Z,g),Ot(p,!0);{je.ce&&je.ce._injectChildStyle(Re);const Ze=p.subTree=hi(p);_(null,Ze,m,v,p,S,E),g.el=Ze.el}if(ne&&Me(ne,S),!Ye&&(I=F&&F.onVnodeMounted)){const Ze=g;Me(()=>et(I,Z,Ze),S)}(g.shapeFlag&256||Z&&On(Z.vnode)&&Z.vnode.shapeFlag&256)&&p.a&&Me(p.a,S),p.isMounted=!0,g=m=v=null}};p.scope.on();const R=p.effect=new Mo(T);p.scope.off();const A=p.update=R.run.bind(R),N=p.job=R.runIfDirty.bind(R);N.i=p,N.id=p.uid,R.scheduler=()=>Ds(N),Ot(p,!0),A()},X=(p,g,m)=>{g.component=p;const v=p.vnode.props;p.vnode=g,p.next=null,Lc(p,g.props,v,m),Uc(p,g.children,m),kt(),oi(p),Rt()},W=(p,g,m,v,S,E,O,T,R=!1)=>{const A=p&&p.children,N=p?p.shapeFlag:0,I=g.children,{patchFlag:D,shapeFlag:F}=g;if(D>0){if(D&128){mt(A,I,m,v,S,E,O,T,R);return}else if(D&256){lt(A,I,m,v,S,E,O,T,R);return}}F&8?(N&16&&ze(A,S,E),I!==A&&u(m,I)):N&16?F&16?mt(A,I,m,v,S,E,O,T,R):ze(A,S,E,!0):(N&8&&u(m,""),F&16&&ie(I,m,v,S,E,O,T,R))},lt=(p,g,m,v,S,E,O,T,R)=>{p=p||on,g=g||on;const A=p.length,N=g.length,I=Math.min(A,N);let D;for(D=0;D<I;D++){const F=g[D]=R?bt(g[D]):rt(g[D]);_(p[D],F,m,null,S,E,O,T,R)}A>N?ze(p,S,E,!0,!1,I):ie(g,m,v,S,E,O,T,R,I)},mt=(p,g,m,v,S,E,O,T,R)=>{let A=0;const N=g.length;let I=p.length-1,D=N-1;for(;A<=I&&A<=D;){const F=p[A],K=g[A]=R?bt(g[A]):rt(g[A]);if(bn(F,K))_(F,K,m,null,S,E,O,T,R);else break;A++}for(;A<=I&&A<=D;){const F=p[I],K=g[D]=R?bt(g[D]):rt(g[D]);if(bn(F,K))_(F,K,m,null,S,E,O,T,R);else break;I--,D--}if(A>I){if(A<=D){const F=D+1,K=F<N?g[F].el:v;for(;A<=D;)_(null,g[A]=R?bt(g[A]):rt(g[A]),m,K,S,E,O,T,R),A++}}else if(A>D)for(;A<=I;)ke(p[A],S,E,!0),A++;else{const F=A,K=A,ne=new Map;for(A=K;A<=D;A++){const Le=g[A]=R?bt(g[A]):rt(g[A]);Le.key!=null&&ne.set(Le.key,A)}let Z,je=0;const Re=D-K+1;let Ye=!1,Ze=0;const vn=new Array(Re);for(A=0;A<Re;A++)vn[A]=0;for(A=F;A<=I;A++){const Le=p[A];if(je>=Re){ke(Le,S,E,!0);continue}let Xe;if(Le.key!=null)Xe=ne.get(Le.key);else for(Z=K;Z<=D;Z++)if(vn[Z-K]===0&&bn(Le,g[Z])){Xe=Z;break}Xe===void 0?ke(Le,S,E,!0):(vn[Xe-K]=A+1,Xe>=Ze?Ze=Xe:Ye=!0,_(Le,g[Xe],m,null,S,E,O,T,R),je++)}const ti=Ye?qc(vn):on;for(Z=ti.length-1,A=Re-1;A>=0;A--){const Le=K+A,Xe=g[Le],ni=Le+1<N?g[Le+1].el:v;vn[A]===0?_(null,Xe,m,ni,S,E,O,T,R):Ye&&(Z<0||A!==ti[Z]?Je(Xe,m,ni,2):Z--)}}},Je=(p,g,m,v,S=null)=>{const{el:E,type:O,transition:T,children:R,shapeFlag:A}=p;if(A&6){Je(p.component.subTree,g,m,v);return}if(A&128){p.suspense.move(g,m,v);return}if(A&64){O.move(p,g,m,M);return}if(O===$e){r(E,g,m);for(let I=0;I<R.length;I++)Je(R[I],g,m,v);r(p.anchor,g,m);return}if(O===Hr){C(p,g,m);return}if(v!==2&&A&1&&T)if(v===0)T.beforeEnter(E),r(E,g,m),Me(()=>T.enter(E),S);else{const{leave:I,delayLeave:D,afterLeave:F}=T,K=()=>r(E,g,m),ne=()=>{I(E,()=>{K(),F&&F()})};D?D(E,K,ne):ne()}else r(E,g,m)},ke=(p,g,m,v=!1,S=!1)=>{const{type:E,props:O,ref:T,children:R,dynamicChildren:A,shapeFlag:N,patchFlag:I,dirs:D,cacheIndex:F}=p;if(I===-2&&(S=!1),T!=null&&mr(T,null,m,p,!0),F!=null&&(g.renderCache[F]=void 0),N&256){g.ctx.deactivate(p);return}const K=N&1&&D,ne=!On(p);let Z;if(ne&&(Z=O&&O.onVnodeBeforeUnmount)&&et(Z,g,p),N&6)Zn(p.component,m,v);else{if(N&128){p.suspense.unmount(m,v);return}K&&Tt(p,null,g,"beforeUnmount"),N&64?p.type.remove(p,g,m,M,v):A&&!A.hasOnce&&(E!==$e||I>0&&I&64)?ze(A,g,m,!1,!0):(E===$e&&I&384||!S&&N&16)&&ze(R,g,m),v&&Ht(p)}(ne&&(Z=O&&O.onVnodeUnmounted)||K)&&Me(()=>{Z&&et(Z,g,p),K&&Tt(p,null,g,"unmounted")},m)},Ht=p=>{const{type:g,el:m,anchor:v,transition:S}=p;if(g===$e){Vt(m,v);return}if(g===Hr){P(p);return}const E=()=>{s(m),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(p.shapeFlag&1&&S&&!S.persisted){const{leave:O,delayLeave:T}=S,R=()=>O(m,E);T?T(p.el,E,R):R()}else E()},Vt=(p,g)=>{let m;for(;p!==g;)m=d(p),s(p),p=m;s(g)},Zn=(p,g,m)=>{const{bum:v,scope:S,job:E,subTree:O,um:T,m:R,a:A}=p;di(R),di(A),v&&lr(v),S.stop(),E&&(E.flags|=8,ke(O,p,g,m)),T&&Me(T,g),Me(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},ze=(p,g,m,v=!1,S=!1,E=0)=>{for(let O=E;O<p.length;O++)ke(p[O],g,m,v,S)},b=p=>{if(p.shapeFlag&6)return b(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=d(p.anchor||p.el),m=g&&g[hc];return m?d(m):g};let L=!1;const $=(p,g,m)=>{p==null?g._vnode&&ke(g._vnode,null,null,!0):_(g._vnode||null,p,g,null,null,null,m),g._vnode=p,L||(L=!0,oi(),ra(),L=!1)},M={p:_,um:ke,m:Je,r:Ht,mt:at,mc:ie,pc:W,pbc:ge,n:b,o:e};return{render:$,hydrate:void 0,createApp:Ic($)}}function qr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ot({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function zc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Pa(e,t,n=!1){const r=e.children,s=t.children;if(B(r)&&B(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=bt(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Pa(o,a)),a.type===Or&&(a.el=o.el)}}function qc(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=n[n.length-1],e[s]<c){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function Ca(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ca(t)}function di(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Hc=Symbol.for("v-scx"),Vc=()=>ue(Hc);function ur(e,t,n){return xa(e,t,n)}function xa(e,t,n=te){const{immediate:r,deep:s,flush:i,once:o}=n,a=Pe({},n),l=t&&r||!t&&i!=="post";let c;if(qn){if(i==="sync"){const h=Vc();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=it,h.resume=it,h.pause=it,h}}const u=Ae;a.call=(h,y,_)=>ot(h,u,y,_);let f=!1;i==="post"?a.scheduler=h=>{Me(h,u&&u.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(h,y)=>{y?h():Ds(h)}),a.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=cc(e,t,a);return qn&&(c?c.push(d):l&&d()),d}function Kc(e,t,n){const r=this.proxy,s=de(e)?e.includes(".")?Aa(r,e):()=>r[e]:e.bind(r,r);let i;q(t)?i=t:(i=t.handler,n=t);const o=Qn(this),a=xa(s,i.bind(r),n);return o(),a}function Aa(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Wc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${xt(t)}Modifiers`]||e[`${Bt(t)}Modifiers`];function Gc(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||te;let s=n;const i=t.startsWith("update:"),o=i&&Wc(r,t.slice(7));o&&(o.trim&&(s=n.map(u=>de(u)?u.trim():u)),o.number&&(s=n.map(ts)));let a,l=r[a=Dr(t)]||r[a=Dr(xt(t))];!l&&i&&(l=r[a=Dr(Bt(t))]),l&&ot(l,e,6,s);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ot(c,e,6,s)}}function ka(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!q(e)){const l=c=>{const u=ka(c,t,!0);u&&(a=!0,Pe(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(le(e)&&r.set(e,null),null):(B(i)?i.forEach(l=>o[l]=null):Pe(o,i),le(e)&&r.set(e,o),o)}function Tr(e,t){return!e||!Er(t)?!1:(t=t.slice(2).replace(/Once$/,""),J(e,t[0].toLowerCase()+t.slice(1))||J(e,Bt(t))||J(e,t))}function hi(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:f,data:d,setupState:h,ctx:y,inheritAttrs:_}=e,w=gr(e);let x,k;try{if(n.shapeFlag&4){const P=s||r,j=P;x=rt(c.call(j,P,u,f,h,d,y)),k=a}else{const P=t;x=rt(P.length>1?P(f,{attrs:a,slots:o,emit:l}):P(f,null)),k=t.props?a:Qc(a)}}catch(P){jn.length=0,kr(P,e,1),x=Ie(Ut)}let C=x;if(k&&_!==!1){const P=Object.keys(k),{shapeFlag:j}=C;P.length&&j&7&&(i&&P.some(Cs)&&(k=Jc(k,i)),C=dn(C,k,!1,!0))}return n.dirs&&(C=dn(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&Ns(C,n.transition),x=C,gr(w),x}const Qc=e=>{let t;for(const n in e)(n==="class"||n==="style"||Er(n))&&((t||(t={}))[n]=e[n]);return t},Jc=(e,t)=>{const n={};for(const r in e)(!Cs(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Yc(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?pi(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==r[d]&&!Tr(c,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?pi(r,o,c):!0:!!o;return!1}function pi(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Tr(n,i))return!0}return!1}function Zc({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Ra=e=>e.__isSuspense;function Xc(e,t){t&&t.pendingBranch?B(e)?t.effects.push(...e):t.effects.push(e):dc(e)}const $e=Symbol.for("v-fgt"),Or=Symbol.for("v-txt"),Ut=Symbol.for("v-cmt"),Hr=Symbol.for("v-stc"),jn=[];let Be=null;function ce(e=!1){jn.push(Be=e?null:[])}function eu(){jn.pop(),Be=jn[jn.length-1]||null}let zn=1;function gi(e,t=!1){zn+=e,e<0&&Be&&t&&(Be.hasOnce=!0)}function Ta(e){return e.dynamicChildren=zn>0?Be||on:null,eu(),zn>0&&Be&&Be.push(e),e}function pe(e,t,n,r,s,i){return Ta(ae(e,t,n,r,s,i,!0))}function $r(e,t,n,r,s){return Ta(Ie(e,t,n,r,s,!0))}function _r(e){return e?e.__v_isVNode===!0:!1}function bn(e,t){return e.type===t.type&&e.key===t.key}const Oa=({key:e})=>e??null,fr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?de(e)||Se(e)||q(e)?{i:qe,r:e,k:t,f:!!n}:e:null);function ae(e,t=null,n=null,r=0,s=null,i=e===$e?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Oa(t),ref:t&&fr(t),scopeId:ia,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:qe};return a?(Bs(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=de(n)?8:16),zn>0&&!o&&Be&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Be.push(l),l}const Ie=tu;function tu(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Cc)&&(e=Ut),_r(e)){const a=dn(e,t,!0);return n&&Bs(a,n),zn>0&&!i&&Be&&(a.shapeFlag&6?Be[Be.indexOf(e)]=a:Be.push(a)),a.patchFlag=-2,a}if(fu(e)&&(e=e.__vccOpts),t){t=nu(t);let{class:a,style:l}=t;a&&!de(a)&&(t.class=Rs(a)),le(l)&&(Ms(l)&&!B(l)&&(l=Pe({},l)),t.style=ks(l))}const o=de(e)?1:Ra(e)?128:pc(e)?64:le(e)?4:q(e)?2:0;return ae(e,t,n,r,s,o,i,!0)}function nu(e){return e?Ms(e)||ya(e)?Pe({},e):e:null}function dn(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=e,c=t?ru(s||{},t):s,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Oa(c),ref:t&&t.ref?n&&i?B(i)?i.concat(fr(t)):[i,fr(t)]:fr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==$e?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&dn(e.ssContent),ssFallback:e.ssFallback&&dn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Ns(u,l.clone(u)),u}function $a(e=" ",t=0){return Ie(Or,null,e,t)}function Ia(e="",t=!1){return t?(ce(),$r(Ut,null,e)):Ie(Ut,null,e)}function rt(e){return e==null||typeof e=="boolean"?Ie(Ut):B(e)?Ie($e,null,e.slice()):_r(e)?bt(e):Ie(Or,null,String(e))}function bt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:dn(e)}function Bs(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(B(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Bs(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!ya(t)?t._ctx=qe:s===3&&qe&&(qe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else q(t)?(t={default:t,_ctx:qe},n=32):(t=String(t),r&64?(n=16,t=[$a(t)]):n=8);e.children=t,e.shapeFlag|=n}function ru(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Rs([t.class,r.class]));else if(s==="style")t.style=ks([t.style,r.style]);else if(Er(s)){const i=t[s],o=r[s];o&&i!==o&&!(B(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function et(e,t,n,r=null){ot(e,t,7,[n,r])}const su=pa();let iu=0;function ou(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||su,i={uid:iu++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ml(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:va(r,s),emitsOptions:ka(r,s),emit:null,emitted:null,propsDefaults:te,inheritAttrs:r.inheritAttrs,ctx:te,data:te,props:te,attrs:te,slots:te,refs:te,setupState:te,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Gc.bind(null,i),e.ce&&e.ce(i),i}let Ae=null,vr,fs;{const e=Cr(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};vr=t("__VUE_INSTANCE_SETTERS__",n=>Ae=n),fs=t("__VUE_SSR_SETTERS__",n=>qn=n)}const Qn=e=>{const t=Ae;return vr(e),e.scope.on(),()=>{e.scope.off(),vr(t)}},mi=()=>{Ae&&Ae.scope.off(),vr(null)};function ja(e){return e.vnode.shapeFlag&4}let qn=!1;function au(e,t=!1,n=!1){t&&fs(t);const{props:r,children:s}=e.vnode,i=ja(e);jc(e,r,i,t),Nc(e,s,n);const o=i?lu(e,t):void 0;return t&&fs(!1),o}function lu(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,xc);const{setup:r}=n;if(r){kt();const s=e.setupContext=r.length>1?uu(e):null,i=Qn(e),o=Wn(r,e,0,[e.props,s]),a=ko(o);if(Rt(),i(),(a||e.sp)&&!On(e)&&la(e),a){if(o.then(mi,mi),t)return o.then(l=>{yi(e,l)}).catch(l=>{kr(l,e,0)});e.asyncDep=o}else yi(e,o)}else La(e)}function yi(e,t,n){q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:le(t)&&(e.setupState=Xo(t)),La(e)}function La(e,t,n){const r=e.type;e.render||(e.render=r.render||it);{const s=Qn(e);kt();try{Ac(e)}finally{Rt(),s()}}}const cu={get(e,t){return we(e,"get",""),e[t]}};function uu(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,cu),slots:e.slots,emit:e.emit,expose:t}}function Ir(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Xo(nc(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in $n)return $n[n](e)},has(t,n){return n in t||n in $n}})):e.proxy}function fu(e){return q(e)&&"__vccOpts"in e}const Fe=(e,t)=>ac(e,t,qn);function Oe(e,t,n){const r=arguments.length;return r===2?le(t)&&!B(t)?_r(t)?Ie(e,null,[t]):Ie(e,t):Ie(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&_r(n)&&(n=[n]),Ie(e,t,n))}const du="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ds;const _i=typeof window<"u"&&window.trustedTypes;if(_i)try{ds=_i.createPolicy("vue",{createHTML:e=>e})}catch{}const Ma=ds?e=>ds.createHTML(e):e=>e,hu="http://www.w3.org/2000/svg",pu="http://www.w3.org/1998/Math/MathML",ft=typeof document<"u"?document:null,vi=ft&&ft.createElement("template"),gu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?ft.createElementNS(hu,e):t==="mathml"?ft.createElementNS(pu,e):n?ft.createElement(e,{is:n}):ft.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>ft.createTextNode(e),createComment:e=>ft.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ft.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{vi.innerHTML=Ma(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=vi.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},mu=Symbol("_vtc");function yu(e,t,n){const r=e[mu];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const wi=Symbol("_vod"),_u=Symbol("_vsh"),vu=Symbol(""),wu=/(^|;)\s*display\s*:/;function bu(e,t,n){const r=e.style,s=de(n);let i=!1;if(n&&!s){if(t)if(de(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&dr(r,a,"")}else for(const o in t)n[o]==null&&dr(r,o,"");for(const o in n)o==="display"&&(i=!0),dr(r,o,n[o])}else if(s){if(t!==n){const o=r[vu];o&&(n+=";"+o),r.cssText=n,i=wu.test(n)}}else t&&e.removeAttribute("style");wi in e&&(e[wi]=i?r.display:"",e[_u]&&(r.display="none"))}const bi=/\s*!important$/;function dr(e,t,n){if(B(n))n.forEach(r=>dr(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Eu(e,t);bi.test(n)?e.setProperty(Bt(r),n.replace(bi,""),"important"):e[r]=n}}const Ei=["Webkit","Moz","ms"],Vr={};function Eu(e,t){const n=Vr[t];if(n)return n;let r=xt(t);if(r!=="filter"&&r in e)return Vr[t]=r;r=Oo(r);for(let s=0;s<Ei.length;s++){const i=Ei[s]+r;if(i in e)return Vr[t]=i}return t}const Si="http://www.w3.org/1999/xlink";function Pi(e,t,n,r,s,i=Ll(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Si,t.slice(6,t.length)):e.setAttributeNS(Si,t,n):n==null||i&&!Io(n)?e.removeAttribute(t):e.setAttribute(t,i?"":At(n)?String(n):n)}function Ci(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Ma(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Io(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(s||t)}function nn(e,t,n,r){e.addEventListener(t,n,r)}function Su(e,t,n,r){e.removeEventListener(t,n,r)}const xi=Symbol("_vei");function Pu(e,t,n,r,s=null){const i=e[xi]||(e[xi]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=Cu(t);if(r){const c=i[t]=ku(r,s);nn(e,a,c,l)}else o&&(Su(e,a,o,l),i[t]=void 0)}}const Ai=/(?:Once|Passive|Capture)$/;function Cu(e){let t;if(Ai.test(e)){t={};let r;for(;r=e.match(Ai);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Bt(e.slice(2)),t]}let Kr=0;const xu=Promise.resolve(),Au=()=>Kr||(xu.then(()=>Kr=0),Kr=Date.now());function ku(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ot(Ru(r,n.value),t,5,[r])};return n.value=e,n.attached=Au(),n}function Ru(e,t){if(B(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const ki=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Tu=(e,t,n,r,s,i)=>{const o=s==="svg";t==="class"?yu(e,r,o):t==="style"?bu(e,n,r):Er(t)?Cs(t)||Pu(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ou(e,t,r,o))?(Ci(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Pi(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!de(r))?Ci(e,xt(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Pi(e,t,r,o))};function Ou(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&ki(t)&&q(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return ki(t)&&de(n)?!1:t in e}const Ri=e=>{const t=e.props["onUpdate:modelValue"]||!1;return B(t)?n=>lr(t,n):t};function $u(e){e.target.composing=!0}function Ti(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Wr=Symbol("_assign"),Da={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[Wr]=Ri(s);const i=r||s.props&&s.props.type==="number";nn(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=ts(a)),e[Wr](a)}),n&&nn(e,"change",()=>{e.value=e.value.trim()}),t||(nn(e,"compositionstart",$u),nn(e,"compositionend",Ti),nn(e,"change",Ti))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(e[Wr]=Ri(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?ts(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===l)||(e.value=l))}},Iu=["ctrl","shift","alt","meta"],ju={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Iu.some(n=>e[`${n}Key`]&&!t.includes(n))},Lu=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<t.length;o++){const a=ju[t[o]];if(a&&a(s,t))return}return e(s,...i)})},Mu=Pe({patchProp:Tu},gu);let Oi;function Du(){return Oi||(Oi=Fc(Mu))}const Nu=(...e)=>{const t=Du().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Fu(r);if(!s)return;const i=t._component;!q(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,Uu(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function Uu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Fu(e){return de(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const rn=typeof document<"u";function Na(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Bu(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Na(e.default)}const G=Object.assign;function Gr(e,t){const n={};for(const r in t){const s=t[r];n[r]=Qe(s)?s.map(e):e(s)}return n}const Ln=()=>{},Qe=Array.isArray,Ua=/#/g,zu=/&/g,qu=/\//g,Hu=/=/g,Vu=/\?/g,Fa=/\+/g,Ku=/%5B/g,Wu=/%5D/g,Ba=/%5E/g,Gu=/%60/g,za=/%7B/g,Qu=/%7C/g,qa=/%7D/g,Ju=/%20/g;function zs(e){return encodeURI(""+e).replace(Qu,"|").replace(Ku,"[").replace(Wu,"]")}function Yu(e){return zs(e).replace(za,"{").replace(qa,"}").replace(Ba,"^")}function hs(e){return zs(e).replace(Fa,"%2B").replace(Ju,"+").replace(Ua,"%23").replace(zu,"%26").replace(Gu,"`").replace(za,"{").replace(qa,"}").replace(Ba,"^")}function Zu(e){return hs(e).replace(Hu,"%3D")}function Xu(e){return zs(e).replace(Ua,"%23").replace(Vu,"%3F")}function ef(e){return e==null?"":Xu(e).replace(qu,"%2F")}function Hn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const tf=/\/$/,nf=e=>e.replace(tf,"");function Qr(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),s=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=af(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Hn(o)}}function rf(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function $i(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function sf(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&hn(t.matched[r],n.matched[s])&&Ha(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function hn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ha(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!of(e[n],t[n]))return!1;return!0}function of(e,t){return Qe(e)?Ii(e,t):Qe(t)?Ii(t,e):e===t}function Ii(e,t){return Qe(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function af(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const yt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Vn;(function(e){e.pop="pop",e.push="push"})(Vn||(Vn={}));var Mn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Mn||(Mn={}));function lf(e){if(!e)if(rn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),nf(e)}const cf=/^[^#]+#/;function uf(e,t){return e.replace(cf,"#")+t}function ff(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const jr=()=>({left:window.scrollX,top:window.scrollY});function df(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=ff(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ji(e,t){return(history.state?history.state.position-t:-1)+e}const ps=new Map;function hf(e,t){ps.set(e,t)}function pf(e){const t=ps.get(e);return ps.delete(e),t}let gf=()=>location.protocol+"//"+location.host;function Va(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),$i(l,"")}return $i(n,e)+r+s}function mf(e,t,n,r){let s=[],i=[],o=null;const a=({state:d})=>{const h=Va(e,location),y=n.value,_=t.value;let w=0;if(d){if(n.value=h,t.value=d,o&&o===y){o=null;return}w=_?d.position-_.position:0}else r(h);s.forEach(x=>{x(n.value,y,{delta:w,type:Vn.pop,direction:w?w>0?Mn.forward:Mn.back:Mn.unknown})})};function l(){o=n.value}function c(d){s.push(d);const h=()=>{const y=s.indexOf(d);y>-1&&s.splice(y,1)};return i.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(G({},d.state,{scroll:jr()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function Li(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?jr():null}}function yf(e){const{history:t,location:n}=window,r={value:Va(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:gf()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),s.value=c}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function o(l,c){const u=G({},t.state,Li(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=G({},s.value,t.state,{forward:l,scroll:jr()});i(u.current,u,!0);const f=G({},Li(r.value,l,null),{position:u.position+1},c);i(l,f,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function _f(e){e=lf(e);const t=yf(e),n=mf(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=G({location:"",base:e,go:r,createHref:uf.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function vf(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),_f(e)}function wf(e){return typeof e=="string"||e&&typeof e=="object"}function Ka(e){return typeof e=="string"||typeof e=="symbol"}const Wa=Symbol("");var Mi;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Mi||(Mi={}));function pn(e,t){return G(new Error,{type:e,[Wa]:!0},t)}function ut(e,t){return e instanceof Error&&Wa in e&&(t==null||!!(e.type&t))}const Di="[^/]+?",bf={sensitive:!1,strict:!1,start:!0,end:!0},Ef=/[.+*?^${}()[\]/\\]/g;function Sf(e,t){const n=G({},bf,t),r=[];let s=n.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(s+="/"),s+=d.value.replace(Ef,"\\$&"),h+=40;else if(d.type===1){const{value:y,repeatable:_,optional:w,regexp:x}=d;i.push({name:y,repeatable:_,optional:w});const k=x||Di;if(k!==Di){h+=10;try{new RegExp(`(${k})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${y}" (${k}): `+P.message)}}let C=_?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;f||(C=w&&c.length<2?`(?:/${C})`:"/"+C),w&&(C+="?"),s+=C,h+=20,w&&(h+=-8),_&&(h+=-20),k===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",y=i[d-1];f[y.name]=h&&y.repeatable?h.split("/"):h}return f}function l(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:y,repeatable:_,optional:w}=h,x=y in c?c[y]:"";if(Qe(x)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const k=Qe(x)?x.join("/"):x;if(!k)if(w)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);u+=k}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Pf(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Ga(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=Pf(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Ni(r))return 1;if(Ni(s))return-1}return s.length-r.length}function Ni(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Cf={type:0,value:""},xf=/[a-zA-Z0-9_]/;function Af(e){if(!e)return[[]];if(e==="/")return[[Cf]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",u="";function f(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:xf.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),o(),s}function kf(e,t,n){const r=Sf(Af(e.path),n),s=G(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Rf(e,t){const n=[],r=new Map;t=zi({strict:!1,end:!0,sensitive:!1},t);function s(f){return r.get(f)}function i(f,d,h){const y=!h,_=Fi(f);_.aliasOf=h&&h.record;const w=zi(t,f),x=[_];if("alias"in f){const P=typeof f.alias=="string"?[f.alias]:f.alias;for(const j of P)x.push(Fi(G({},_,{components:h?h.record.components:_.components,path:j,aliasOf:h?h.record:_})))}let k,C;for(const P of x){const{path:j}=P;if(d&&j[0]!=="/"){const z=d.record.path,U=z[z.length-1]==="/"?"":"/";P.path=d.record.path+(j&&U+j)}if(k=kf(P,d,w),h?h.alias.push(k):(C=C||k,C!==k&&C.alias.push(k),y&&f.name&&!Bi(k)&&o(f.name)),Qa(k)&&l(k),_.children){const z=_.children;for(let U=0;U<z.length;U++)i(z[U],k,h&&h.children[U])}h=h||k}return C?()=>{o(C)}:Ln}function o(f){if(Ka(f)){const d=r.get(f);d&&(r.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const d=$f(f,n);n.splice(d,0,f),f.record.name&&!Bi(f)&&r.set(f.record.name,f)}function c(f,d){let h,y={},_,w;if("name"in f&&f.name){if(h=r.get(f.name),!h)throw pn(1,{location:f});w=h.record.name,y=G(Ui(d.params,h.keys.filter(C=>!C.optional).concat(h.parent?h.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),f.params&&Ui(f.params,h.keys.map(C=>C.name))),_=h.stringify(y)}else if(f.path!=null)_=f.path,h=n.find(C=>C.re.test(_)),h&&(y=h.parse(_),w=h.record.name);else{if(h=d.name?r.get(d.name):n.find(C=>C.re.test(d.path)),!h)throw pn(1,{location:f,currentLocation:d});w=h.record.name,y=G({},d.params,f.params),_=h.stringify(y)}const x=[];let k=h;for(;k;)x.unshift(k.record),k=k.parent;return{name:w,path:_,params:y,matched:x,meta:Of(x)}}e.forEach(f=>i(f));function u(){n.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function Ui(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Fi(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Tf(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Tf(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Bi(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Of(e){return e.reduce((t,n)=>G(t,n.meta),{})}function zi(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function $f(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;Ga(e,t[i])<0?r=i:n=i+1}const s=If(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function If(e){let t=e;for(;t=t.parent;)if(Qa(t)&&Ga(e,t)===0)return t}function Qa({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function jf(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Fa," "),o=i.indexOf("="),a=Hn(o<0?i:i.slice(0,o)),l=o<0?null:Hn(i.slice(o+1));if(a in t){let c=t[a];Qe(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function qi(e){let t="";for(let n in e){const r=e[n];if(n=Zu(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Qe(r)?r.map(i=>i&&hs(i)):[r&&hs(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Lf(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Qe(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const Mf=Symbol(""),Hi=Symbol(""),Lr=Symbol(""),qs=Symbol(""),gs=Symbol("");function En(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Et(e,t,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(pn(4,{from:n,to:t})):d instanceof Error?l(d):wf(d)?l(pn(2,{from:t,to:d})):(o&&r.enterCallbacks[s]===o&&typeof d=="function"&&o.push(d),a())},u=i(()=>e.call(r&&r.instances[s],t,n,c));let f=Promise.resolve(u);e.length<3&&(f=f.then(c)),f.catch(d=>l(d))})}function Jr(e,t,n,r,s=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Na(l)){const u=(l.__vccOpts||l)[t];u&&i.push(Et(u,n,r,o,a,s))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=Bu(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const h=(f.__vccOpts||f)[t];return h&&Et(h,n,r,o,a,s)()}))}}return i}function Vi(e){const t=ue(Lr),n=ue(qs),r=Fe(()=>{const l=Ee(e.to);return t.resolve(l)}),s=Fe(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(hn.bind(null,u));if(d>-1)return d;const h=Ki(l[c-2]);return c>1&&Ki(u)===h&&f[f.length-1].path!==h?f.findIndex(hn.bind(null,l[c-2])):d}),i=Fe(()=>s.value>-1&&Ff(n.params,r.value.params)),o=Fe(()=>s.value>-1&&s.value===n.matched.length-1&&Ha(n.params,r.value.params));function a(l={}){if(Uf(l)){const c=t[Ee(e.replace)?"replace":"push"](Ee(e.to)).catch(Ln);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:Fe(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function Df(e){return e.length===1?e[0]:e}const Nf=Ve({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Vi,setup(e,{slots:t}){const n=Ar(Vi(e)),{options:r}=ue(Lr),s=Fe(()=>({[Wi(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Wi(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&Df(t.default(n));return e.custom?i:Oe("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Ja=Nf;function Uf(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ff(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Qe(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Ki(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Wi=(e,t,n)=>e??t??n,Bf=Ve({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=ue(gs),s=Fe(()=>e.route||r.value),i=ue(Hi,0),o=Fe(()=>{let c=Ee(i);const{matched:u}=s.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=Fe(()=>s.value.matched[o.value]);In(Hi,Fe(()=>o.value+1)),In(Mf,a),In(gs,s);const l=ve();return ur(()=>[l.value,a.value,e.name],([c,u,f],[d,h,y])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!hn(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=s.value,u=e.name,f=a.value,d=f&&f.components[u];if(!d)return Gi(n.default,{Component:d,route:c});const h=f.props[u],y=h?h===!0?c.params:typeof h=="function"?h(c):h:null,w=Oe(d,G({},y,t,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return Gi(n.default,{Component:w,route:c})||w}}});function Gi(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Hs=Bf;function zf(e){const t=Rf(e.routes,e),n=e.parseQuery||jf,r=e.stringifyQuery||qi,s=e.history,i=En(),o=En(),a=En(),l=rc(yt);let c=yt;rn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Gr.bind(null,b=>""+b),f=Gr.bind(null,ef),d=Gr.bind(null,Hn);function h(b,L){let $,M;return Ka(b)?($=t.getRecordMatcher(b),M=L):M=b,t.addRoute(M,$)}function y(b){const L=t.getRecordMatcher(b);L&&t.removeRoute(L)}function _(){return t.getRoutes().map(b=>b.record)}function w(b){return!!t.getRecordMatcher(b)}function x(b,L){if(L=G({},L||l.value),typeof b=="string"){const m=Qr(n,b,L.path),v=t.resolve({path:m.path},L),S=s.createHref(m.fullPath);return G(m,v,{params:d(v.params),hash:Hn(m.hash),redirectedFrom:void 0,href:S})}let $;if(b.path!=null)$=G({},b,{path:Qr(n,b.path,L.path).path});else{const m=G({},b.params);for(const v in m)m[v]==null&&delete m[v];$=G({},b,{params:f(m)}),L.params=f(L.params)}const M=t.resolve($,L),ee=b.hash||"";M.params=u(d(M.params));const p=rf(r,G({},b,{hash:Yu(ee),path:M.path})),g=s.createHref(p);return G({fullPath:p,hash:ee,query:r===qi?Lf(b.query):b.query||{}},M,{redirectedFrom:void 0,href:g})}function k(b){return typeof b=="string"?Qr(n,b,l.value.path):G({},b)}function C(b,L){if(c!==b)return pn(8,{from:L,to:b})}function P(b){return U(b)}function j(b){return P(G(k(b),{replace:!0}))}function z(b){const L=b.matched[b.matched.length-1];if(L&&L.redirect){const{redirect:$}=L;let M=typeof $=="function"?$(b):$;return typeof M=="string"&&(M=M.includes("?")||M.includes("#")?M=k(M):{path:M},M.params={}),G({query:b.query,hash:b.hash,params:M.path!=null?{}:b.params},M)}}function U(b,L){const $=c=x(b),M=l.value,ee=b.state,p=b.force,g=b.replace===!0,m=z($);if(m)return U(G(k(m),{state:typeof m=="object"?G({},ee,m.state):ee,force:p,replace:g}),L||$);const v=$;v.redirectedFrom=L;let S;return!p&&sf(r,M,$)&&(S=pn(16,{to:v,from:M}),Je(M,M,!0,!1)),(S?Promise.resolve(S):ge(v,M)).catch(E=>ut(E)?ut(E,2)?E:mt(E):W(E,v,M)).then(E=>{if(E){if(ut(E,2))return U(G({replace:g},k(E.to),{state:typeof E.to=="object"?G({},ee,E.to.state):ee,force:p}),L||v)}else E=he(v,M,!0,g,ee);return me(v,M,E),E})}function ie(b,L){const $=C(b,L);return $?Promise.reject($):Promise.resolve()}function oe(b){const L=Vt.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(b):b()}function ge(b,L){let $;const[M,ee,p]=qf(b,L);$=Jr(M.reverse(),"beforeRouteLeave",b,L);for(const m of M)m.leaveGuards.forEach(v=>{$.push(Et(v,b,L))});const g=ie.bind(null,b,L);return $.push(g),ze($).then(()=>{$=[];for(const m of i.list())$.push(Et(m,b,L));return $.push(g),ze($)}).then(()=>{$=Jr(ee,"beforeRouteUpdate",b,L);for(const m of ee)m.updateGuards.forEach(v=>{$.push(Et(v,b,L))});return $.push(g),ze($)}).then(()=>{$=[];for(const m of p)if(m.beforeEnter)if(Qe(m.beforeEnter))for(const v of m.beforeEnter)$.push(Et(v,b,L));else $.push(Et(m.beforeEnter,b,L));return $.push(g),ze($)}).then(()=>(b.matched.forEach(m=>m.enterCallbacks={}),$=Jr(p,"beforeRouteEnter",b,L,oe),$.push(g),ze($))).then(()=>{$=[];for(const m of o.list())$.push(Et(m,b,L));return $.push(g),ze($)}).catch(m=>ut(m,8)?m:Promise.reject(m))}function me(b,L,$){a.list().forEach(M=>oe(()=>M(b,L,$)))}function he(b,L,$,M,ee){const p=C(b,L);if(p)return p;const g=L===yt,m=rn?history.state:{};$&&(M||g?s.replace(b.fullPath,G({scroll:g&&m&&m.scroll},ee)):s.push(b.fullPath,ee)),l.value=b,Je(b,L,$,g),mt()}let Y;function at(){Y||(Y=s.listen((b,L,$)=>{if(!Zn.listening)return;const M=x(b),ee=z(M);if(ee){U(G(ee,{replace:!0,force:!0}),M).catch(Ln);return}c=M;const p=l.value;rn&&hf(ji(p.fullPath,$.delta),jr()),ge(M,p).catch(g=>ut(g,12)?g:ut(g,2)?(U(G(k(g.to),{force:!0}),M).then(m=>{ut(m,20)&&!$.delta&&$.type===Vn.pop&&s.go(-1,!1)}).catch(Ln),Promise.reject()):($.delta&&s.go(-$.delta,!1),W(g,M,p))).then(g=>{g=g||he(M,p,!1),g&&($.delta&&!ut(g,8)?s.go(-$.delta,!1):$.type===Vn.pop&&ut(g,20)&&s.go(-1,!1)),me(M,p,g)}).catch(Ln)}))}let Ke=En(),fe=En(),X;function W(b,L,$){mt(b);const M=fe.list();return M.length?M.forEach(ee=>ee(b,L,$)):console.error(b),Promise.reject(b)}function lt(){return X&&l.value!==yt?Promise.resolve():new Promise((b,L)=>{Ke.add([b,L])})}function mt(b){return X||(X=!b,at(),Ke.list().forEach(([L,$])=>b?$(b):L()),Ke.reset()),b}function Je(b,L,$,M){const{scrollBehavior:ee}=e;if(!rn||!ee)return Promise.resolve();const p=!$&&pf(ji(b.fullPath,0))||(M||!$)&&history.state&&history.state.scroll||null;return ta().then(()=>ee(b,L,p)).then(g=>g&&df(g)).catch(g=>W(g,b,L))}const ke=b=>s.go(b);let Ht;const Vt=new Set,Zn={currentRoute:l,listening:!0,addRoute:h,removeRoute:y,clearRoutes:t.clearRoutes,hasRoute:w,getRoutes:_,resolve:x,options:e,push:P,replace:j,go:ke,back:()=>ke(-1),forward:()=>ke(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:fe.add,isReady:lt,install(b){const L=this;b.component("RouterLink",Ja),b.component("RouterView",Hs),b.config.globalProperties.$router=L,Object.defineProperty(b.config.globalProperties,"$route",{enumerable:!0,get:()=>Ee(l)}),rn&&!Ht&&l.value===yt&&(Ht=!0,P(s.location).catch(ee=>{}));const $={};for(const ee in yt)Object.defineProperty($,ee,{get:()=>l.value[ee],enumerable:!0});b.provide(Lr,L),b.provide(qs,Jo($)),b.provide(gs,l);const M=b.unmount;Vt.add(b),b.unmount=function(){Vt.delete(b),Vt.size<1&&(c=yt,Y&&Y(),Y=null,l.value=yt,Ht=!1,X=!1),M()}}};function ze(b){return b.reduce((L,$)=>L.then(()=>oe($)),Promise.resolve())}return Zn}function qf(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>hn(c,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>hn(c,l))||s.push(l))}return[n,r,s]}function Jn(){return ue(Lr)}function Vs(e){return ue(qs)}const Hf=Ve({__name:"App",setup(e){return(t,n)=>(ce(),$r(Ee(Hs)))}}),Vf={showNotification:e=>alert(e)};/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 * © 2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var st=function(){return st=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},st.apply(this,arguments)};var Ft;(function(e){var t=function(){function o(a,l,c,u){if(this.version=a,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version value out of range");if(u<-1||u>7)throw new RangeError("Mask value out of range");this.size=a*4+17;for(var f=[],d=0;d<this.size;d++)f.push(!1);for(var d=0;d<this.size;d++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();var h=this.addEccAndInterleave(c);if(this.drawCodewords(h),u==-1)for(var y=1e9,d=0;d<8;d++){this.applyMask(d),this.drawFormatBits(d);var _=this.getPenaltyScore();_<y&&(u=d,y=_),this.applyMask(d)}s(0<=u&&u<=7),this.mask=u,this.applyMask(u),this.drawFormatBits(u),this.isFunction=[]}return o.encodeText=function(a,l){var c=e.QrSegment.makeSegments(a);return o.encodeSegments(c,l)},o.encodeBinary=function(a,l){var c=e.QrSegment.makeBytes(a);return o.encodeSegments([c],l)},o.encodeSegments=function(a,l,c,u,f,d){if(c===void 0&&(c=1),u===void 0&&(u=40),f===void 0&&(f=-1),d===void 0&&(d=!0),!(o.MIN_VERSION<=c&&c<=u&&u<=o.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");var h,y;for(h=c;;h++){var _=o.getNumDataCodewords(h,l)*8,w=i.getTotalBits(a,h);if(w<=_){y=w;break}if(h>=u)throw new RangeError("Data too long")}for(var x=0,k=[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH];x<k.length;x++){var C=k[x];d&&y<=o.getNumDataCodewords(h,C)*8&&(l=C)}for(var P=[],j=0,z=a;j<z.length;j++){var U=z[j];n(U.mode.modeBits,4,P),n(U.numChars,U.mode.numCharCountBits(h),P);for(var ie=0,oe=U.getData();ie<oe.length;ie++){var ge=oe[ie];P.push(ge)}}s(P.length==y);var me=o.getNumDataCodewords(h,l)*8;s(P.length<=me),n(0,Math.min(4,me-P.length),P),n(0,(8-P.length%8)%8,P),s(P.length%8==0);for(var he=236;P.length<me;he^=253)n(he,8,P);for(var Y=[];Y.length*8<P.length;)Y.push(0);return P.forEach(function(at,Ke){return Y[Ke>>>3]|=at<<7-(Ke&7)}),new o(h,l,Y,f)},o.prototype.getModule=function(a,l){return 0<=a&&a<this.size&&0<=l&&l<this.size&&this.modules[l][a]},o.prototype.getModules=function(){return this.modules},o.prototype.drawFunctionPatterns=function(){for(var a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var l=this.getAlignmentPatternPositions(),c=l.length,a=0;a<c;a++)for(var u=0;u<c;u++)a==0&&u==0||a==0&&u==c-1||a==c-1&&u==0||this.drawAlignmentPattern(l[a],l[u]);this.drawFormatBits(0),this.drawVersion()},o.prototype.drawFormatBits=function(a){for(var l=this.errorCorrectionLevel.formatBits<<3|a,c=l,u=0;u<10;u++)c=c<<1^(c>>>9)*1335;var f=(l<<10|c)^21522;s(f>>>15==0);for(var u=0;u<=5;u++)this.setFunctionModule(8,u,r(f,u));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(var u=9;u<15;u++)this.setFunctionModule(14-u,8,r(f,u));for(var u=0;u<8;u++)this.setFunctionModule(this.size-1-u,8,r(f,u));for(var u=8;u<15;u++)this.setFunctionModule(8,this.size-15+u,r(f,u));this.setFunctionModule(8,this.size-8,!0)},o.prototype.drawVersion=function(){if(!(this.version<7)){for(var a=this.version,l=0;l<12;l++)a=a<<1^(a>>>11)*7973;var c=this.version<<12|a;s(c>>>18==0);for(var l=0;l<18;l++){var u=r(c,l),f=this.size-11+l%3,d=Math.floor(l/3);this.setFunctionModule(f,d,u),this.setFunctionModule(d,f,u)}}},o.prototype.drawFinderPattern=function(a,l){for(var c=-4;c<=4;c++)for(var u=-4;u<=4;u++){var f=Math.max(Math.abs(u),Math.abs(c)),d=a+u,h=l+c;0<=d&&d<this.size&&0<=h&&h<this.size&&this.setFunctionModule(d,h,f!=2&&f!=4)}},o.prototype.drawAlignmentPattern=function(a,l){for(var c=-2;c<=2;c++)for(var u=-2;u<=2;u++)this.setFunctionModule(a+u,l+c,Math.max(Math.abs(u),Math.abs(c))!=1)},o.prototype.setFunctionModule=function(a,l,c){this.modules[l][a]=c,this.isFunction[l][a]=!0},o.prototype.addEccAndInterleave=function(a){var l=this.version,c=this.errorCorrectionLevel;if(a.length!=o.getNumDataCodewords(l,c))throw new RangeError("Invalid argument");for(var u=o.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l],f=o.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l],d=Math.floor(o.getNumRawDataModules(l)/8),h=u-d%u,y=Math.floor(d/u),_=[],w=o.reedSolomonComputeDivisor(f),x=0,k=0;x<u;x++){var C=a.slice(k,k+y-f+(x<h?0:1));k+=C.length;var P=o.reedSolomonComputeRemainder(C,w);x<h&&C.push(0),_.push(C.concat(P))}for(var j=[],z=function(U){_.forEach(function(ie,oe){(U!=y-f||oe>=h)&&j.push(ie[U])})},x=0;x<_[0].length;x++)z(x);return s(j.length==d),j},o.prototype.drawCodewords=function(a){if(a.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var l=0,c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(var u=0;u<this.size;u++)for(var f=0;f<2;f++){var d=c-f,h=(c+1&2)==0,y=h?this.size-1-u:u;!this.isFunction[y][d]&&l<a.length*8&&(this.modules[y][d]=r(a[l>>>3],7-(l&7)),l++)}}s(l==a.length*8)},o.prototype.applyMask=function(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(var l=0;l<this.size;l++)for(var c=0;c<this.size;c++){var u=void 0;switch(a){case 0:u=(c+l)%2==0;break;case 1:u=l%2==0;break;case 2:u=c%3==0;break;case 3:u=(c+l)%3==0;break;case 4:u=(Math.floor(c/3)+Math.floor(l/2))%2==0;break;case 5:u=c*l%2+c*l%3==0;break;case 6:u=(c*l%2+c*l%3)%2==0;break;case 7:u=((c+l)%2+c*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][c]&&u&&(this.modules[l][c]=!this.modules[l][c])}},o.prototype.getPenaltyScore=function(){for(var a=0,l=0;l<this.size;l++){for(var c=!1,u=0,f=[0,0,0,0,0,0,0],d=0;d<this.size;d++)this.modules[l][d]==c?(u++,u==5?a+=o.PENALTY_N1:u>5&&a++):(this.finderPenaltyAddHistory(u,f),c||(a+=this.finderPenaltyCountPatterns(f)*o.PENALTY_N3),c=this.modules[l][d],u=1);a+=this.finderPenaltyTerminateAndCount(c,u,f)*o.PENALTY_N3}for(var d=0;d<this.size;d++){for(var c=!1,h=0,f=[0,0,0,0,0,0,0],l=0;l<this.size;l++)this.modules[l][d]==c?(h++,h==5?a+=o.PENALTY_N1:h>5&&a++):(this.finderPenaltyAddHistory(h,f),c||(a+=this.finderPenaltyCountPatterns(f)*o.PENALTY_N3),c=this.modules[l][d],h=1);a+=this.finderPenaltyTerminateAndCount(c,h,f)*o.PENALTY_N3}for(var l=0;l<this.size-1;l++)for(var d=0;d<this.size-1;d++){var y=this.modules[l][d];y==this.modules[l][d+1]&&y==this.modules[l+1][d]&&y==this.modules[l+1][d+1]&&(a+=o.PENALTY_N2)}for(var _=0,w=0,x=this.modules;w<x.length;w++){var k=x[w];_=k.reduce(function(j,z){return j+(z?1:0)},_)}var C=this.size*this.size,P=Math.ceil(Math.abs(_*20-C*10)/C)-1;return s(0<=P&&P<=9),a+=P*o.PENALTY_N4,s(0<=a&&a<=2568888),a},o.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var a=Math.floor(this.version/7)+2,l=Math.floor((this.version*8+a*3+5)/(a*4-4))*2,c=[6],u=this.size-7;c.length<a;u-=l)c.splice(1,0,u);return c},o.getNumRawDataModules=function(a){if(a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version number out of range");var l=(16*a+128)*a+64;if(a>=2){var c=Math.floor(a/7)+2;l-=(25*c-10)*c-55,a>=7&&(l-=36)}return s(208<=l&&l<=29648),l},o.getNumDataCodewords=function(a,l){return Math.floor(o.getNumRawDataModules(a)/8)-o.ECC_CODEWORDS_PER_BLOCK[l.ordinal][a]*o.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][a]},o.reedSolomonComputeDivisor=function(a){if(a<1||a>255)throw new RangeError("Degree out of range");for(var l=[],c=0;c<a-1;c++)l.push(0);l.push(1);for(var u=1,c=0;c<a;c++){for(var f=0;f<l.length;f++)l[f]=o.reedSolomonMultiply(l[f],u),f+1<l.length&&(l[f]^=l[f+1]);u=o.reedSolomonMultiply(u,2)}return l},o.reedSolomonComputeRemainder=function(a,l){for(var c=l.map(function(y){return 0}),u=function(y){var _=y^c.shift();c.push(0),l.forEach(function(w,x){return c[x]^=o.reedSolomonMultiply(w,_)})},f=0,d=a;f<d.length;f++){var h=d[f];u(h)}return c},o.reedSolomonMultiply=function(a,l){if(a>>>8||l>>>8)throw new RangeError("Byte out of range");for(var c=0,u=7;u>=0;u--)c=c<<1^(c>>>7)*285,c^=(l>>>u&1)*a;return s(c>>>8==0),c},o.prototype.finderPenaltyCountPatterns=function(a){var l=a[1];s(l<=this.size*3);var c=l>0&&a[2]==l&&a[3]==l*3&&a[4]==l&&a[5]==l;return(c&&a[0]>=l*4&&a[6]>=l?1:0)+(c&&a[6]>=l*4&&a[0]>=l?1:0)},o.prototype.finderPenaltyTerminateAndCount=function(a,l,c){return a&&(this.finderPenaltyAddHistory(l,c),l=0),l+=this.size,this.finderPenaltyAddHistory(l,c),this.finderPenaltyCountPatterns(c)},o.prototype.finderPenaltyAddHistory=function(a,l){l[0]==0&&(a+=this.size),l.pop(),l.unshift(a)},o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o}();e.QrCode=t;function n(o,a,l){if(a<0||a>31||o>>>a)throw new RangeError("Value out of range");for(var c=a-1;c>=0;c--)l.push(o>>>c&1)}function r(o,a){return(o>>>a&1)!=0}function s(o){if(!o)throw new Error("Assertion error")}var i=function(){function o(a,l,c){if(this.mode=a,this.numChars=l,this.bitData=c,l<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}return o.makeBytes=function(a){for(var l=[],c=0,u=a;c<u.length;c++){var f=u[c];n(f,8,l)}return new o(o.Mode.BYTE,a.length,l)},o.makeNumeric=function(a){if(!o.isNumeric(a))throw new RangeError("String contains non-numeric characters");for(var l=[],c=0;c<a.length;){var u=Math.min(a.length-c,3);n(parseInt(a.substring(c,c+u),10),u*3+1,l),c+=u}return new o(o.Mode.NUMERIC,a.length,l)},o.makeAlphanumeric=function(a){if(!o.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");var l=[],c;for(c=0;c+2<=a.length;c+=2){var u=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c))*45;u+=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c+1)),n(u,11,l)}return c<a.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c)),6,l),new o(o.Mode.ALPHANUMERIC,a.length,l)},o.makeSegments=function(a){return a==""?[]:o.isNumeric(a)?[o.makeNumeric(a)]:o.isAlphanumeric(a)?[o.makeAlphanumeric(a)]:[o.makeBytes(o.toUtf8ByteArray(a))]},o.makeEci=function(a){var l=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)n(a,8,l);else if(a<16384)n(2,2,l),n(a,14,l);else if(a<1e6)n(6,3,l),n(a,21,l);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,l)},o.isNumeric=function(a){return o.NUMERIC_REGEX.test(a)},o.isAlphanumeric=function(a){return o.ALPHANUMERIC_REGEX.test(a)},o.prototype.getData=function(){return this.bitData.slice()},o.getTotalBits=function(a,l){for(var c=0,u=0,f=a;u<f.length;u++){var d=f[u],h=d.mode.numCharCountBits(l);if(d.numChars>=1<<h)return 1/0;c+=4+h+d.bitData.length}return c},o.toUtf8ByteArray=function(a){a=encodeURI(a);for(var l=[],c=0;c<a.length;c++)a.charAt(c)!="%"?l.push(a.charCodeAt(c)):(l.push(parseInt(a.substring(c+1,c+3),16)),c+=2);return l},o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",o}();e.QrSegment=i})(Ft||(Ft={}));(function(e){(function(t){var n=function(){function r(s,i){this.ordinal=s,this.formatBits=i}return r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),r}();t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Ft||(Ft={}));(function(e){(function(t){var n=function(){function r(s,i){this.modeBits=s,this.numBitsCharCount=i}return r.prototype.numCharCountBits=function(s){return this.numBitsCharCount[Math.floor((s+7)/17)]},r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),r}();t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Ft||(Ft={}));var sn=Ft,Ks="L",Ws={L:sn.QrCode.Ecc.LOW,M:sn.QrCode.Ecc.MEDIUM,Q:sn.QrCode.Ecc.QUARTILE,H:sn.QrCode.Ecc.HIGH},Kf=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function Gs(e){return e in Ws}function Ya(e,t){t===void 0&&(t=0);var n=[];return e.forEach(function(r,s){var i=null;r.forEach(function(o,a){if(!o&&i!==null){n.push("M".concat(i+t," ").concat(s+t,"h").concat(a-i,"v1H").concat(i+t,"z")),i=null;return}if(a===r.length-1){if(!o)return;i===null?n.push("M".concat(a+t,",").concat(s+t," h1v1H").concat(a+t,"z")):n.push("M".concat(i+t,",").concat(s+t," h").concat(a+1-i,"v1H").concat(i+t,"z"));return}o&&i===null&&(i=a)})}),n.join("")}function Za(e,t,n,r){var s=r.width,i=r.height,o=r.x,a=r.y,l=e.length+n*2,c=Math.floor(t*.1),u=l/t,f=(s||c)*u,d=(i||c)*u,h=o==null?e.length/2-f/2:o*u,y=a==null?e.length/2-d/2:a*u,_=null;if(r.excavate){var w=Math.floor(h),x=Math.floor(y),k=Math.ceil(f+h-w),C=Math.ceil(d+y-x);_={x:w,y:x,w:k,h:C}}return{x:h,y,h:d,w:f,excavation:_}}function Xa(e,t){return e.slice().map(function(n,r){return r<t.y||r>=t.y+t.h?n:n.map(function(s,i){return i<t.x||i>=t.x+t.w?s:!1})})}var Qs={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:Ks,validator:function(e){return Gs(e)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(e){return["linear","radial"].indexOf(e)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},Wf=st(st({},Qs),{renderAs:{type:String,required:!1,default:"canvas",validator:function(e){return["canvas","svg"].indexOf(e)>-1}}}),Gf=Ve({name:"QRCodeSvg",props:Qs,setup:function(e){var t=ve(0),n=ve(""),r,s=function(){var o=e.value,a=e.level,l=e.margin,c=l>>>0,u=Gs(a)?a:Ks,f=sn.QrCode.encodeText(o,Ws[u]).getModules();if(t.value=f.length+c*2,e.imageSettings.src){var d=Za(f,e.size,c,e.imageSettings);r={x:d.x+c,y:d.y+c,width:d.w,height:d.h},d.excavation&&(f=Xa(f,d.excavation))}n.value=Ya(f,c)},i=function(){if(!e.gradient)return null;var o=e.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return Oe(e.gradientType==="linear"?"linearGradient":"radialGradient",st({id:"qr-gradient"},o),[Oe("stop",{offset:"0%",style:{stopColor:e.gradientStartColor}}),Oe("stop",{offset:"100%",style:{stopColor:e.gradientEndColor}})])};return s(),Us(s),function(){return Oe("svg",{width:e.size,height:e.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(t.value," ").concat(t.value)},[Oe("defs",{},[i()]),Oe("rect",{width:"100%",height:"100%",fill:e.background}),Oe("path",{fill:e.gradient?"url(#qr-gradient)":e.foreground,d:n.value}),e.imageSettings.src&&Oe("image",st({href:e.imageSettings.src},r))])}}}),Qf=Ve({name:"QRCodeCanvas",props:Qs,setup:function(e,t){var n=ve(null),r=ve(null),s=function(){var o=e.value,a=e.level,l=e.size,c=e.margin,u=e.background,f=e.foreground,d=e.gradient,h=e.gradientType,y=e.gradientStartColor,_=e.gradientEndColor,w=c>>>0,x=Gs(a)?a:Ks,k=n.value;if(k){var C=k.getContext("2d");if(C){var P=sn.QrCode.encodeText(o,Ws[x]).getModules(),j=P.length+w*2,z=r.value,U={x:0,y:0,width:0,height:0},ie=e.imageSettings.src&&z!=null&&z.naturalWidth!==0&&z.naturalHeight!==0;if(ie){var oe=Za(P,e.size,w,e.imageSettings);U={x:oe.x+w,y:oe.y+w,width:oe.w,height:oe.h},oe.excavation&&(P=Xa(P,oe.excavation))}var ge=window.devicePixelRatio||1,me=l/j*ge;if(k.height=k.width=l*ge,C.scale(me,me),C.fillStyle=u,C.fillRect(0,0,j,j),d){var he=void 0;h==="linear"?he=C.createLinearGradient(0,0,j,j):he=C.createRadialGradient(j/2,j/2,0,j/2,j/2,j/2),he.addColorStop(0,y),he.addColorStop(1,_),C.fillStyle=he}else C.fillStyle=f;Kf?C.fill(new Path2D(Ya(P,w))):P.forEach(function(Y,at){Y.forEach(function(Ke,fe){Ke&&C.fillRect(fe+w,at+w,1,1)})}),ie&&C.drawImage(z,U.x,U.y,U.width,U.height)}}};Gn(s),Us(s);var i=t.attrs.style;return function(){return Oe($e,[Oe("canvas",st(st({},t.attrs),{ref:n,style:st(st({},i),{width:"".concat(e.size,"px"),height:"".concat(e.size,"px")})})),e.imageSettings.src&&Oe("img",{ref:r,src:e.imageSettings.src,style:{display:"none"},onLoad:s})])}}}),Jf=Ve({name:"Qrcode",render:function(){var e=this.$props,t=e.renderAs,n=e.value,r=e.size,s=e.margin,i=e.level,o=e.background,a=e.foreground,l=e.imageSettings,c=e.gradient,u=e.gradientType,f=e.gradientStartColor,d=e.gradientEndColor;return Oe(t==="svg"?Gf:Qf,{value:n,size:r,margin:s,level:i,background:o,foreground:a,imageSettings:l,gradient:c,gradientType:u,gradientStartColor:f,gradientEndColor:d})},props:Wf});const Yf={key:0,"data-testid":"lobby-stage"},Zf={"data-testid":"lobby-id"},Xf={"data-testid":"username"},ed=["src"],td={key:1,"data-testid":"before-answer-stage"},nd={"data-testid":"question-title"},rd={"data-testid":"time-left"},sd={key:2,"data-testid":"answering-stage"},id={"data-testid":"time-left"},od={"data-testid":"question-title"},ad=["src"],ld={"data-testid":"answer-title"},cd={key:3,"data-testid":"statistics-stage"},ud={"data-testid":"question-title"},fd=["data-is-correct"],dd={"data-testid":"title"},hd={"data-testid":"player-count"},Qi=1e3,Ji=10,Yi=20,pd=Ve({__name:"AdminLobby",props:{timeToStartAnswering:Number,timeToAnswer:Number},setup(e){const t=ue("container"),n=ue("notificationProvider"),r=Vs(),s=Jn(),i=parseInt(r.params.lobbyId),o=parseInt(r.params.quizId),a=s.resolve({name:"player-lobby"}).href,l=new URL(location.origin+a).toString(),c=ve("lobby"),u=ve([]),f=ve(null),d=ve(null),h=ve(0),y=ve(e.timeToStartAnswering||Ji),_=ve(e.timeToAnswer||Yi),w=Fe(()=>!f.value||c.value!=="statistics"?[]:f.value.questions[h.value].answers.map(z=>{var U,ie;return{...z,playerCount:(ie=(U=d.value)==null?void 0:U.find(oe=>oe.answerId===z.id))==null?void 0:ie.playerCount}})),x=Fe(()=>h.value<f.value.questions.length-1),k=()=>{const z=setInterval(()=>{if(_.value===0){clearInterval(z),c.value="statistics",t.quizService.getPlayerCountPerAnswerInQuestionByLobbyIdAndQuestionId(i,f.value.questions[h.value].id).then(U=>{d.value=U});return}t.quizService.updateAnsweringCountdown(i,_.value--)},Qi)},C=()=>{const z=setInterval(()=>{if(y.value===0){k(),clearInterval(z),c.value="answering";return}t.quizService.updateCountdownBeforeAnswer(i,y.value--)},Qi)},P=async()=>{try{await t.quizService.startQuiz(i),await t.quizService.stopListeningForNewPlayers(i),c.value="before-answer",t.quizService.sendQuestion(i,f.value.questions[h.value]),C()}catch(z){z instanceof Error&&n.showNotification("Error: "+z.message)}},j=async()=>{h.value++,t.quizService.sendQuestion(i,f.value.questions[h.value]),c.value="before-answer",y.value=e.timeToStartAnswering||Ji,_.value=e.timeToAnswer||Yi,C()};return Gn(async()=>{t.quizService.startListeningForNewPlayers(i,z=>{u.value.push(z)}),u.value=await t.quizService.getPlayersByLobby(i),f.value=await t.quizService.getQuizWithQuestionsAndAnswersByQuizId(o)}),(z,U)=>{var ie,oe,ge,me,he;return ce(),pe("div",null,[c.value==="lobby"?(ce(),pe("div",Yf,[ae("div",Zf,"Lobby ID: "+Ne(Ee(i)),1),(ce(!0),pe($e,null,cr(u.value,Y=>(ce(),pe("div",{"data-testid":"player",key:Y.id},[ae("p",Xf,Ne(Y.username),1),ae("img",{"data-testid":"avatar",src:Y.image},null,8,ed)]))),128)),Ie(Jf,{value:Ee(l),"data-testid":"qr-code"},null,8,["value"]),ae("button",{"data-testid":"initialize-quiz",onClick:P}," initialize quiz ")])):c.value==="before-answer"?(ce(),pe("div",td,[ae("div",nd,Ne((ie=f.value)==null?void 0:ie.questions[h.value].title),1),ae("div",rd,Ne(y.value),1)])):c.value==="answering"?(ce(),pe("div",sd,[ae("div",id,Ne(_.value),1),ae("div",od,Ne((oe=f.value)==null?void 0:oe.questions[h.value].title),1),ae("img",{src:(ge=f.value)==null?void 0:ge.questions[h.value].image,"data-testid":"question-image"},null,8,ad),(ce(!0),pe($e,null,cr((me=f.value)==null?void 0:me.questions[h.value].answers,Y=>(ce(),pe("div",{key:Y.id,"data-testid":"answer"},[ae("div",ld,Ne(Y.title),1)]))),128))])):c.value==="statistics"?(ce(),pe("div",cd,[ae("div",ud,Ne((he=f.value)==null?void 0:he.questions[h.value].title),1),(ce(!0),pe($e,null,cr(w.value,Y=>(ce(),pe("div",{key:Y.id,"data-testid":"answer","data-is-correct":Y.isCorrect},[ae("div",dd,Ne(Y.title),1),ae("div",hd,Ne(Y.playerCount||0),1)],8,fd))),128)),x.value?(ce(),pe("button",{key:0,"data-testid":"next-question",onClick:j}," next question ")):(ce(),$r(Ee(Ja),{key:1,"data-testid":"awards-button",onClick:j,to:{name:"admin-awards",params:{quizId:Ee(o),lobbyId:Ee(i)}}},{default:oa(()=>U[0]||(U[0]=[$a(" awards ")])),_:1},8,["to"]))])):Ia("",!0)])}}}),gd={"data-testid":"quiz-title"},md=["onClick"],yd=Ve({__name:"AdminView",setup(e){const{quizService:t}=ue("container"),{showNotification:n}=ue("notificationProvider"),r=Jn(),s=ve([]);Gn(async()=>{s.value=await t.getQuizzes()});const i=async o=>{try{const a=await t.createLobby(o);r.push({name:"admin-lobby",params:{lobbyId:a.id,quizId:o}})}catch{n("Error: Failed to create lobby")}};return(o,a)=>(ce(!0),pe($e,null,cr(s.value,l=>(ce(),pe("div",{key:l.id},[ae("h1",gd,Ne(l.name),1),ae("button",{"data-testid":"initialize-quiz-button",onClick:c=>i(l.id)}," Initialize ",8,md)]))),128))}}),_d=Ve({__name:"HomeView",setup(e){const t=Jn(),n=ue("container"),r=ue("notificationProvider"),s=ve(""),i=async()=>{if(isNaN(parseInt(s.value))){r.showNotification("Error: Invalid lobby id");return}try{const o=await n.quizService.getQuizByLobbyId(parseInt(s.value));await t.push({name:"player-lobby",params:{lobbyId:s.value,quizId:o.id}})}catch(o){o instanceof Error&&r.showNotification(`Error: ${o.message}`)}};return(o,a)=>(ce(),pe("div",null,[ae("form",{"data-testid":"join-lobby-form",onSubmit:i},[aa(ae("input",{type:"text","data-testid":"join-lobby-input","onUpdate:modelValue":a[0]||(a[0]=l=>s.value=l)},null,512),[[Da,s.value]])],32)]))}}),vd={key:0},wd=["src"],bd={"data-testid":"player-username"},Ed=Ve({__name:"PlayerLobbyBeforeQuizStarts",setup(e){const t=Jn(),n=Vs(),r=parseInt(n.params.lobbyId),s=parseInt(n.params.quizId),i=ue("container"),o=ue("notificationProvider"),{player:a}=ue("playerProvider");return a||(o.showNotification("Error: Player not found"),t.push({name:"home"})),Gn(()=>{i.quizService.listenQuizStart(r,()=>{t.push({name:"player-quiz",params:{quizId:s,lobbyId:r}})})}),(l,c)=>Ee(a)?(ce(),pe("div",vd,[ae("img",{src:Ee(a).image,"data-testid":"player-avatar"},null,8,wd),ae("span",bd,Ne(Ee(a).username),1)])):Ia("",!0)}}),Sd={player:null},Pd=Ve({__name:"PlayerProviders",setup(e){return In("playerProvider",Sd),(t,n)=>(ce(),$r(Ee(Hs)))}}),Cd={fileToDataURL(e){return new Promise((t,n)=>{const r=new FileReader;r.onloadend=s=>t(r.result),r.onerror=s=>n(r.error),r.onabort=s=>n(new Error("Read aborted")),r.readAsDataURL(e)})}},xd=["src"],Ad=Ve({__name:"PlayersLobby",setup(e){const t=ue("container"),n=ue("notificationProvider"),r=ue("playerProvider"),s=Vs(),i=Jn(),o=parseInt(s.params.lobbyId),a=parseInt(s.params.quizId),l=ve(""),c=ve(null),u=ve(""),f=async()=>{if(l.value.length<4){n.showNotification("Error: Username should be at least 4 characters long");return}try{r.player=await t.quizService.createPlayerByLobbyId(o,l.value,c.value),await i.push({name:"player-lobby-before-quiz-starts",params:{lobbyId:o,quizId:a}})}catch{n.showNotification("Error: Failed to create player")}},d=async h=>{const y=await t.avatarService.generateAvatarByString(l.value);c.value=y,u.value=await Cd.fileToDataURL(y)};return(h,y)=>(ce(),pe("div",null,[ae("form",{onSubmit:Lu(f,["prevent"]),"data-testid":"player-form"},[ae("img",{"data-testid":"player-avatar",src:u.value},null,8,xd),aa(ae("input",{type:"text",onInput:d,"onUpdate:modelValue":y[0]||(y[0]=_=>l.value=_),"data-testid":"player-username-input"},null,544),[[Da,l.value]]),y[1]||(y[1]=ae("input",{type:"submit","data-testid":"player-submit"},null,-1))],32)]))}}),el=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},kd={};function Rd(e,t){return ce(),pe("div")}const Td=el(kd,[["render",Rd]]),Od={};function $d(e,t){return ce(),pe("div")}const Id=el(Od,[["render",$d]]),jd=zf({history:vf("/supahoot/"),routes:[{path:"/admin",name:"admin",component:yd},{path:"/admin/quiz/:quizId/lobby/:lobbyId",name:"admin-lobby",component:pd},{path:"/admin/quiz/:quizId/lobby/:lobbyId/awards",name:"admin-awards",component:Id},{path:"/",name:"home",component:_d},{path:"/quiz/:quizId/lobby/:lobbyId",component:Pd,children:[{path:"",name:"player-lobby",component:Ad},{path:"before-start",name:"player-lobby-before-quiz-starts",component:Ed},{path:"quiz-started",name:"player-quiz-started",component:Td}]}]}),Ld="modulepreload",Md=function(e){return"/supahoot/"+e},Zi={},gn=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Md(l),l in Zi)return;Zi[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Ld,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Dd=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gn(async()=>{const{default:r}=await Promise.resolve().then(()=>yn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Js extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Nd extends Js{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ud extends Js{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Fd extends Js{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ms;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ms||(ms={}));var Bd=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class zd{constructor(t,{headers:n={},customFetch:r,region:s=ms.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Dd(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Bd(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(y=>{throw new Nd(y)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new Ud(u);if(!u.ok)throw new Fd(u);let d=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return d==="application/json"?h=yield u.json():d==="application/octet-stream"?h=yield u.blob():d==="text/event-stream"?h=u:d==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(s){return{data:null,error:s}}})}}function qd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Hd(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var ye={},Wt={},Gt={},Qt={},Jt={},Yt={},Vd=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mn=Vd();const Kd=mn.fetch,tl=mn.fetch.bind(mn),nl=mn.Headers,Wd=mn.Request,Gd=mn.Response,yn=Object.freeze(Object.defineProperty({__proto__:null,Headers:nl,Request:Wd,Response:Gd,default:tl,fetch:Kd},Symbol.toStringTag,{value:"Module"})),Qd=Hd(yn);var rr={},Xi;function rl(){if(Xi)return rr;Xi=1,Object.defineProperty(rr,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return rr.default=e,rr}var eo;function sl(){if(eo)return Yt;eo=1;var e=Yt&&Yt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Yt,"__esModule",{value:!0});const t=e(Qd),n=e(rl());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,f,d;let h=null,y=null,_=null,w=c.status,x=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=j:y=JSON.parse(j))}const C=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),P=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");C&&P&&P.length>1&&(_=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(h={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,_=null,w=406,x="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const C=await c.text();try{h=JSON.parse(C),Array.isArray(h)&&c.status===404&&(y=[],h=null,w=200,x="OK")}catch{c.status===404&&C===""?(w=204,x="No Content"):h={message:C}}if(h&&this.isMaybeSingle&&(!((d=h==null?void 0:h.details)===null||d===void 0)&&d.includes("0 rows"))&&(h=null,w=200,x="OK"),h&&this.shouldThrowOnError)throw new n.default(h)}return{error:h,data:y,count:_,status:w,statusText:x}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,f,d;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(d=c==null?void 0:c.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}}return Yt.default=r,Yt}var to;function il(){if(to)return Jt;to=1;var e=Jt&&Jt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jt,"__esModule",{value:!0});const t=e(sl());class n extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const f=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${d}"; options=${f};`,c==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Jt.default=n,Jt}var no;function Ys(){if(no)return Qt;no=1;var e=Qt&&Qt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qt,"__esModule",{value:!0});const t=e(il());class n extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${l}fts${c}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return Qt.default=n,Qt}var ro;function ol(){if(ro)return Gt;ro=1;var e=Gt&&Gt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gt,"__esModule",{value:!0});const t=e(Ys());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=i,this.schema=o,this.fetch=a}select(s,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const c=(s??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(s)){const c=s.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(s)){const f=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(f.length>0){const d=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const i="DELETE",o=[];return s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Gt.default=n,Gt}var Sn={},Pn={},so;function Jd(){return so||(so=1,Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.version=void 0,Pn.version="0.0.0-automated"),Pn}var io;function Yd(){if(io)return Sn;io=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.DEFAULT_HEADERS=void 0;const e=Jd();return Sn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Sn}var oo;function Zd(){if(oo)return Wt;oo=1;var e=Wt&&Wt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Wt,"__esModule",{value:!0});const t=e(ol()),n=e(Ys()),r=Yd();class s{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){let f;const d=new URL(`${this.url}/rpc/${o}`);let h;l||c?(f=l?"HEAD":"GET",Object.entries(a).filter(([_,w])=>w!==void 0).map(([_,w])=>[_,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([_,w])=>{d.searchParams.append(_,w)})):(f="POST",h=a);const y=Object.assign({},this.headers);return u&&(y.Prefer=`count=${u}`),new n.default({method:f,url:d,headers:y,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return Wt.default=s,Wt}var ao;function Xd(){if(ao)return ye;ao=1;var e=ye&&ye.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ye,"__esModule",{value:!0}),ye.PostgrestError=ye.PostgrestBuilder=ye.PostgrestTransformBuilder=ye.PostgrestFilterBuilder=ye.PostgrestQueryBuilder=ye.PostgrestClient=void 0;const t=e(Zd());ye.PostgrestClient=t.default;const n=e(ol());ye.PostgrestQueryBuilder=n.default;const r=e(Ys());ye.PostgrestFilterBuilder=r.default;const s=e(il());ye.PostgrestTransformBuilder=s.default;const i=e(sl());ye.PostgrestBuilder=i.default;const o=e(rl());return ye.PostgrestError=o.default,ye.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},ye}var eh=Xd();const th=qd(eh),{PostgrestClient:nh,PostgrestQueryBuilder:fg,PostgrestFilterBuilder:dg,PostgrestTransformBuilder:hg,PostgrestBuilder:pg,PostgrestError:gg}=th,rh="2.11.2",sh={"X-Client-Info":`realtime-js/${rh}`},ih="1.0.0",al=1e4,oh=1e3;var fn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fn||(fn={}));var De;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(De||(De={}));var We;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(We||(We={}));var ys;(function(e){e.websocket="websocket"})(ys||(ys={}));var Lt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Lt||(Lt={}));class ah{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class ll{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(re||(re={}));const lo=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=lh(o,e,t,s),i),{})},lh=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?cl(i,o):_s(o)},cl=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return dh(t,n)}switch(e){case re.bool:return ch(t);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return uh(t);case re.json:case re.jsonb:return fh(t);case re.timestamp:return hh(t);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return _s(t);default:return _s(t)}},_s=e=>e,ch=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},uh=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},fh=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},dh=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>cl(t,a))}return e},hh=e=>typeof e=="string"?e.replace(" ","T"):e,ul=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Yr{constructor(t,n,r={},s=al){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var co;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(co||(co={}));class Dn{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Dn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Dn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const f=i[c];if(f){const d=u.map(w=>w.presence_ref),h=f.map(w=>w.presence_ref),y=u.filter(w=>h.indexOf(w.presence_ref)<0),_=f.filter(w=>d.indexOf(w.presence_ref)<0);y.length>0&&(a[c]=y),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const f=t[a].map(h=>h.presence_ref),d=u.filter(h=>f.indexOf(h.presence_ref)<0);t[a].unshift(...d)}r(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var uo;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(uo||(uo={}));var fo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(fo||(fo={}));var dt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(dt||(dt={}));class Zs{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Yr(this,We.join,this.params,this.timeout),this.rejoinTimer=new ll(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Dn(this),this.broadcastEndpointURL=ul(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(dt.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(dt.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(dt.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,h=(f=d==null?void 0:d.length)!==null&&f!==void 0?f:0,y=[];for(let _=0;_<h;_++){const w=d[_],{filter:{event:x,schema:k,table:C,filter:P}}=w,j=u&&u[_];if(j&&j.event===x&&j.schema===k&&j.table===C&&j.filter===P)y.push(Object.assign(Object.assign({},w),{id:j.id}));else{this.unsubscribe(),t==null||t(dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(dt.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=De.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Yr(this,We.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Yr(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=We;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let d=this._onMessage(o,n,r);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var y,_,w;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(_=h.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(h=>h.callback(d,r)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var y,_,w,x,k,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const P=h.id,j=(y=h.filter)===null||y===void 0?void 0:y.event;return P&&((_=n.ids)===null||_===void 0?void 0:_.includes(P))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const P=(k=(x=h==null?void 0:h.filter)===null||x===void 0?void 0:x.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return P==="*"||P===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof d=="object"&&"ids"in d){const y=d.data,{schema:_,table:w,commit_timestamp:x,type:k,errors:C}=y;d=Object.assign(Object.assign({},{schema:_,table:w,commit_timestamp:x,eventType:k,new:{},old:{},errors:C}),this._getPayloadRecords(y))}h.callback(d,r)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Zs.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(We.close,{},t)}_onError(t){this._on(We.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=lo(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=lo(t.columns,t.old_record)),n}}const ph=()=>{},gh=typeof WebSocket<"u",mh=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yh{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=sh,this.params={},this.timeout=al,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ph,this.conn=null,this.sendBuffer=[],this.serializer=new ah,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>gn(async()=>{const{default:l}=await Promise.resolve().then(()=>yn);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${ys.websocket}`,this.httpEndpoint=ul(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ll(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(gh){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new _h(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),gn(async()=>{const{default:t}=await import("./browser-C7C55E3Z.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ih}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fn.connecting:return Lt.Connecting;case fn.open:return Lt.Open;case fn.closing:return Lt.Closing;default:return Lt.Closed}}isConnected(){return this.connectionState()===Lt.Open}channel(t,n={config:{}}){const r=new Zs(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(We.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(oh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(We.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([mh],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class _h{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=fn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Xs extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class vh extends Xs{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class vs extends Xs{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var wh=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const fl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gn(async()=>{const{default:r}=await Promise.resolve().then(()=>yn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},bh=()=>wh(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gn(()=>Promise.resolve().then(()=>yn),void 0)).Response:Response}),ws=e=>{if(Array.isArray(e))return e.map(n=>ws(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ws(r)}),t};var zt=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Zr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Eh=(e,t,n)=>zt(void 0,void 0,void 0,function*(){const r=yield bh();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new vh(Zr(s),e.status||500))}).catch(s=>{t(new vs(Zr(s),s))}):t(new vs(Zr(e),e))}),Sh=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Yn(e,t,n,r,s,i){return zt(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,Sh(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Eh(l,a,r))})})}function wr(e,t,n,r){return zt(this,void 0,void 0,function*(){return Yn(e,"GET",t,n,r)})}function St(e,t,n,r,s){return zt(this,void 0,void 0,function*(){return Yn(e,"POST",t,r,s,n)})}function Ph(e,t,n,r,s){return zt(this,void 0,void 0,function*(){return Yn(e,"PUT",t,r,s,n)})}function Ch(e,t,n,r){return zt(this,void 0,void 0,function*(){return Yn(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function dl(e,t,n,r,s){return zt(this,void 0,void 0,function*(){return Yn(e,"DELETE",t,r,s,n)})}var Te=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const xh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ho={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ah{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=fl(s)}uploadOrUpdate(t,n,r,s){return Te(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ho),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield f.json();return f.ok?{data:{path:c,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Te(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:ho.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),d=yield f.json();return f.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(_e(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Te(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield St(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Xs("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}update(t,n,r){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Te(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Te(this,void 0,void 0,function*(){try{return{data:{path:(yield St(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Te(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield St(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Te(this,void 0,void 0,function*(){try{const s=yield St(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}download(t,n){return Te(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield wr(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}})}info(t){return Te(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield wr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ws(r),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}exists(t){return Te(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Ch(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(_e(r)&&r instanceof vs){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return Te(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}list(t,n,r){return Te(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},xh),n),{prefix:t||""});return{data:yield St(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const kh="2.7.1",Rh={"X-Client-Info":`storage-js/${kh}`};var Zt=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Th{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Rh),n),this.fetch=fl(r)}listBuckets(){return Zt(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}})}getBucket(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Zt(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Zt(this,void 0,void 0,function*(){try{return{data:yield Ph(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}}class Oh extends Th{constructor(t,n={},r){super(t,n,r)}from(t){return new Ah(this.url,this.headers,t,this.fetch)}}const $h="2.48.1";let An="";typeof Deno<"u"?An="deno":typeof document<"u"?An="web":typeof navigator<"u"&&navigator.product==="ReactNative"?An="react-native":An="node";const Ih={"X-Client-Info":`supabase-js-${An}/${$h}`},jh={headers:Ih},Lh={schema:"public"},Mh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dh={};var Nh=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Uh=e=>{let t;return e?t=e:typeof fetch>"u"?t=tl:t=fetch,(...n)=>t(...n)},Fh=()=>typeof Headers>"u"?nl:Headers,Bh=(e,t,n)=>{const r=Uh(n),s=Fh();return(i,o)=>Nh(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var zh=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function qh(e){return e.replace(/\/$/,"")}function Hh(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>zh(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const hl="2.67.3",Vh="http://localhost:9999",Kh="supabase.auth.token",Wh={"X-Client-Info":`gotrue-js/${hl}`},po=10,bs="X-Supabase-Api-Version",pl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Gh(e){return Math.round(Date.now()/1e3)+e}function Qh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const tt=()=>typeof window<"u"&&typeof document<"u",$t={tested:!1,writable:!1},Nn=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($t.tested)return $t.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),$t.tested=!0,$t.writable=!0}catch{$t.tested=!0,$t.writable=!1}return $t.writable};function Jh(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const gl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gn(async()=>{const{default:r}=await Promise.resolve().then(()=>yn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Yh=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ml=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},sr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ir=async(e,t)=>{await e.removeItem(t)};function Zh(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,c,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)o=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Mr{constructor(){this.promise=new Mr.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Mr.promiseConstructor=Promise;function go(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(Zh(r))}async function Xh(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ep(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function tp(e){return("0"+e.toString(16)).substr(-2)}function np(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,tp).join("")}async function rp(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function sp(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ip(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await rp(e);return sp(n)}async function Xt(e,t,n=!1){const r=np();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ml(e,`${t}-code-verifier`,s);const i=await ip(r);return[i,r===i?"plain":"s256"]}const op=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ap(e){const t=e.headers.get(bs);if(!t||!t.match(op))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class ei extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function H(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lp extends ei{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function cp(e){return H(e)&&e.name==="AuthApiError"}class yl extends ei{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class qt extends ei{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class _t extends qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function up(e){return H(e)&&e.name==="AuthSessionMissingError"}class Xr extends qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class or extends qt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ar extends qt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fp(e){return H(e)&&e.name==="AuthImplicitGrantRedirectError"}class mo extends qt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Es extends qt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function es(e){return H(e)&&e.name==="AuthRetryableFetchError"}class yo extends qt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var dp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const jt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hp=[502,503,504];async function _o(e){var t;if(!Yh(e))throw new Es(jt(e),0);if(hp.includes(e.status))throw new Es(jt(e),e.status);let n;try{n=await e.json()}catch(i){throw new yl(jt(i),i)}let r;const s=ap(e);if(s&&s.getTime()>=pl["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new yo(jt(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new _t}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new yo(jt(n),e.status,n.weak_password.reasons);throw new lp(jt(n),e.status||500,r)}const pp=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function V(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[bs]||(i[bs]=pl["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await gp(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function gp(e,t,n,r,s,i){const o=pp(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Es(jt(l),0)}if(a.ok||await _o(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await _o(l)}}function vt(e){var t;let n=null;vp(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Gh(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function vo(e){const t=vt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Pt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function mp(e){return{data:e,error:null}}function yp(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=dp(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function _p(e){return e}function vp(e){return e.access_token&&e.refresh_token&&e.expires_in}var wp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class bp{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=gl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=wp(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:yp,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(H(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pt})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:_p});if(u.error)throw u.error;const f=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);c[`${w}Page`]=_}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(H(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await V(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pt})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Pt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await V(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(H(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}}const Ep={getItem:e=>Nn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Nn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Nn()&&globalThis.localStorage.removeItem(e)}};function wo(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Sp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const en={debug:!!(globalThis&&Nn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _l extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Pp extends _l{}async function Cp(e,t,n){en.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),en.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){en.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{en.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw en.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Pp(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(en.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Sp();const xp={url:Vh,storageKey:Kh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Wh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Cn=30*1e3,bo=3;async function Eo(e,t,n){return await n()}class Kn{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Kn.nextInstanceID,Kn.nextInstanceID+=1,this.instanceID>0&&tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},xp),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new bp({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=gl(s.fetch),this.lock=s.lock||Eo,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:tt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Cp:this.lock=Eo,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Nn()?this.storage=Ep:(this.memoryStorage={},this.storage=wo(this.memoryStorage)):(this.memoryStorage={},this.storage=wo(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hl}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Jh(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),tt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),fp(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return H(n)?{error:n}:{error:new yl("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:vt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:u,password:f,options:d}=t;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await Xt(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:y},xform:vt})}else if("phone"in t){const{phone:u,password:f,options:d}=t;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:vt})}else throw new or("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:vo})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:vo})}else throw new or("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Xr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await sr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:vt});if(await ir(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Xr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(H(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:vt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Xr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Xt(this.storage,this.storageKey));const{error:f}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new or("You must provide either an email or phone number.")}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:vt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Xt(this.storage,this.storageKey)),await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:mp})}catch(i){if(H(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new _t;const{error:s}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(H(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await V(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await V(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new or("You must provide either an email or phone number and a type")}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await sr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Pt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _t}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Pt})})}catch(n){if(H(n))return up(n)&&(await this._removeSession(),await ir(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new _t;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Xt(this.storage,this.storageKey));const{data:c,error:u}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Pt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return go(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new _t;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=go(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(H(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new _t;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!tt())throw new ar("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ar(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new mo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ar("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mo("No code detected.");const{data:k,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new ar("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let d=u+f;l&&(d=parseInt(l));const h=d-u;h*1e3<=Cn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const y=d-f;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,d,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,d,u);const{data:_,error:w}=await this._getUser(i);if(w)throw w;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:d,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(H(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await sr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(cp(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await ir(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Qh(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Xt(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(H(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:f,error:d}=i;if(d)throw d;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return tt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(H(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ep(async s=>(s>0&&await Xh(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:vt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&es(i)&&Date.now()+o-r<Cn})}catch(r){if(this._debug(n,"error",r),H(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),tt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await sr(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+po;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${po}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),es(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new _t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Mr;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new _t;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),H(i)){const o={session:null,error:i};return es(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ml(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ir(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Cn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Cn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Cn}ms, refresh threshold is ${bo} ticks`),s<=bo&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _l)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Xt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await V(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await V(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(H(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(H(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Kn.nextInstanceID=0;const Ap=Kn;class kp extends Ap{constructor(t){super(t)}}var Rp=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Tp{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=qh(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Lh,realtime:Dh,auth:Object.assign(Object.assign({},Mh),{storageKey:l}),global:jh},u=Hh(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Bh(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new nh(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new zd(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Oh(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Rp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kp({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new yh(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Op=(e,t,n)=>new Tp(e,t,n);class $p{constructor(){Xn(this,"supabase",Op("https://dnsewtyjyfqpkugrwhmq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRuc2V3dHlqeWZxcGt1Z3J3aG1xIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY2NTc0ODUsImV4cCI6MjA1MjIzMzQ4NX0.OPESoZ2-AJfV3TvfKxemcLjmn9730bRd5DVXAlJxPbQ"));Xn(this,"channels",{});Xn(this,"eventListeners",{listenForNewPlayers:[],startQuiz:[],updateCountdownBeforeAnswer:[],updateAnsweringCountdown:[],listenQuestion:[],listenPlayerQuestionPoints:[]})}async getQuizzes(){const{error:t,data:n}=await this.supabase.from("quizzes").select("*");if(t)throw new Error(t.message);return n}async createLobby(t){const{error:n,data:r}=await this.supabase.from("lobbies").insert({quiz_id:t}).select();if(n)throw new Error(n.message);return r[0]}async getPlayersByLobby(t){const{error:n,data:r}=await this.supabase.from("players").select("*").eq("lobby_id",t),s=r.map(this.generatePlayerWithAvatar.bind(this));if(n)throw new Error(n.message);return s}startListeningForNewPlayers(t,n){this.initializeLobbyChannel(t),this.eventListeners.listenForNewPlayers.push(n)}async stopListeningForNewPlayers(t){this.initializeLobbyChannel(t),this.eventListeners.listenForNewPlayers=[]}async createPlayerByLobbyId(t,n,r){const{error:s,data:i}=await this.supabase.storage.from("player-avatars").upload(`public/${t}_${n}.jpeg`,r);if(s)throw new Error(s.message);const{error:o,data:a}=await this.supabase.from("players").insert({lobby_id:t,username:n,image:i.path}).select();if(o)throw new Error(o.message);return this.generatePlayerWithAvatar(a[0])}async startQuiz(t){if(await this.initializeLobbyChannel(t).send({type:"broadcast",event:"start_quiz"})!=="ok")throw new Error("Failed to start quiz")}async getQuizByLobbyId(t){const{error:n,data:r}=await this.supabase.from("lobbies").select("quizzes(*)").eq("id",t);if(n)throw new Error(n.message);return r[0].quizzes}listenQuizStart(t,n){this.initializeLobbyChannel(t),this.eventListeners.startQuiz.push(n)}listenQuestion(t,n){this.initializeLobbyChannel(t),this.eventListeners.listenQuestion.push(n)}sendAnswer(t,n,r){this.initializeLobbyChannel(t).send({type:"broadcast",event:"send_answer",payload:{answer_id:r,player_id:n}})}listenPlayerQuestionPoints(t,n,r){this.initializeLobbyChannel(t),this.eventListeners.listenPlayerQuestionPoints.push({playerId:n,callback:r})}updateCountdownBeforeAnswer(t,n){this.initializeLobbyChannel(t).send({type:"broadcast",event:"update_countdown_before_answer",payload:{count:n}})}listenUpdateCountdownBeforeAnswer(t,n){this.initializeLobbyChannel(t),this.eventListeners.updateCountdownBeforeAnswer.push(n)}updateAnsweringCountdown(t,n){this.initializeLobbyChannel(t).send({type:"broadcast",event:"update_answering_countdown",payload:{count:n}})}listenUpdateAnsweringCountdown(t,n){this.initializeLobbyChannel(t),this.eventListeners.updateAnsweringCountdown.push(n)}sendQuestion(t,n){this.initializeLobbyChannel(t).send({type:"broadcast",event:"send_question",payload:n})}async getQuizWithQuestionsAndAnswersByQuizId(t){const{data:n,error:r}=await this.supabase.from("quizzes").select(`
        *,
        questions (
          *,
          answers (*, isCorrect:is_correct)
        )
      `).eq("id",t);if(r)throw new Error(r.message);return n[0]}async getPlayerCountPerAnswerInQuestionByLobbyIdAndQuestionId(t,n){const{data:r,error:s}=await this.supabase.rpc("get_answer_counts",{lobby_id_input:t,question_id_input:n});if(s)throw new Error(s.message);return r.map(({answer_id:i,player_count:o})=>({answerId:i,playerCount:o}))}initializeLobbyChannel(t){if(this.channels[`lobby-${t}`])return this.channels[`lobby-${t}`];const n=this.supabase.channel(`lobby-${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"players",filter:`lobby_id=eq.${t}`},r=>{const s={...r.new,image:this.getPlayerAvatarUrl(r.new)};this.eventListeners.listenForNewPlayers.forEach(i=>{i(s)})}).on("postgres_changes",{event:"INSERT",schema:"public",table:"player_answers"},r=>{this.eventListeners.listenPlayerQuestionPoints.forEach(({playerId:s,callback:i})=>{r.new.playerId===s&&i(r.new)})}).on("broadcast",{event:"start_quiz"},r=>{this.eventListeners.startQuiz.forEach(s=>{s()})}).on("broadcast",{event:"update_countdown_before_answer"},r=>{this.eventListeners.updateCountdownBeforeAnswer.forEach(s=>{s(r.payload.count)})}).on("broadcast",{event:"update_answering_countdown"},r=>{this.eventListeners.updateAnsweringCountdown.forEach(s=>{s(r.payload.count)})}).subscribe();return this.channels[`lobby-${t}`]=n,n}generatePlayerWithAvatar(t){return{...t,image:this.getPlayerAvatarUrl(t)}}getPlayerAvatarUrl(t){const{data:{publicUrl:n}}=this.supabase.storage.from("player-avatars").getPublicUrl(t.image);return n}}function Mt(e){return e.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ip(e){var t,n,r,s,i,o,a;const l=(t=e.meta)===null||t===void 0?void 0:t.title,c=(n=e.meta)===null||n===void 0?void 0:n.creator,u=(r=e.meta)===null||r===void 0?void 0:r.source,f=(i=(s=e.meta)===null||s===void 0?void 0:s.license)===null||i===void 0?void 0:i.url,d=jp(e);return!l&&!c&&!u&&!f&&!d?"":'<metadata xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"><rdf:RDF><rdf:Description>'+(l?`<dc:title>${Mt(l)}</dc:title>`:"")+(c?`<dc:creator>${Mt(c)}</dc:creator>`:"")+(u?`<dc:source xsi:type="dcterms:URI">${Mt((a=(o=e.meta)===null||o===void 0?void 0:o.source)!==null&&a!==void 0?a:"")}</dc:source>`:"")+(f?`<dcterms:license xsi:type="dcterms:URI">${Mt(f)}</dcterms:license>`:"")+(d?`<dc:rights>${Mt(d)}</dc:rights>`:"")+"</rdf:Description></rdf:RDF></metadata>"}function jp(e){var t,n,r,s,i,o,a,l,c,u,f,d,h,y,_;let w=!((t=e.meta)===null||t===void 0)&&t.title?`„${(n=e.meta)===null||n===void 0?void 0:n.title}”`:"Design",x=`„${(s=(r=e.meta)===null||r===void 0?void 0:r.creator)!==null&&s!==void 0?s:"Unknown"}”`;!((i=e.meta)===null||i===void 0)&&i.source&&(w+=` (${e.meta.source})`);let k="";return((a=(o=e.meta)===null||o===void 0?void 0:o.license)===null||a===void 0?void 0:a.name)!=="MIT"&&((l=e.meta)===null||l===void 0?void 0:l.creator)!=="DiceBear"&&(!((c=e.meta)===null||c===void 0)&&c.title)&&(k+="Remix of "),k+=`${w} by ${x}`,!((f=(u=e.meta)===null||u===void 0?void 0:u.license)===null||f===void 0)&&f.name&&(k+=`, licensed under „${(h=(d=e.meta)===null||d===void 0?void 0:d.license)===null||h===void 0?void 0:h.name}”`,!((_=(y=e.meta)===null||y===void 0?void 0:y.license)===null||_===void 0)&&_.url&&(k+=` (${e.meta.license.url})`)),k}const So=-2147483648,Lp=2147483647;function vl(e){return e^=e<<13,e^=e>>17,e^=e<<5,e}function Mp(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0,t=vl(t);return t}function br(e=""){e=e.toString();let t=Mp(e)||1;const n=()=>t=vl(t),r=(s,i)=>Math.floor((n()-So)/(Lp-So)*(i+1-s)+s);return{seed:e,next:n,bool(s=50){return r(1,100)<=s},integer(s,i){return r(s,i)},pick(s,i){var o;return s.length===0?(n(),i):(o=s[r(0,s.length-1)])!==null&&o!==void 0?o:i},shuffle(s){const i=br(n().toString()),o=[...s];for(let a=o.length-1;a>0;a--){const l=i.integer(0,a);[o[a],o[l]]=[o[l],o[a]]}return o},string(s,i="abcdefghijklmnopqrstuvwxyz1234567890"){const o=br(n().toString());let a="";for(let l=0;l<s;l++)a+=i[o.integer(0,i.length-1)];return a}}}function _n(e){let t=e.attributes.viewBox.split(" "),n=parseInt(t[0]),r=parseInt(t[1]),s=parseInt(t[2]),i=parseInt(t[3]);return{x:n,y:r,width:s,height:i}}function Dp(e,t,n,r,s){let{width:i,height:o,x:a,y:l}=_n(e);const c=`<rect fill="${t}" width="${i}" height="${o}" x="${a}" y="${l}" />`;switch(r){case"solid":return c+e.body;case"gradientLinear":return`<rect fill="url(#backgroundLinear)" width="${i}" height="${o}" x="${a}" y="${l}" /><defs><linearGradient id="backgroundLinear" gradientTransform="rotate(${s} 0.5 0.5)"><stop stop-color="${t}"/><stop offset="1" stop-color="${n}"/></linearGradient></defs>`+e.body}}function Np(e,t){let{width:n,height:r,x:s,y:i}=_n(e),o=t?(t-100)/100:0,a=(n/2+s)*o*-1,l=(r/2+i)*o*-1;return`<g transform="translate(${a} ${l}) scale(${t/100})">${e.body}</g>`}function Up(e,t,n){let r=_n(e),s=(r.width+r.x*2)*((t??0)/100),i=(r.height+r.y*2)*((n??0)/100);return`<g transform="translate(${s} ${i})">${e.body}</g>`}function Fp(e,t){let{width:n,height:r,x:s,y:i}=_n(e);return`<g transform="rotate(${t}, ${n/2+s}, ${r/2+i})">${e.body}</g>`}function Bp(e){let{width:t,x:n}=_n(e);return`<g transform="scale(-1 1) translate(${t*-1-n*2} 0)">${e.body}</g>`}function zp(e,t){let{width:n,height:r,x:s,y:i}=_n(e),o=t?n*t/100:0,a=t?r*t/100:0;return`<mask id="viewboxMask"><rect width="${n}" height="${r}" rx="${o}" ry="${a}" x="${s}" y="${i}" fill="#fff" /></mask><g mask="url(#viewboxMask)">${e.body}</g>`}function qp(e){const t={xmlns:"http://www.w3.org/2000/svg",...e.attributes};return Object.keys(t).map(n=>`${Mt(n)}="${Mt(t[n])}"`).join(" ")}function Hp(e){const t=br(Math.random().toString()),n={};return e.body.replace(/(id="|url\(#)([a-z0-9-_]+)([")])/gi,(r,s,i,o)=>(n[i]=n[i]||t.string(8),`${s}${n[i]}${o}`))}const Vp={properties:{seed:{type:"string"},flip:{type:"boolean",default:!1},rotate:{type:"integer",minimum:0,maximum:360,default:0},scale:{type:"integer",minimum:0,maximum:200,default:100},radius:{type:"integer",minimum:0,maximum:50,default:0},size:{type:"integer",minimum:1},backgroundColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"}},backgroundType:{type:"array",items:{type:"string",enum:["solid","gradientLinear"]},default:["solid"]},backgroundRotation:{type:"array",items:{type:"integer",minimum:-360,maximum:360},default:[0,360]},translateX:{type:"integer",minimum:-100,maximum:100,default:0},translateY:{type:"integer",minimum:-100,maximum:100,default:0},clip:{type:"boolean",default:!0},randomizeIds:{type:"boolean",default:!1}}};function Po(e){var t;let n={},r=(t=e.properties)!==null&&t!==void 0?t:{};return Object.keys(r).forEach(s=>{let i=r[s];typeof i=="object"&&i.default!==void 0&&(Array.isArray(i.default)?n[s]=[...i.default]:typeof i.default=="object"?n[s]={...i.default}:n[s]=i.default)}),n}function Kp(e,t){var n;let r={...Po(Vp),...Po((n=e.schema)!==null&&n!==void 0?n:{}),...t};return JSON.parse(JSON.stringify(r))}function Co(e){return e==="transparent"?e:`#${e}`}function Wp(e,t,n){var r;let s=e.shuffle(t);s.length<=1||t.length==2&&n=="gradientLinear"?(s=t,e.next()):s=e.shuffle(t),s.length===0&&(s=["transparent"]);const i=s[0],o=(r=s[1])!==null&&r!==void 0?r:s[0];return{primary:Co(i),secondary:Co(o)}}function Gp(e,t={}){var n,r,s,i,o;t=Kp(e,t);const a=br(t.seed),l=e.create({prng:a,options:t}),c=a.pick((n=t.backgroundType)!==null&&n!==void 0?n:[],"solid"),{primary:u,secondary:f}=Wp(a,(r=t.backgroundColor)!==null&&r!==void 0?r:[],c),d=a.integer(!((s=t.backgroundRotation)===null||s===void 0)&&s.length?Math.min(...t.backgroundRotation):0,!((i=t.backgroundRotation)===null||i===void 0)&&i.length?Math.max(...t.backgroundRotation):0);t.size&&(l.attributes.width=t.size.toString(),l.attributes.height=t.size.toString()),t.scale!==void 0&&t.scale!==100&&(l.body=Np(l,t.scale)),t.flip&&(l.body=Bp(l)),t.rotate&&(l.body=Fp(l,t.rotate)),(t.translateX||t.translateY)&&(l.body=Up(l,t.translateX,t.translateY)),u!=="transparent"&&f!=="transparent"&&(l.body=Dp(l,u,f,c,d)),(t.radius||t.clip)&&(l.body=zp(l,(o=t.radius)!==null&&o!==void 0?o:0)),t.randomizeIds&&(l.body=Hp(l));const h=qp(l),y=Ip(e),_=`<svg ${h}>${y}${l.body}</svg>`;return{toString:()=>_,toJson:()=>{var w;return{svg:_,extra:{primaryBackgroundColor:u,secondaryBackgroundColor:f,backgroundType:c,backgroundRotation:d,...(w=l.extra)===null||w===void 0?void 0:w.call(l)}}},toDataUri:()=>`data:image/svg+xml;utf8,${encodeURIComponent(_)}`}}const Qp={bite:(e,t)=>'<rect x="4" y="5" width="68" height="22" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="9" width="60" height="14" rx="2" fill="#000" fill-opacity=".6"/><path fill-rule="evenodd" clip-rule="evenodd" d="m20 17 6-8H14l6 8ZM32 17l6-8H26l6 8ZM44 17l6-8H38l6 8ZM56 17l6-8H50l6 8Z" fill="#E1E6E8"/>',diagram:(e,t)=>'<rect x="4" y="4" width="68" height="24" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="8" width="60" height="16" rx="2" fill="#000" fill-opacity=".8"/><path d="M9 17h11l2-4 3 7 4-8 2 9 3-11 3 10 3-3h15l3-4 2 7 3-3h4" stroke="#4EFAC9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>',grill01:(e,t)=>'<g fill="#000" fill-opacity=".6"><rect x="12" y="12" width="4" height="8" rx="2"/><rect x="36" y="12" width="4" height="8" rx="2"/><rect x="24" y="12" width="4" height="8" rx="2"/><rect x="48" y="12" width="4" height="8" rx="2"/><rect x="60" y="12" width="4" height="8" rx="2"/></g>',grill02:(e,t)=>'<g fill="#000" fill-opacity=".6"><rect x="28" y="10" width="6" height="14" rx="2"/><rect x="14" y="10" width="6" height="14" rx="2"/><rect x="42" y="10" width="6" height="14" rx="2"/><rect x="56" y="10" width="6" height="14" rx="2"/></g>',grill03:(e,t)=>'<rect x="4" y="5" width="68" height="22" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="9" width="60" height="14" rx="2" fill="#fff"/><path fill="#000" fill-opacity=".1" d="M18 9h4v14h-4zM42 9h4v14h-4zM30 9h4v14h-4zM54 9h4v14h-4z"/>',smile01:(e,t)=>'<path d="M27.05 8.44a2 2 0 1 1 3.9-.88C31.72 10.96 34.4 13 38 13c3.6 0 6.28-2.04 7.05-5.44a2 2 0 1 1 3.9.88C47.75 13.7 43.43 17 38 17s-9.76-3.3-10.95-8.56Z" fill="#000" fill-opacity=".6"/>',smile02:(e,t)=>'<path fill-rule="evenodd" clip-rule="evenodd" d="M18 10.22C18 21.78 24.47 28 38 28c13.52 0 20-6.34 20-17.78C58 9.5 57.17 8 55 8H21c-2.05 0-3 1.38-3 2.22Z" fill="#000" fill-opacity=".8"/><mask id="mouthSmile02-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="18" y="8" width="40" height="20"><path fill-rule="evenodd" clip-rule="evenodd" d="M18 10.22C18 21.78 24.47 28 38 28c13.52 0 20-6.34 20-17.78C58 9.5 57.17 8 55 8H21c-2.05 0-3 1.38-3 2.22Z" fill="#fff"/></mask><g mask="url(#mouthSmile02-a)"><rect x="30" y="2" width="16" height="14" rx="2" fill="#fff"/></g>',square01:(e,t)=>'<rect x="24" y="6" width="27" height="8" rx="4" fill="#000" fill-opacity=".8"/>',square02:(e,t)=>'<rect x="16" y="8" width="44" height="4" rx="2" fill="#000" fill-opacity=".8"/>'},Jp={bulging:(e,t)=>'<circle cx="28" cy="24" r="18" fill="#000" fill-opacity=".2"/><circle cx="74" cy="24" r="18" fill="#000" fill-opacity=".2"/><circle cx="28" cy="24" r="15" fill="#F1EEDA"/><circle cx="74" cy="24" r="15" fill="#F1EEDA"/><rect x="26" y="15" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/><rect x="74" y="15" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/>',dizzy:(e,t)=>'<path d="m25 27.2 5.5 5.5c.5.4 1.2.4 1.6 0l1.6-1.6c.4-.5.4-1.2 0-1.6L28.2 24l5.5-5.5c.4-.5.4-1.2 0-1.6l-1.6-1.6c-.5-.4-1.2-.4-1.6 0L25 20.8l-5.5-5.5c-.5-.4-1.2-.4-1.6 0l-1.6 1.6c-.4.4-.4 1.1 0 1.6l5.5 5.5-5.5 5.5c-.4.5-.4 1.2 0 1.6l1.6 1.6c.5.4 1.2.4 1.6 0l5.5-5.5ZM79 27.2l5.5 5.5c.5.4 1.2.4 1.6 0l1.6-1.6c.4-.5.4-1.2 0-1.6L82.2 24l5.5-5.5c.4-.5.4-1.2 0-1.6l-1.6-1.6c-.5-.4-1.2-.4-1.6 0L79 20.8l-5.5-5.5c-.5-.4-1.2-.4-1.6 0l-1.6 1.6c-.4.4-.4 1.1 0 1.6l5.5 5.5-5.5 5.5c-.4.5-.4 1.2 0 1.6l1.6 1.6c.5.4 1.2.4 1.6 0l5.5-5.5Z" fill="#000" fill-opacity=".8"/>',eva:(e,t)=>'<g fill-rule="evenodd" clip-rule="evenodd"><path d="M53 0c34.75 0 49 17.47 49 31 0 13.53-19.59 17-49 17-29.05 0-51-3.47-51-17S17.11 0 53 0Z" fill="#000" fill-opacity=".8"/><path d="M28.82 34.65c-6.53-1.35-11.24-6.34-10.52-11.14.72-4.79 6.6-7.58 13.12-6.23 6.53 1.36 11.24 6.35 10.52 11.15-.72 4.8-6.6 7.59-13.12 6.23ZM75.42 34.65c-6.52 1.36-12.4-1.43-13.12-6.23-.72-4.8 4-9.8 10.52-11.15 6.52-1.35 12.4 1.44 13.12 6.24.72 4.81-4 9.8-10.52 11.15Z" fill="#25A6F5"/></g>',frame1:(e,t)=>'<rect y="4" width="104" height="42" rx="4" fill="#000" fill-opacity=".8"/><rect x="28" y="25" width="10" height="11" rx="2" fill="#8BDDFF"/><rect x="66" y="25" width="10" height="11" rx="2" fill="#8BDDFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21 4h8L12 46H4L21 4Z" fill="#fff" fill-opacity=".4"/>',frame2:(e,t)=>'<rect x="8" y="10" width="88" height="36" rx="4" fill="#000" fill-opacity=".8"/><rect x="28" y="21" width="10" height="17" rx="2" fill="#5EF2B8"/><rect x="66" y="21" width="10" height="17" rx="2" fill="#5EF2B8"/><path fill-rule="evenodd" clip-rule="evenodd" d="M83 10h5L76 46h-5l12-36Z" fill="#fff" fill-opacity=".4"/>',glow:(e,t)=>'<g fill="#fff"><circle cx="21" cy="30" r="15" fill-opacity=".1"/><circle cx="83" cy="30" r="15" fill-opacity=".1"/><circle cx="21" cy="30" r="12" fill-opacity=".1"/><circle cx="83" cy="30" r="12" fill-opacity=".1"/><circle cx="21" cy="30" r="6" fill-opacity=".8"/><circle cx="83" cy="30" r="6" fill-opacity=".8"/><circle cx="21" cy="30" r="3" fill-opacity=".8"/><circle cx="83" cy="30" r="3" fill-opacity=".8"/></g>',happy:(e,t)=>'<path d="m18 19 12-2M20 31c0-3.31 2.9-6 7-6 3.1 0 6 2.69 6 6M86 20l-12-3M84 31c0-3.31-2.9-6-6-6-4.1 0-7 2.69-7 6" stroke="#000" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>',hearts:(e,t)=>'<path d="M29.27 9.68c-2.55.13-4.96 2.24-6.25 4.15-1.48-1.76-4.1-3.6-6.65-3.47-5.48.28-8.85 3.8-8.63 8.1.3 5.72 4.88 8.89 9.7 12.24 1.71 1.15 5 4.15 5.42 4.82.42.67 2.14.6 2.58-.13a37.8 37.8 0 0 1 4.9-5.36c4.43-3.84 8.66-7.47 8.36-13.2-.23-4.3-3.95-7.44-9.43-7.15ZM87.63 10.36c-2.55-.14-5.17 1.7-6.65 3.47-1.3-1.9-3.7-4.02-6.25-4.15-5.48-.29-9.2 2.86-9.43 7.16-.3 5.72 3.93 9.35 8.36 13.19 1.6 1.32 4.55 4.64 4.9 5.36.35.7 2.06.82 2.58.13.51-.7 3.7-3.67 5.42-4.82 4.81-3.35 9.4-6.52 9.7-12.24.22-4.3-3.15-7.82-8.63-8.1Z" fill="#FF5353" fill-opacity=".8"/>',robocop:(e,t)=>'<rect x="7" y="16" width="91" height="16" rx="4" fill="#000" fill-opacity=".8"/><mask id="eyesRobocop-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="7" y="16" width="91" height="16"><rect x="7" y="16" width="91" height="16" rx="4" fill="#fff"/></mask><g mask="url(#eyesRobocop-a)" fill-rule="evenodd" clip-rule="evenodd" fill="#fff" fill-opacity=".8"><path d="M76 7h18L82 37H64L76 7ZM52 7h9L49 37h-9L52 7Z"/></g>',round:(e,t)=>'<g fill="#fff"><circle cx="24" cy="30" r="6"/><circle cx="80" cy="30" r="6"/></g>',roundFrame01:(e,t)=>'<rect y="12" width="104" height="32" rx="16" fill="#000" fill-opacity=".8"/><rect x="24" y="22" width="10" height="12" rx="2" fill="#F4F4F4"/><rect x="70" y="22" width="10" height="12" rx="2" fill="#F4F4F4"/>',roundFrame02:(e,t)=>'<rect y="11" width="104" height="34" rx="17" fill="#000" fill-opacity=".8"/><circle cx="29" cy="28" r="13" fill="#F1EEDA"/><circle cx="75" cy="28" r="13" fill="#F1EEDA"/><rect x="24" y="23" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/><rect x="70" y="23" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/>',sensor:(e,t)=>'<path d="M28 44a20 20 0 0 0 19.9-18h41.52a5 5 0 1 0 0-4H47.9A20 20 0 1 0 28 44Z" fill="#000" fill-opacity=".2"/><circle cx="94" cy="24" r="2" fill="#fff"/><circle cx="28" cy="24" r="16" fill="#000" fill-opacity=".6"/><circle cx="34" cy="16" r="3" fill="#fff"/>',shade01:(e,t)=>'<path d="M96 2H8c-4.5 0-8 3.5-8 8.03V28c0 4.5 3.5 8 8 8h13c8 0 11 8 18 8h27c7 0 9-8 17-8h13c4.5 0 8-3.5 8-8V10c0-4.5-3.5-8-8-8Z" fill="#000" fill-opacity=".8"/><path d="M87 14H17c-3.5 0-5 3-5 5v2c0 2 1.5 5 5 5h12c6 0 11.62 8 17 8h14c5.38 0 9-8 15-8h12c3.5 0 5-3 5-5v-2c0-2-1.5-5-5-5Z" fill="#FF3D3D"/><path d="M22.44 36.09 37.26 2h11L31.4 40.78l-.76-.58c-2.38-1.82-4.83-3.69-8.2-4.11ZM11.48 36 26.26 2h4L15.48 36h-4Z" fill="#fff" fill-opacity=".2"/>'},Yp=Object.freeze(Object.defineProperty({__proto__:null,eyes:Jp,mouth:Qp},Symbol.toStringTag,{value:"Module"}));function xo({prng:e,group:t,values:n=[]}){const r=Yp,s=e.pick(n);if(s&&r[t][s])return{name:s,value:r[t][s]}}function Zp({prng:e,options:t}){const n=xo({prng:e,group:"mouth",values:t.mouth}),r=xo({prng:e,group:"eyes",values:t.eyes});return{mouth:n,eyes:r}}function Xp({prng:e,options:t}){return{}}const eg={$schema:"http://json-schema.org/draft-07/schema#",properties:{backgroundColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"},default:["ffb300","1e88e5","546e7a","6d4c41","00acc1","f4511e","5e35b1","43a047","757575","3949ab","039be5","7cb342","c0ca33","fb8c00","d81b60","8e24aa","e53935","00897b","fdd835"]},eyes:{type:"array",items:{type:"string",enum:["bulging","dizzy","eva","frame1","frame2","glow","happy","hearts","robocop","round","roundFrame01","roundFrame02","sensor","shade01"]},default:["bulging","dizzy","eva","frame1","frame2","glow","happy","hearts","robocop","round","roundFrame01","roundFrame02","sensor","shade01"]},mouth:{type:"array",items:{type:"string",enum:["bite","diagram","grill01","grill02","grill03","smile01","smile02","square01","square02"]},default:["bite","diagram","grill01","grill02","grill03","smile01","smile02","square01","square02"]}}},tg={title:"Bottts",creator:"Pablo Stanley",source:"https://bottts.com/",homepage:"https://twitter.com/pablostanley",license:{name:"Free for personal and commercial use",url:"https://bottts.com/"}},ng=({prng:e,options:t})=>{var n,r,s,i;const o=Zp({prng:e,options:t}),a=Xp({prng:e,options:t});return{attributes:{viewBox:"0 0 120 120",fill:"none","shape-rendering":"auto"},body:`<g transform="translate(22 68)">${(r=(n=o.mouth)===null||n===void 0?void 0:n.value(o,a))!==null&&r!==void 0?r:""}</g><g transform="translate(8 20)">${(i=(s=o.eyes)===null||s===void 0?void 0:s.value(o,a))!==null&&i!==void 0?i:""}</g>`,extra:()=>({...Object.entries(o).reduce((l,[c,u])=>(l[c]=u==null?void 0:u.name,l),{}),...Object.entries(a).reduce((l,[c,u])=>(l[`${c}Color`]=u,l),{})})}},rg=Object.freeze(Object.defineProperty({__proto__:null,create:ng,meta:tg,schema:eg},Symbol.toStringTag,{value:"Module"}));function Ss(e){switch(e){case"svg":return"image/svg+xml";case"png":case"jpeg":case"webp":case"avif":return`image/${e}`;default:throw new Error(`Unsupported format: ${e}`)}}function sg(e,t=512){let n=t;return e=e.replace(/<svg([^>]*)/,(r,s)=>{const i=s.match(/width="([^"]+)"/);return i&&(n=parseInt(i[1])),s.match(/width="([^"]+)"/)?s=s.replace(/width="([^"]+)"/,`width="${n}"`):s+=` width="${n}"`,s.match(/height="([^"]+)"/)?s=s.replace(/height="([^"]+)"/,`height="${n}"`):s+=` height="${n}"`,`<svg${s}`}),{svg:e,size:n}}const ig=e=>og(e,"jpeg");function og(e,t){const n=typeof e=="string"?e:e.toString();return{toDataUri:()=>wl(n,t),toArrayBuffer:()=>ag(n,t)}}async function wl(e,t,n){return t==="svg"?`data:${Ss(t)};utf8,${encodeURIComponent(e)}`:(await bl(e,t)).toDataURL(Ss(t))}async function ag(e,t,n){const r=await bl(e,t);return await new Promise((s,i)=>{r.toBlob(o=>{o?s(o.arrayBuffer()):i(new Error("Could not create blob"))},Ss(t))})}async function bl(e,t,n){const{svg:r,size:s}=sg(e),i=document.createElement("canvas");i.width=s,i.height=s;const o=i.getContext("2d");if(o===null)throw new Error("Could not get canvas context");t==="jpeg"&&(o.fillStyle="white",o.fillRect(0,0,s,s));const a=document.createElement("img");return a.width=s,a.height=s,a.setAttribute("src",await wl(r,"svg")),new Promise((l,c)=>{a.onload=()=>{o.drawImage(a,0,0,s,s),l(i)},a.onerror=u=>c(u)})}class lg{async generateAvatarByString(t){const n=Gp(rg,{seed:t}),r=await ig(n).toArrayBuffer(),s=new Uint8Array(r);return new File([s],`${t}.jpeg`,{type:"image/jpeg"})}}const cg={quizService:new $p,avatarService:new lg},El=Nu(Hf);El.use(jd).provide("container",cg).provide("notificationProvider",Vf);El.mount("#app");export{qd as g};
