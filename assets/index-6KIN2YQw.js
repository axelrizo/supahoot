var Sl=Object.defineProperty;var xl=(t,e,n)=>e in t?Sl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var nr=(t,e,n)=>xl(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function As(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const se={},an=[],it=()=>{},Pl=()=>!1,xr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ks=t=>t.startsWith("onUpdate:"),Ce=Object.assign,Rs=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Cl=Object.prototype.hasOwnProperty,Z=(t,e)=>Cl.call(t,e),B=Array.isArray,ln=t=>Pr(t)==="[object Map]",To=t=>Pr(t)==="[object Set]",H=t=>typeof t=="function",me=t=>typeof t=="string",At=t=>typeof t=="symbol",fe=t=>t!==null&&typeof t=="object",Oo=t=>(fe(t)||H(t))&&H(t.then)&&H(t.catch),$o=Object.prototype.toString,Pr=t=>$o.call(t),Al=t=>Pr(t).slice(8,-1),Io=t=>Pr(t)==="[object Object]",Ts=t=>me(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,On=As(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Cr=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},kl=/-(\w)/g,Ct=Cr(t=>t.replace(kl,(e,n)=>n?n.toUpperCase():"")),Rl=/\B([A-Z])/g,Bt=Cr(t=>t.replace(Rl,"-$1").toLowerCase()),jo=Cr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ur=Cr(t=>t?`on${jo(t)}`:""),Pt=(t,e)=>!Object.is(t,e),dr=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Lo=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},rs=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let ii;const Ar=()=>ii||(ii=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Os(t){if(B(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=me(r)?Il(r):Os(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(me(t)||fe(t))return t}const Tl=/;(?![^(]*\))/g,Ol=/:([^]+)/,$l=/\/\*[^]*?\*\//g;function Il(t){const e={};return t.replace($l,"").split(Tl).forEach(n=>{if(n){const r=n.split(Ol);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function pn(t){let e="";if(me(t))e=t;else if(B(t))for(let n=0;n<t.length;n++){const r=pn(t[n]);r&&(e+=r+" ")}else if(fe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const jl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ll=As(jl);function Mo(t){return!!t||t===""}const Do=t=>!!(t&&t.__v_isRef===!0),he=t=>me(t)?t:t==null?"":B(t)||fe(t)&&(t.toString===$o||!H(t.toString))?Do(t)?he(t.value):JSON.stringify(t,No,2):String(t),No=(t,e)=>Do(e)?No(t,e.value):ln(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Fr(r,i)+" =>"]=s,n),{})}:To(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Fr(n))}:At(e)?Fr(e):fe(e)&&!B(e)&&!Io(e)?String(e):e,Fr=(t,e="")=>{var n;return At(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ze;class Ml{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ze,!e&&ze&&(this.index=(ze.scopes||(ze.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=ze;try{return ze=this,e()}finally{ze=n}}}on(){ze=this}off(){ze=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Dl(){return ze}let ae;const zr=new WeakSet;class Uo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ze&&ze.active&&ze.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,zr.has(this)&&(zr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||zo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,oi(this),Bo(this);const e=ae,n=Qe;ae=this,Qe=!0;try{return this.fn()}finally{qo(this),ae=e,Qe=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)js(e);this.deps=this.depsTail=void 0,oi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?zr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ss(this)&&this.run()}get dirty(){return ss(this)}}let Fo=0,$n,In;function zo(t,e=!1){if(t.flags|=8,e){t.next=In,In=t;return}t.next=$n,$n=t}function $s(){Fo++}function Is(){if(--Fo>0)return;if(In){let e=In;for(In=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;$n;){let e=$n;for($n=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Bo(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function qo(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),js(r),Nl(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function ss(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ho(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ho(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Bn))return;t.globalVersion=Bn;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!ss(t)){t.flags&=-3;return}const n=ae,r=Qe;ae=t,Qe=!0;try{Bo(t);const s=t.fn(t._value);(e.version===0||Pt(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{ae=n,Qe=r,qo(t),t.flags&=-3}}function js(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)js(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Nl(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Qe=!0;const Vo=[];function kt(){Vo.push(Qe),Qe=!1}function Rt(){const t=Vo.pop();Qe=t===void 0?!0:t}function oi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=ae;ae=void 0;try{e()}finally{ae=n}}}let Bn=0;class Ul{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ls{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ae||!Qe||ae===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ae)n=this.activeLink=new Ul(ae,this),ae.deps?(n.prevDep=ae.depsTail,ae.depsTail.nextDep=n,ae.depsTail=n):ae.deps=ae.depsTail=n,Ko(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=ae.depsTail,n.nextDep=void 0,ae.depsTail.nextDep=n,ae.depsTail=n,ae.deps===n&&(ae.deps=r)}return n}trigger(e){this.version++,Bn++,this.notify(e)}notify(e){$s();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Is()}}}function Ko(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Ko(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const is=new WeakMap,Nt=Symbol(""),os=Symbol(""),qn=Symbol("");function Se(t,e,n){if(Qe&&ae){let r=is.get(t);r||is.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Ls),s.map=r,s.key=n),s.track()}}function ht(t,e,n,r,s,i){const o=is.get(t);if(!o){Bn++;return}const a=l=>{l&&l.trigger()};if($s(),e==="clear")o.forEach(a);else{const l=B(t),c=l&&Ts(n);if(l&&n==="length"){const u=Number(r);o.forEach((d,f)=>{(f==="length"||f===qn||!At(f)&&f>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(qn)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Nt)),ln(t)&&a(o.get(os)));break;case"delete":l||(a(o.get(Nt)),ln(t)&&a(o.get(os)));break;case"set":ln(t)&&a(o.get(Nt));break}}Is()}function Wt(t){const e=Y(t);return e===t?e:(Se(e,"iterate",qn),Ve(t)?e:e.map(xe))}function kr(t){return Se(t=Y(t),"iterate",qn),t}const Fl={__proto__:null,[Symbol.iterator](){return Br(this,Symbol.iterator,xe)},concat(...t){return Wt(this).concat(...t.map(e=>B(e)?Wt(e):e))},entries(){return Br(this,"entries",t=>(t[1]=xe(t[1]),t))},every(t,e){return ct(this,"every",t,e,void 0,arguments)},filter(t,e){return ct(this,"filter",t,e,n=>n.map(xe),arguments)},find(t,e){return ct(this,"find",t,e,xe,arguments)},findIndex(t,e){return ct(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ct(this,"findLast",t,e,xe,arguments)},findLastIndex(t,e){return ct(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ct(this,"forEach",t,e,void 0,arguments)},includes(...t){return qr(this,"includes",t)},indexOf(...t){return qr(this,"indexOf",t)},join(t){return Wt(this).join(t)},lastIndexOf(...t){return qr(this,"lastIndexOf",t)},map(t,e){return ct(this,"map",t,e,void 0,arguments)},pop(){return Sn(this,"pop")},push(...t){return Sn(this,"push",t)},reduce(t,...e){return ai(this,"reduce",t,e)},reduceRight(t,...e){return ai(this,"reduceRight",t,e)},shift(){return Sn(this,"shift")},some(t,e){return ct(this,"some",t,e,void 0,arguments)},splice(...t){return Sn(this,"splice",t)},toReversed(){return Wt(this).toReversed()},toSorted(t){return Wt(this).toSorted(t)},toSpliced(...t){return Wt(this).toSpliced(...t)},unshift(...t){return Sn(this,"unshift",t)},values(){return Br(this,"values",xe)}};function Br(t,e,n){const r=kr(t),s=r[e]();return r!==t&&!Ve(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const zl=Array.prototype;function ct(t,e,n,r,s,i){const o=kr(t),a=o!==t&&!Ve(t),l=o[e];if(l!==zl[e]){const d=l.apply(t,i);return a?xe(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,xe(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const u=l.call(o,c,r);return a&&s?s(u):u}function ai(t,e,n,r){const s=kr(t);let i=n;return s!==t&&(Ve(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,xe(a),l,t)}),s[e](i,...r)}function qr(t,e,n){const r=Y(t);Se(r,"iterate",qn);const s=r[e](...n);return(s===-1||s===!1)&&Ns(n[0])?(n[0]=Y(n[0]),r[e](...n)):s}function Sn(t,e,n=[]){kt(),$s();const r=Y(t)[e].apply(t,n);return Is(),Rt(),r}const Bl=As("__proto__,__v_isRef,__isVue"),Wo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(At));function ql(t){At(t)||(t=String(t));const e=Y(this);return Se(e,"has",t),e.hasOwnProperty(t)}class Qo{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Xl:Zo:i?Yo:Jo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=B(e);if(!s){let l;if(o&&(l=Fl[n]))return l;if(n==="hasOwnProperty")return ql}const a=Reflect.get(e,n,Pe(e)?e:r);return(At(n)?Wo.has(n):Bl(n))||(s||Se(e,"get",n),i)?a:Pe(a)?o&&Ts(n)?a:a.value:fe(a)?s?ea(a):Rr(a):a}}class Go extends Qo{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=Ut(i);if(!Ve(r)&&!Ut(r)&&(i=Y(i),r=Y(r)),!B(e)&&Pe(i)&&!Pe(r))return l?!1:(i.value=r,!0)}const o=B(e)&&Ts(n)?Number(n)<e.length:Z(e,n),a=Reflect.set(e,n,r,Pe(e)?e:s);return e===Y(s)&&(o?Pt(r,i)&&ht(e,"set",n,r):ht(e,"add",n,r)),a}deleteProperty(e,n){const r=Z(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&ht(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!At(n)||!Wo.has(n))&&Se(e,"has",n),r}ownKeys(e){return Se(e,"iterate",B(e)?"length":Nt),Reflect.ownKeys(e)}}class Hl extends Qo{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Vl=new Go,Kl=new Hl,Wl=new Go(!0);const as=t=>t,rr=t=>Reflect.getPrototypeOf(t);function Ql(t,e,n){return function(...r){const s=this.__v_raw,i=Y(s),o=ln(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...r),u=n?as:e?ls:xe;return!e&&Se(i,"iterate",l?os:Nt),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function sr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Gl(t,e){const n={get(s){const i=this.__v_raw,o=Y(i),a=Y(s);t||(Pt(s,a)&&Se(o,"get",s),Se(o,"get",a));const{has:l}=rr(o),c=e?as:t?ls:xe;if(l.call(o,s))return c(i.get(s));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Se(Y(s),"iterate",Nt),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=Y(i),a=Y(s);return t||(Pt(s,a)&&Se(o,"has",s),Se(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=Y(a),c=e?as:t?ls:xe;return!t&&Se(l,"iterate",Nt),a.forEach((u,d)=>s.call(i,c(u),c(d),o))}};return Ce(n,t?{add:sr("add"),set:sr("set"),delete:sr("delete"),clear:sr("clear")}:{add(s){!e&&!Ve(s)&&!Ut(s)&&(s=Y(s));const i=Y(this);return rr(i).has.call(i,s)||(i.add(s),ht(i,"add",s,s)),this},set(s,i){!e&&!Ve(i)&&!Ut(i)&&(i=Y(i));const o=Y(this),{has:a,get:l}=rr(o);let c=a.call(o,s);c||(s=Y(s),c=a.call(o,s));const u=l.call(o,s);return o.set(s,i),c?Pt(i,u)&&ht(o,"set",s,i):ht(o,"add",s,i),this},delete(s){const i=Y(this),{has:o,get:a}=rr(i);let l=o.call(i,s);l||(s=Y(s),l=o.call(i,s)),a&&a.call(i,s);const c=i.delete(s);return l&&ht(i,"delete",s,void 0),c},clear(){const s=Y(this),i=s.size!==0,o=s.clear();return i&&ht(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Ql(s,t,e)}),n}function Ms(t,e){const n=Gl(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Z(n,s)&&s in r?n:r,s,i)}const Jl={get:Ms(!1,!1)},Yl={get:Ms(!1,!0)},Zl={get:Ms(!0,!1)};const Jo=new WeakMap,Yo=new WeakMap,Zo=new WeakMap,Xl=new WeakMap;function ec(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tc(t){return t.__v_skip||!Object.isExtensible(t)?0:ec(Al(t))}function Rr(t){return Ut(t)?t:Ds(t,!1,Vl,Jl,Jo)}function Xo(t){return Ds(t,!1,Wl,Yl,Yo)}function ea(t){return Ds(t,!0,Kl,Zl,Zo)}function Ds(t,e,n,r,s){if(!fe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=tc(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function cn(t){return Ut(t)?cn(t.__v_raw):!!(t&&t.__v_isReactive)}function Ut(t){return!!(t&&t.__v_isReadonly)}function Ve(t){return!!(t&&t.__v_isShallow)}function Ns(t){return t?!!t.__v_raw:!1}function Y(t){const e=t&&t.__v_raw;return e?Y(e):t}function nc(t){return!Z(t,"__v_skip")&&Object.isExtensible(t)&&Lo(t,"__v_skip",!0),t}const xe=t=>fe(t)?Rr(t):t,ls=t=>fe(t)?ea(t):t;function Pe(t){return t?t.__v_isRef===!0:!1}function de(t){return ta(t,!1)}function rc(t){return ta(t,!0)}function ta(t,e){return Pe(t)?t:new sc(t,e)}class sc{constructor(e,n){this.dep=new Ls,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Y(e),this._value=n?e:xe(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Ve(e)||Ut(e);e=r?e:Y(e),Pt(e,n)&&(this._rawValue=e,this._value=r?e:xe(e),this.dep.trigger())}}function we(t){return Pe(t)?t.value:t}const ic={get:(t,e,n)=>e==="__v_raw"?t:we(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Pe(s)&&!Pe(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function na(t){return cn(t)?t:new Proxy(t,ic)}class oc{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ls(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Bn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ae!==this)return zo(this,!0),!0}get value(){const e=this.dep.track();return Ho(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ac(t,e,n=!1){let r,s;return H(t)?r=t:(r=t.get,s=t.set),new oc(r,s,n)}const ir={},gr=new WeakMap;let jt;function lc(t,e=!1,n=jt){if(n){let r=gr.get(n);r||gr.set(n,r=[]),r.push(t)}}function cc(t,e,n=se){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,c=S=>s?S:Ve(S)||s===!1||s===0?pt(S,1):pt(S);let u,d,f,h,y=!1,_=!1;if(Pe(t)?(d=()=>t.value,y=Ve(t)):cn(t)?(d=()=>c(t),y=!0):B(t)?(_=!0,y=t.some(S=>cn(S)||Ve(S)),d=()=>t.map(S=>{if(Pe(S))return S.value;if(cn(S))return c(S);if(H(S))return l?l(S,2):S()})):H(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){kt();try{f()}finally{Rt()}}const S=jt;jt=u;try{return l?l(t,3,[h]):t(h)}finally{jt=S}}:d=it,e&&s){const S=d,j=s===!0?1/0:s;d=()=>pt(S(),j)}const v=Dl(),C=()=>{u.stop(),v&&v.active&&Rs(v.effects,u)};if(i&&e){const S=e;e=(...j)=>{S(...j),C()}}let A=_?new Array(t.length).fill(ir):ir;const P=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(e){const j=u.run();if(s||y||(_?j.some((q,F)=>Pt(q,A[F])):Pt(j,A))){f&&f();const q=jt;jt=u;try{const F=[j,A===ir?void 0:_&&A[0]===ir?[]:A,h];l?l(e,3,F):e(...F),A=j}finally{jt=q}}}else u.run()};return a&&a(P),u=new Uo(d),u.scheduler=o?()=>o(P,!1):P,h=S=>lc(S,!1,u),f=u.onStop=()=>{const S=gr.get(u);if(S){if(l)l(S,4);else for(const j of S)j();gr.delete(u)}},e?r?P(!0):A=u.run():o?o(P.bind(null,!0),!0):u.run(),C.pause=u.pause.bind(u),C.resume=u.resume.bind(u),C.stop=C,C}function pt(t,e=1/0,n){if(e<=0||!fe(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Pe(t))pt(t.value,e,n);else if(B(t))for(let r=0;r<t.length;r++)pt(t[r],e,n);else if(To(t)||ln(t))t.forEach(r=>{pt(r,e,n)});else if(Io(t)){for(const r in t)pt(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&pt(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Jn(t,e,n,r){try{return r?t(...r):t()}catch(s){Tr(s,e,n)}}function ot(t,e,n,r){if(H(t)){const s=Jn(t,e,n,r);return s&&Oo(s)&&s.catch(i=>{Tr(i,e,n)}),s}if(B(t)){const s=[];for(let i=0;i<t.length;i++)s.push(ot(t[i],e,n,r));return s}}function Tr(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||se;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(i){kt(),Jn(i,null,10,[t,l,c]),Rt();return}}uc(t,n,s,r,o)}function uc(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const ke=[];let nt=-1;const un=[];let bt=null,nn=0;const ra=Promise.resolve();let mr=null;function sa(t){const e=mr||ra;return t?e.then(this?t.bind(this):t):e}function dc(t){let e=nt+1,n=ke.length;for(;e<n;){const r=e+n>>>1,s=ke[r],i=Hn(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function Us(t){if(!(t.flags&1)){const e=Hn(t),n=ke[ke.length-1];!n||!(t.flags&2)&&e>=Hn(n)?ke.push(t):ke.splice(dc(e),0,t),t.flags|=1,ia()}}function ia(){mr||(mr=ra.then(aa))}function fc(t){B(t)?un.push(...t):bt&&t.id===-1?bt.splice(nn+1,0,t):t.flags&1||(un.push(t),t.flags|=1),ia()}function li(t,e,n=nt+1){for(;n<ke.length;n++){const r=ke[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;ke.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function oa(t){if(un.length){const e=[...new Set(un)].sort((n,r)=>Hn(n)-Hn(r));if(un.length=0,bt){bt.push(...e);return}for(bt=e,nn=0;nn<bt.length;nn++){const n=bt[nn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}bt=null,nn=0}}const Hn=t=>t.id==null?t.flags&2?-1:1/0:t.id;function aa(t){try{for(nt=0;nt<ke.length;nt++){const e=ke[nt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Jn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;nt<ke.length;nt++){const e=ke[nt];e&&(e.flags&=-2)}nt=-1,ke.length=0,oa(),mr=null,(ke.length||un.length)&&aa()}}let He=null,la=null;function yr(t){const e=He;return He=t,la=t&&t.type.__scopeId||null,e}function ca(t,e=He,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&yi(-1);const i=yr(e);let o;try{o=t(...s)}finally{yr(i),r._d&&yi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function ua(t,e){if(He===null)return t;const n=Lr(He),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=se]=e[s];i&&(H(i)&&(i={mounted:i,updated:i}),i.deep&&pt(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ot(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(kt(),ot(l,n,8,[t.el,a,t,e]),Rt())}}const hc=Symbol("_vte"),pc=t=>t.__isTeleport;function Fs(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Fs(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Me(t,e){return H(t)?Ce({name:t.name},e,{setup:t}):t}function da(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function _r(t,e,n,r,s=!1){if(B(t)){t.forEach((y,_)=>_r(y,e&&(B(e)?e[_]:e),n,r,s));return}if(jn(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&_r(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?Lr(r.component):r.el,o=s?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===se?a.refs={}:a.refs,d=a.setupState,f=Y(d),h=d===se?()=>!1:y=>Z(f,y);if(c!=null&&c!==l&&(me(c)?(u[c]=null,h(c)&&(d[c]=null)):Pe(c)&&(c.value=null)),H(l))Jn(l,a,12,[o,u]);else{const y=me(l),_=Pe(l);if(y||_){const v=()=>{if(t.f){const C=y?h(l)?d[l]:u[l]:l.value;s?B(C)&&Rs(C,i):B(C)?C.includes(i)||C.push(i):y?(u[l]=[i],h(l)&&(d[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else y?(u[l]=o,h(l)&&(d[l]=o)):_&&(l.value=o,t.k&&(u[t.k]=o))};o?(v.id=-1,Ue(v,n)):v()}}}Ar().requestIdleCallback;Ar().cancelIdleCallback;const jn=t=>!!t.type.__asyncLoader,fa=t=>t.type.__isKeepAlive;function gc(t,e){ha(t,"a",e)}function mc(t,e){ha(t,"da",e)}function ha(t,e,n=Re){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Or(e,r,n),n){let s=n.parent;for(;s&&s.parent;)fa(s.parent.vnode)&&yc(r,e,n,s),s=s.parent}}function yc(t,e,n,r){const s=Or(e,t,r,!0);pa(()=>{Rs(r[e],s)},n)}function Or(t,e,n=Re,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{kt();const a=Yn(n),l=ot(e,n,t,o);return a(),Rt(),l});return r?s.unshift(i):s.push(i),i}}const gt=t=>(e,n=Re)=>{(!Kn||t==="sp")&&Or(t,(...r)=>e(...r),n)},_c=gt("bm"),Tt=gt("m"),vc=gt("bu"),zs=gt("u"),bc=gt("bum"),pa=gt("um"),wc=gt("sp"),Ec=gt("rtg"),Sc=gt("rtc");function xc(t,e=Re){Or("ec",t,e)}const Pc=Symbol.for("v-ndc");function dn(t,e,n,r){let s;const i=n,o=B(t);if(o||me(t)){const a=o&&cn(t);let l=!1;a&&(l=!Ve(t),t=kr(t)),s=new Array(t.length);for(let c=0,u=t.length;c<u;c++)s[c]=e(l?xe(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(fe(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=e(t[u],u,l,i)}}else s=[];return s}const cs=t=>t?La(t)?Lr(t):cs(t.parent):null,Ln=Ce(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>cs(t.parent),$root:t=>cs(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ma(t),$forceUpdate:t=>t.f||(t.f=()=>{Us(t.update)}),$nextTick:t=>t.n||(t.n=sa.bind(t.proxy)),$watch:t=>Kc.bind(t)}),Hr=(t,e)=>t!==se&&!t.__isScriptSetup&&Z(t,e),Cc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Hr(r,e))return o[e]=1,r[e];if(s!==se&&Z(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&Z(c,e))return o[e]=3,i[e];if(n!==se&&Z(n,e))return o[e]=4,n[e];us&&(o[e]=0)}}const u=Ln[e];let d,f;if(u)return e==="$attrs"&&Se(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==se&&Z(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Z(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Hr(s,e)?(s[e]=n,!0):r!==se&&Z(r,e)?(r[e]=n,!0):Z(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==se&&Z(t,o)||Hr(e,o)||(a=i[0])&&Z(a,o)||Z(r,o)||Z(Ln,o)||Z(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Z(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function ci(t){return B(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let us=!0;function Ac(t){const e=ma(t),n=t.proxy,r=t.ctx;us=!1,e.beforeCreate&&ui(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:y,activated:_,deactivated:v,beforeDestroy:C,beforeUnmount:A,destroyed:P,unmounted:S,render:j,renderTracked:q,renderTriggered:F,errorCaptured:ce,serverPrefetch:ue,expose:ye,inheritAttrs:_e,components:X,directives:pe,filters:at}=e;if(c&&kc(c,r,null),o)for(const te in o){const G=o[te];H(G)&&(r[te]=G.bind(n))}if(s){const te=s.call(n,n);fe(te)&&(t.data=Rr(te))}if(us=!0,i)for(const te in i){const G=i[te],lt=H(G)?G.bind(n,n):H(G.get)?G.get.bind(n,n):it,mt=!H(G)&&H(G.set)?G.set.bind(n):it,Je=je({get:lt,set:mt});Object.defineProperty(r,te,{enumerable:!0,configurable:!0,get:()=>Je.value,set:Te=>Je.value=Te})}if(a)for(const te in a)ga(a[te],r,n,te);if(l){const te=H(l)?l.call(n):l;Reflect.ownKeys(te).forEach(G=>{Mn(G,te[G])})}u&&ui(u,t,"c");function ge(te,G){B(G)?G.forEach(lt=>te(lt.bind(n))):G&&te(G.bind(n))}if(ge(_c,d),ge(Tt,f),ge(vc,h),ge(zs,y),ge(gc,_),ge(mc,v),ge(xc,ce),ge(Sc,q),ge(Ec,F),ge(bc,A),ge(pa,S),ge(wc,ue),B(ye))if(ye.length){const te=t.exposed||(t.exposed={});ye.forEach(G=>{Object.defineProperty(te,G,{get:()=>n[G],set:lt=>n[G]=lt})})}else t.exposed||(t.exposed={});j&&t.render===it&&(t.render=j),_e!=null&&(t.inheritAttrs=_e),X&&(t.components=X),pe&&(t.directives=pe),ue&&da(t)}function kc(t,e,n=it){B(t)&&(t=ds(t));for(const r in t){const s=t[r];let i;fe(s)?"default"in s?i=le(s.from||r,s.default,!0):i=le(s.from||r):i=le(s),Pe(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function ui(t,e,n){ot(B(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function ga(t,e,n,r){let s=r.includes(".")?Ta(n,r):()=>n[r];if(me(t)){const i=e[t];H(i)&&fr(s,i)}else if(H(t))fr(s,t.bind(n));else if(fe(t))if(B(t))t.forEach(i=>ga(i,e,n,r));else{const i=H(t.handler)?t.handler.bind(n):e[t.handler];H(i)&&fr(s,i,t)}}function ma(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(c=>vr(l,c,o,!0)),vr(l,e,o)),fe(e)&&i.set(e,l),l}function vr(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&vr(t,i,n,!0),s&&s.forEach(o=>vr(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=Rc[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Rc={data:di,props:fi,emits:fi,methods:Rn,computed:Rn,beforeCreate:Ae,created:Ae,beforeMount:Ae,mounted:Ae,beforeUpdate:Ae,updated:Ae,beforeDestroy:Ae,beforeUnmount:Ae,destroyed:Ae,unmounted:Ae,activated:Ae,deactivated:Ae,errorCaptured:Ae,serverPrefetch:Ae,components:Rn,directives:Rn,watch:Oc,provide:di,inject:Tc};function di(t,e){return e?t?function(){return Ce(H(t)?t.call(this,this):t,H(e)?e.call(this,this):e)}:e:t}function Tc(t,e){return Rn(ds(t),ds(e))}function ds(t){if(B(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ae(t,e){return t?[...new Set([].concat(t,e))]:e}function Rn(t,e){return t?Ce(Object.create(null),t,e):e}function fi(t,e){return t?B(t)&&B(e)?[...new Set([...t,...e])]:Ce(Object.create(null),ci(t),ci(e??{})):e}function Oc(t,e){if(!t)return e;if(!e)return t;const n=Ce(Object.create(null),t);for(const r in e)n[r]=Ae(t[r],e[r]);return n}function ya(){return{app:null,config:{isNativeTag:Pl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $c=0;function Ic(t,e){return function(r,s=null){H(r)||(r=Ce({},r)),s!=null&&!fe(s)&&(s=null);const i=ya(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:$c++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:fu,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&H(u.install)?(o.add(u),u.install(c,...d)):H(u)&&(o.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||Le(r,s);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(h,u,f),l=!0,c._container=u,u.__vue_app__=c,Lr(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(ot(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=fn;fn=c;try{return u()}finally{fn=d}}};return c}}let fn=null;function Mn(t,e){if(Re){let n=Re.provides;const r=Re.parent&&Re.parent.provides;r===n&&(n=Re.provides=Object.create(r)),n[t]=e}}function le(t,e,n=!1){const r=Re||He;if(r||fn){const s=fn?fn._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&H(e)?e.call(r&&r.proxy):e}}const _a={},va=()=>Object.create(_a),ba=t=>Object.getPrototypeOf(t)===_a;function jc(t,e,n,r=!1){const s={},i=va();t.propsDefaults=Object.create(null),wa(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Xo(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function Lc(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Y(s),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if($r(t.emitsOptions,f))continue;const h=e[f];if(l)if(Z(i,f))h!==i[f]&&(i[f]=h,c=!0);else{const y=Ct(f);s[y]=fs(l,a,y,h,t,!1)}else h!==i[f]&&(i[f]=h,c=!0)}}}else{wa(t,e,s,i)&&(c=!0);let u;for(const d in a)(!e||!Z(e,d)&&((u=Bt(d))===d||!Z(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=fs(l,a,d,void 0,t,!0)):delete s[d]);if(i!==a)for(const d in i)(!e||!Z(e,d))&&(delete i[d],c=!0)}c&&ht(t.attrs,"set","")}function wa(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(On(l))continue;const c=e[l];let u;s&&Z(s,u=Ct(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:$r(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=Y(n),c=a||se;for(let u=0;u<i.length;u++){const d=i[u];n[d]=fs(s,l,d,c[d],t,!Z(c,d))}}return o}function fs(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Z(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&H(l)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const u=Yn(s);r=c[n]=l.call(null,e),u()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Bt(n))&&(r=!0))}return r}const Mc=new WeakMap;function Ea(t,e,n=!1){const r=n?Mc:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!H(t)){const u=d=>{l=!0;const[f,h]=Ea(d,e,!0);Ce(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return fe(t)&&r.set(t,an),an;if(B(i))for(let u=0;u<i.length;u++){const d=Ct(i[u]);hi(d)&&(o[d]=se)}else if(i)for(const u in i){const d=Ct(u);if(hi(d)){const f=i[u],h=o[d]=B(f)||H(f)?{type:f}:Ce({},f),y=h.type;let _=!1,v=!0;if(B(y))for(let C=0;C<y.length;++C){const A=y[C],P=H(A)&&A.name;if(P==="Boolean"){_=!0;break}else P==="String"&&(v=!1)}else _=H(y)&&y.name==="Boolean";h[0]=_,h[1]=v,(_||Z(h,"default"))&&a.push(d)}}const c=[o,a];return fe(t)&&r.set(t,c),c}function hi(t){return t[0]!=="$"&&!On(t)}const Sa=t=>t[0]==="_"||t==="$stable",Bs=t=>B(t)?t.map(rt):[rt(t)],Dc=(t,e,n)=>{if(e._n)return e;const r=ca((...s)=>Bs(e(...s)),n);return r._c=!1,r},xa=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Sa(s))continue;const i=t[s];if(H(i))e[s]=Dc(s,i,r);else if(i!=null){const o=Bs(i);e[s]=()=>o}}},Pa=(t,e)=>{const n=Bs(e);t.slots.default=()=>n},Ca=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},Nc=(t,e,n)=>{const r=t.slots=va();if(t.vnode.shapeFlag&32){const s=e._;s?(Ca(r,e,n),n&&Lo(r,"_",s,!0)):xa(e,r)}else e&&Pa(t,e)},Uc=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=se;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:Ca(s,e,n):(i=!e.$stable,xa(e,s)),o=e}else e&&(Pa(t,e),o={default:1});if(i)for(const a in s)!Sa(a)&&o[a]==null&&delete s[a]},Ue=Xc;function Fc(t){return zc(t)}function zc(t,e){const n=Ar();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=it,insertStaticContent:y}=t,_=(p,g,m,b=null,x=null,E=null,O=void 0,T=null,R=!!g.dynamicChildren)=>{if(p===g)return;p&&!xn(p,g)&&(b=w(p),Te(p,x,E,!0),p=null),g.patchFlag===-2&&(R=!1,g.dynamicChildren=null);const{type:k,ref:U,shapeFlag:I}=g;switch(k){case Ir:v(p,g,m,b);break;case Ft:C(p,g,m,b);break;case Kr:p==null&&A(g,m,b,O);break;case Ee:X(p,g,m,b,x,E,O,T,R);break;default:I&1?j(p,g,m,b,x,E,O,T,R):I&6?pe(p,g,m,b,x,E,O,T,R):(I&64||I&128)&&k.process(p,g,m,b,x,E,O,T,R,M)}U!=null&&x&&_r(U,p&&p.ref,E,g||p,!g)},v=(p,g,m,b)=>{if(p==null)r(g.el=a(g.children),m,b);else{const x=g.el=p.el;g.children!==p.children&&c(x,g.children)}},C=(p,g,m,b)=>{p==null?r(g.el=l(g.children||""),m,b):g.el=p.el},A=(p,g,m,b)=>{[p.el,p.anchor]=y(p.children,g,m,b,p.el,p.anchor)},P=({el:p,anchor:g},m,b)=>{let x;for(;p&&p!==g;)x=f(p),r(p,m,b),p=x;r(g,m,b)},S=({el:p,anchor:g})=>{let m;for(;p&&p!==g;)m=f(p),s(p),p=m;s(g)},j=(p,g,m,b,x,E,O,T,R)=>{g.type==="svg"?O="svg":g.type==="math"&&(O="mathml"),p==null?q(g,m,b,x,E,O,T,R):ue(p,g,x,E,O,T,R)},q=(p,g,m,b,x,E,O,T)=>{let R,k;const{props:U,shapeFlag:I,transition:N,dirs:z}=p;if(R=p.el=o(p.type,E,U&&U.is,U),I&8?u(R,p.children):I&16&&ce(p.children,R,null,b,x,Vr(p,E),O,T),z&&Ot(p,null,b,"created"),F(R,p,p.scopeId,O,b),U){for(const ie in U)ie!=="value"&&!On(ie)&&i(R,ie,null,U[ie],E,b);"value"in U&&i(R,"value",null,U.value,E),(k=U.onVnodeBeforeMount)&&et(k,b,p)}z&&Ot(p,null,b,"beforeMount");const W=Bc(x,N);W&&N.beforeEnter(R),r(R,g,m),((k=U&&U.onVnodeMounted)||W||z)&&Ue(()=>{k&&et(k,b,p),W&&N.enter(R),z&&Ot(p,null,b,"mounted")},x)},F=(p,g,m,b,x)=>{if(m&&h(p,m),b)for(let E=0;E<b.length;E++)h(p,b[E]);if(x){let E=x.subTree;if(g===E||$a(E.type)&&(E.ssContent===g||E.ssFallback===g)){const O=x.vnode;F(p,O,O.scopeId,O.slotScopeIds,x.parent)}}},ce=(p,g,m,b,x,E,O,T,R=0)=>{for(let k=R;k<p.length;k++){const U=p[k]=T?wt(p[k]):rt(p[k]);_(null,U,g,m,b,x,E,O,T)}},ue=(p,g,m,b,x,E,O)=>{const T=g.el=p.el;let{patchFlag:R,dynamicChildren:k,dirs:U}=g;R|=p.patchFlag&16;const I=p.props||se,N=g.props||se;let z;if(m&&$t(m,!1),(z=N.onVnodeBeforeUpdate)&&et(z,m,g,p),U&&Ot(g,p,m,"beforeUpdate"),m&&$t(m,!0),(I.innerHTML&&N.innerHTML==null||I.textContent&&N.textContent==null)&&u(T,""),k?ye(p.dynamicChildren,k,T,m,b,Vr(g,x),E):O||G(p,g,T,null,m,b,Vr(g,x),E,!1),R>0){if(R&16)_e(T,I,N,m,x);else if(R&2&&I.class!==N.class&&i(T,"class",null,N.class,x),R&4&&i(T,"style",I.style,N.style,x),R&8){const W=g.dynamicProps;for(let ie=0;ie<W.length;ie++){const ee=W[ie],De=I[ee],Oe=N[ee];(Oe!==De||ee==="value")&&i(T,ee,De,Oe,x,m)}}R&1&&p.children!==g.children&&u(T,g.children)}else!O&&k==null&&_e(T,I,N,m,x);((z=N.onVnodeUpdated)||U)&&Ue(()=>{z&&et(z,m,g,p),U&&Ot(g,p,m,"updated")},b)},ye=(p,g,m,b,x,E,O)=>{for(let T=0;T<g.length;T++){const R=p[T],k=g[T],U=R.el&&(R.type===Ee||!xn(R,k)||R.shapeFlag&70)?d(R.el):m;_(R,k,U,null,b,x,E,O,!0)}},_e=(p,g,m,b,x)=>{if(g!==m){if(g!==se)for(const E in g)!On(E)&&!(E in m)&&i(p,E,g[E],null,x,b);for(const E in m){if(On(E))continue;const O=m[E],T=g[E];O!==T&&E!=="value"&&i(p,E,T,O,x,b)}"value"in m&&i(p,"value",g.value,m.value,x)}},X=(p,g,m,b,x,E,O,T,R)=>{const k=g.el=p?p.el:a(""),U=g.anchor=p?p.anchor:a("");let{patchFlag:I,dynamicChildren:N,slotScopeIds:z}=g;z&&(T=T?T.concat(z):z),p==null?(r(k,m,b),r(U,m,b),ce(g.children||[],m,U,x,E,O,T,R)):I>0&&I&64&&N&&p.dynamicChildren?(ye(p.dynamicChildren,N,m,x,E,O,T),(g.key!=null||x&&g===x.subTree)&&Aa(p,g,!0)):G(p,g,m,U,x,E,O,T,R)},pe=(p,g,m,b,x,E,O,T,R)=>{g.slotScopeIds=T,p==null?g.shapeFlag&512?x.ctx.activate(g,m,b,O,R):at(g,m,b,x,E,O,R):Ke(p,g,R)},at=(p,g,m,b,x,E,O)=>{const T=p.component=ou(p,b,x);if(fa(p)&&(T.ctx.renderer=M),au(T,!1,O),T.asyncDep){if(x&&x.registerDep(T,ge,O),!p.el){const R=T.subTree=Le(Ft);C(null,R,g,m)}}else ge(T,p,g,m,x,E,O)},Ke=(p,g,m)=>{const b=g.component=p.component;if(Yc(p,g,m))if(b.asyncDep&&!b.asyncResolved){te(b,g,m);return}else b.next=g,b.update();else g.el=p.el,b.vnode=g},ge=(p,g,m,b,x,E,O)=>{const T=()=>{if(p.isMounted){let{next:I,bu:N,u:z,parent:W,vnode:ie}=p;{const Ze=ka(p);if(Ze){I&&(I.el=ie.el,te(p,I,O)),Ze.asyncDep.then(()=>{p.isUnmounted||T()});return}}let ee=I,De;$t(p,!1),I?(I.el=ie.el,te(p,I,O)):I=ie,N&&dr(N),(De=I.props&&I.props.onVnodeBeforeUpdate)&&et(De,W,I,ie),$t(p,!0);const Oe=gi(p),Ye=p.subTree;p.subTree=Oe,_(Ye,Oe,d(Ye.el),w(Ye),p,x,E),I.el=Oe.el,ee===null&&Zc(p,Oe.el),z&&Ue(z,x),(De=I.props&&I.props.onVnodeUpdated)&&Ue(()=>et(De,W,I,ie),x)}else{let I;const{el:N,props:z}=g,{bm:W,m:ie,parent:ee,root:De,type:Oe}=p,Ye=jn(g);$t(p,!1),W&&dr(W),!Ye&&(I=z&&z.onVnodeBeforeMount)&&et(I,ee,g),$t(p,!0);{De.ce&&De.ce._injectChildStyle(Oe);const Ze=p.subTree=gi(p);_(null,Ze,m,b,p,x,E),g.el=Ze.el}if(ie&&Ue(ie,x),!Ye&&(I=z&&z.onVnodeMounted)){const Ze=g;Ue(()=>et(I,ee,Ze),x)}(g.shapeFlag&256||ee&&jn(ee.vnode)&&ee.vnode.shapeFlag&256)&&p.a&&Ue(p.a,x),p.isMounted=!0,g=m=b=null}};p.scope.on();const R=p.effect=new Uo(T);p.scope.off();const k=p.update=R.run.bind(R),U=p.job=R.runIfDirty.bind(R);U.i=p,U.id=p.uid,R.scheduler=()=>Us(U),$t(p,!0),k()},te=(p,g,m)=>{g.component=p;const b=p.vnode.props;p.vnode=g,p.next=null,Lc(p,g.props,b,m),Uc(p,g.children,m),kt(),li(p),Rt()},G=(p,g,m,b,x,E,O,T,R=!1)=>{const k=p&&p.children,U=p?p.shapeFlag:0,I=g.children,{patchFlag:N,shapeFlag:z}=g;if(N>0){if(N&128){mt(k,I,m,b,x,E,O,T,R);return}else if(N&256){lt(k,I,m,b,x,E,O,T,R);return}}z&8?(U&16&&qe(k,x,E),I!==k&&u(m,I)):U&16?z&16?mt(k,I,m,b,x,E,O,T,R):qe(k,x,E,!0):(U&8&&u(m,""),z&16&&ce(I,m,b,x,E,O,T,R))},lt=(p,g,m,b,x,E,O,T,R)=>{p=p||an,g=g||an;const k=p.length,U=g.length,I=Math.min(k,U);let N;for(N=0;N<I;N++){const z=g[N]=R?wt(g[N]):rt(g[N]);_(p[N],z,m,null,x,E,O,T,R)}k>U?qe(p,x,E,!0,!1,I):ce(g,m,b,x,E,O,T,R,I)},mt=(p,g,m,b,x,E,O,T,R)=>{let k=0;const U=g.length;let I=p.length-1,N=U-1;for(;k<=I&&k<=N;){const z=p[k],W=g[k]=R?wt(g[k]):rt(g[k]);if(xn(z,W))_(z,W,m,null,x,E,O,T,R);else break;k++}for(;k<=I&&k<=N;){const z=p[I],W=g[N]=R?wt(g[N]):rt(g[N]);if(xn(z,W))_(z,W,m,null,x,E,O,T,R);else break;I--,N--}if(k>I){if(k<=N){const z=N+1,W=z<U?g[z].el:b;for(;k<=N;)_(null,g[k]=R?wt(g[k]):rt(g[k]),m,W,x,E,O,T,R),k++}}else if(k>N)for(;k<=I;)Te(p[k],x,E,!0),k++;else{const z=k,W=k,ie=new Map;for(k=W;k<=N;k++){const Ne=g[k]=R?wt(g[k]):rt(g[k]);Ne.key!=null&&ie.set(Ne.key,k)}let ee,De=0;const Oe=N-W+1;let Ye=!1,Ze=0;const En=new Array(Oe);for(k=0;k<Oe;k++)En[k]=0;for(k=z;k<=I;k++){const Ne=p[k];if(De>=Oe){Te(Ne,x,E,!0);continue}let Xe;if(Ne.key!=null)Xe=ie.get(Ne.key);else for(ee=W;ee<=N;ee++)if(En[ee-W]===0&&xn(Ne,g[ee])){Xe=ee;break}Xe===void 0?Te(Ne,x,E,!0):(En[Xe-W]=k+1,Xe>=Ze?Ze=Xe:Ye=!0,_(Ne,g[Xe],m,null,x,E,O,T,R),De++)}const ri=Ye?qc(En):an;for(ee=ri.length-1,k=Oe-1;k>=0;k--){const Ne=W+k,Xe=g[Ne],si=Ne+1<U?g[Ne+1].el:b;En[k]===0?_(null,Xe,m,si,x,E,O,T,R):Ye&&(ee<0||k!==ri[ee]?Je(Xe,m,si,2):ee--)}}},Je=(p,g,m,b,x=null)=>{const{el:E,type:O,transition:T,children:R,shapeFlag:k}=p;if(k&6){Je(p.component.subTree,g,m,b);return}if(k&128){p.suspense.move(g,m,b);return}if(k&64){O.move(p,g,m,M);return}if(O===Ee){r(E,g,m);for(let I=0;I<R.length;I++)Je(R[I],g,m,b);r(p.anchor,g,m);return}if(O===Kr){P(p,g,m);return}if(b!==2&&k&1&&T)if(b===0)T.beforeEnter(E),r(E,g,m),Ue(()=>T.enter(E),x);else{const{leave:I,delayLeave:N,afterLeave:z}=T,W=()=>r(E,g,m),ie=()=>{I(E,()=>{W(),z&&z()})};N?N(E,W,ie):ie()}else r(E,g,m)},Te=(p,g,m,b=!1,x=!1)=>{const{type:E,props:O,ref:T,children:R,dynamicChildren:k,shapeFlag:U,patchFlag:I,dirs:N,cacheIndex:z}=p;if(I===-2&&(x=!1),T!=null&&_r(T,null,m,p,!0),z!=null&&(g.renderCache[z]=void 0),U&256){g.ctx.deactivate(p);return}const W=U&1&&N,ie=!jn(p);let ee;if(ie&&(ee=O&&O.onVnodeBeforeUnmount)&&et(ee,g,p),U&6)tr(p.component,m,b);else{if(U&128){p.suspense.unmount(m,b);return}W&&Ot(p,null,g,"beforeUnmount"),U&64?p.type.remove(p,g,m,M,b):k&&!k.hasOnce&&(E!==Ee||I>0&&I&64)?qe(k,g,m,!1,!0):(E===Ee&&I&384||!x&&U&16)&&qe(R,g,m),b&&Vt(p)}(ie&&(ee=O&&O.onVnodeUnmounted)||W)&&Ue(()=>{ee&&et(ee,g,p),W&&Ot(p,null,g,"unmounted")},m)},Vt=p=>{const{type:g,el:m,anchor:b,transition:x}=p;if(g===Ee){Kt(m,b);return}if(g===Kr){S(p);return}const E=()=>{s(m),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(p.shapeFlag&1&&x&&!x.persisted){const{leave:O,delayLeave:T}=x,R=()=>O(m,E);T?T(p.el,E,R):R()}else E()},Kt=(p,g)=>{let m;for(;p!==g;)m=f(p),s(p),p=m;s(g)},tr=(p,g,m)=>{const{bum:b,scope:x,job:E,subTree:O,um:T,m:R,a:k}=p;pi(R),pi(k),b&&dr(b),x.stop(),E&&(E.flags|=8,Te(O,p,g,m)),T&&Ue(T,g),Ue(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},qe=(p,g,m,b=!1,x=!1,E=0)=>{for(let O=E;O<p.length;O++)Te(p[O],g,m,b,x)},w=p=>{if(p.shapeFlag&6)return w(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=f(p.anchor||p.el),m=g&&g[hc];return m?f(m):g};let L=!1;const $=(p,g,m)=>{p==null?g._vnode&&Te(g._vnode,null,null,!0):_(g._vnode||null,p,g,null,null,null,m),g._vnode=p,L||(L=!0,li(),oa(),L=!1)},M={p:_,um:Te,m:Je,r:Vt,mt:at,mc:ce,pc:G,pbc:ye,n:w,o:t};return{render:$,hydrate:void 0,createApp:Ic($)}}function Vr({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function $t({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Bc(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Aa(t,e,n=!1){const r=t.children,s=e.children;if(B(r)&&B(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=wt(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Aa(o,a)),a.type===Ir&&(a.el=o.el)}}function qc(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(s=n[n.length-1],t[s]<c){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function ka(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ka(e)}function pi(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Hc=Symbol.for("v-scx"),Vc=()=>le(Hc);function fr(t,e,n){return Ra(t,e,n)}function Ra(t,e,n=se){const{immediate:r,deep:s,flush:i,once:o}=n,a=Ce({},n),l=e&&r||!e&&i!=="post";let c;if(Kn){if(i==="sync"){const h=Vc();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=it,h.resume=it,h.pause=it,h}}const u=Re;a.call=(h,y,_)=>ot(h,u,y,_);let d=!1;i==="post"?a.scheduler=h=>{Ue(h,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(h,y)=>{y?h():Us(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=cc(t,e,a);return Kn&&(c?c.push(f):l&&f()),f}function Kc(t,e,n){const r=this.proxy,s=me(t)?t.includes(".")?Ta(r,t):()=>r[t]:t.bind(r,r);let i;H(e)?i=e:(i=e.handler,n=e);const o=Yn(this),a=Ra(s,i.bind(r),n);return o(),a}function Ta(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Wc=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ct(e)}Modifiers`]||t[`${Bt(e)}Modifiers`];function Qc(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||se;let s=n;const i=e.startsWith("update:"),o=i&&Wc(r,e.slice(7));o&&(o.trim&&(s=n.map(u=>me(u)?u.trim():u)),o.number&&(s=n.map(rs)));let a,l=r[a=Ur(e)]||r[a=Ur(Ct(e))];!l&&i&&(l=r[a=Ur(Bt(e))]),l&&ot(l,t,6,s);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ot(c,t,6,s)}}function Oa(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!H(t)){const l=c=>{const u=Oa(c,e,!0);u&&(a=!0,Ce(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(fe(t)&&r.set(t,null),null):(B(i)?i.forEach(l=>o[l]=null):Ce(o,i),fe(t)&&r.set(t,o),o)}function $r(t,e){return!t||!xr(e)?!1:(e=e.slice(2).replace(/Once$/,""),Z(t,e[0].toLowerCase()+e.slice(1))||Z(t,Bt(e))||Z(t,e))}function gi(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:y,inheritAttrs:_}=t,v=yr(t);let C,A;try{if(n.shapeFlag&4){const S=s||r,j=S;C=rt(c.call(j,S,u,d,h,f,y)),A=a}else{const S=e;C=rt(S.length>1?S(d,{attrs:a,slots:o,emit:l}):S(d,null)),A=e.props?a:Gc(a)}}catch(S){Dn.length=0,Tr(S,t,1),C=Le(Ft)}let P=C;if(A&&_!==!1){const S=Object.keys(A),{shapeFlag:j}=P;S.length&&j&7&&(i&&S.some(ks)&&(A=Jc(A,i)),P=gn(P,A,!1,!0))}return n.dirs&&(P=gn(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&Fs(P,n.transition),C=P,yr(v),C}const Gc=t=>{let e;for(const n in t)(n==="class"||n==="style"||xr(n))&&((e||(e={}))[n]=t[n]);return e},Jc=(t,e)=>{const n={};for(const r in t)(!ks(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Yc(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?mi(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==r[f]&&!$r(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?mi(r,o,c):!0:!!o;return!1}function mi(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!$r(n,i))return!0}return!1}function Zc({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const $a=t=>t.__isSuspense;function Xc(t,e){e&&e.pendingBranch?B(t)?e.effects.push(...t):e.effects.push(t):fc(t)}const Ee=Symbol.for("v-fgt"),Ir=Symbol.for("v-txt"),Ft=Symbol.for("v-cmt"),Kr=Symbol.for("v-stc"),Dn=[];let Be=null;function Q(t=!1){Dn.push(Be=t?null:[])}function eu(){Dn.pop(),Be=Dn[Dn.length-1]||null}let Vn=1;function yi(t,e=!1){Vn+=t,t<0&&Be&&e&&(Be.hasOnce=!0)}function Ia(t){return t.dynamicChildren=Vn>0?Be||an:null,eu(),Vn>0&&Be&&Be.push(t),t}function re(t,e,n,r,s,i){return Ia(D(t,e,n,r,s,i,!0))}function jr(t,e,n,r,s){return Ia(Le(t,e,n,r,s,!0))}function br(t){return t?t.__v_isVNode===!0:!1}function xn(t,e){return t.type===e.type&&t.key===e.key}const ja=({key:t})=>t??null,hr=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?me(t)||Pe(t)||H(t)?{i:He,r:t,k:e,f:!!n}:t:null);function D(t,e=null,n=null,r=0,s=null,i=t===Ee?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ja(e),ref:e&&hr(e),scopeId:la,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:He};return a?(Hs(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=me(n)?8:16),Vn>0&&!o&&Be&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Be.push(l),l}const Le=tu;function tu(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Pc)&&(t=Ft),br(t)){const a=gn(t,e,!0);return n&&Hs(a,n),Vn>0&&!i&&Be&&(a.shapeFlag&6?Be[Be.indexOf(t)]=a:Be.push(a)),a.patchFlag=-2,a}if(du(t)&&(t=t.__vccOpts),e){e=nu(e);let{class:a,style:l}=e;a&&!me(a)&&(e.class=pn(a)),fe(l)&&(Ns(l)&&!B(l)&&(l=Ce({},l)),e.style=Os(l))}const o=me(t)?1:$a(t)?128:pc(t)?64:fe(t)?4:H(t)?2:0;return D(t,e,n,r,s,o,i,!0)}function nu(t){return t?Ns(t)||ba(t)?Ce({},t):t:null}function gn(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?ru(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&ja(c),ref:e&&e.ref?n&&i?B(i)?i.concat(hr(e)):[i,hr(e)]:hr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ee?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&gn(t.ssContent),ssFallback:t.ssFallback&&gn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Fs(u,l.clone(u)),u}function hs(t=" ",e=0){return Le(Ir,null,t,e)}function qs(t="",e=!1){return e?(Q(),jr(Ft,null,t)):Le(Ft,null,t)}function rt(t){return t==null||typeof t=="boolean"?Le(Ft):B(t)?Le(Ee,null,t.slice()):br(t)?wt(t):Le(Ir,null,String(t))}function wt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:gn(t)}function Hs(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(B(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Hs(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!ba(e)?e._ctx=He:s===3&&He&&(He.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else H(e)?(e={default:e,_ctx:He},n=32):(e=String(e),r&64?(n=16,e=[hs(e)]):n=8);t.children=e,t.shapeFlag|=n}function ru(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=pn([e.class,r.class]));else if(s==="style")e.style=Os([e.style,r.style]);else if(xr(s)){const i=e[s],o=r[s];o&&i!==o&&!(B(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function et(t,e,n,r=null){ot(t,e,7,[n,r])}const su=ya();let iu=0;function ou(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||su,i={uid:iu++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ml(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ea(r,s),emitsOptions:Oa(r,s),emit:null,emitted:null,propsDefaults:se,inheritAttrs:r.inheritAttrs,ctx:se,data:se,props:se,attrs:se,slots:se,refs:se,setupState:se,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Qc.bind(null,i),t.ce&&t.ce(i),i}let Re=null,wr,ps;{const t=Ar(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};wr=e("__VUE_INSTANCE_SETTERS__",n=>Re=n),ps=e("__VUE_SSR_SETTERS__",n=>Kn=n)}const Yn=t=>{const e=Re;return wr(t),t.scope.on(),()=>{t.scope.off(),wr(e)}},_i=()=>{Re&&Re.scope.off(),wr(null)};function La(t){return t.vnode.shapeFlag&4}let Kn=!1;function au(t,e=!1,n=!1){e&&ps(e);const{props:r,children:s}=t.vnode,i=La(t);jc(t,r,i,e),Nc(t,s,n);const o=i?lu(t,e):void 0;return e&&ps(!1),o}function lu(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Cc);const{setup:r}=n;if(r){kt();const s=t.setupContext=r.length>1?uu(t):null,i=Yn(t),o=Jn(r,t,0,[t.props,s]),a=Oo(o);if(Rt(),i(),(a||t.sp)&&!jn(t)&&da(t),a){if(o.then(_i,_i),e)return o.then(l=>{vi(t,l)}).catch(l=>{Tr(l,t,0)});t.asyncDep=o}else vi(t,o)}else Ma(t)}function vi(t,e,n){H(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:fe(e)&&(t.setupState=na(e)),Ma(t)}function Ma(t,e,n){const r=t.type;t.render||(t.render=r.render||it);{const s=Yn(t);kt();try{Ac(t)}finally{Rt(),s()}}}const cu={get(t,e){return Se(t,"get",""),t[e]}};function uu(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,cu),slots:t.slots,emit:t.emit,expose:e}}function Lr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(na(nc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ln)return Ln[n](t)},has(e,n){return n in e||n in Ln}})):t.proxy}function du(t){return H(t)&&"__vccOpts"in t}const je=(t,e)=>ac(t,e,Kn);function Ie(t,e,n){const r=arguments.length;return r===2?fe(e)&&!B(e)?br(e)?Le(t,null,[e]):Le(t,e):Le(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&br(n)&&(n=[n]),Le(t,e,n))}const fu="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gs;const bi=typeof window<"u"&&window.trustedTypes;if(bi)try{gs=bi.createPolicy("vue",{createHTML:t=>t})}catch{}const Da=gs?t=>gs.createHTML(t):t=>t,hu="http://www.w3.org/2000/svg",pu="http://www.w3.org/1998/Math/MathML",dt=typeof document<"u"?document:null,wi=dt&&dt.createElement("template"),gu={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?dt.createElementNS(hu,t):e==="mathml"?dt.createElementNS(pu,t):n?dt.createElement(t,{is:n}):dt.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>dt.createTextNode(t),createComment:t=>dt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>dt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{wi.innerHTML=Da(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=wi.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},mu=Symbol("_vtc");function yu(t,e,n){const r=t[mu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ei=Symbol("_vod"),_u=Symbol("_vsh"),vu=Symbol(""),bu=/(^|;)\s*display\s*:/;function wu(t,e,n){const r=t.style,s=me(n);let i=!1;if(n&&!s){if(e)if(me(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&pr(r,a,"")}else for(const o in e)n[o]==null&&pr(r,o,"");for(const o in n)o==="display"&&(i=!0),pr(r,o,n[o])}else if(s){if(e!==n){const o=r[vu];o&&(n+=";"+o),r.cssText=n,i=bu.test(n)}}else e&&t.removeAttribute("style");Ei in t&&(t[Ei]=i?r.display:"",t[_u]&&(r.display="none"))}const Si=/\s*!important$/;function pr(t,e,n){if(B(n))n.forEach(r=>pr(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Eu(t,e);Si.test(n)?t.setProperty(Bt(r),n.replace(Si,""),"important"):t[r]=n}}const xi=["Webkit","Moz","ms"],Wr={};function Eu(t,e){const n=Wr[e];if(n)return n;let r=Ct(e);if(r!=="filter"&&r in t)return Wr[e]=r;r=jo(r);for(let s=0;s<xi.length;s++){const i=xi[s]+r;if(i in t)return Wr[e]=i}return e}const Pi="http://www.w3.org/1999/xlink";function Ci(t,e,n,r,s,i=Ll(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Pi,e.slice(6,e.length)):t.setAttributeNS(Pi,e,n):n==null||i&&!Mo(n)?t.removeAttribute(e):t.setAttribute(e,i?"":At(n)?String(n):n)}function Ai(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Da(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Mo(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function rn(t,e,n,r){t.addEventListener(e,n,r)}function Su(t,e,n,r){t.removeEventListener(e,n,r)}const ki=Symbol("_vei");function xu(t,e,n,r,s=null){const i=t[ki]||(t[ki]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=Pu(e);if(r){const c=i[e]=ku(r,s);rn(t,a,c,l)}else o&&(Su(t,a,o,l),i[e]=void 0)}}const Ri=/(?:Once|Passive|Capture)$/;function Pu(t){let e;if(Ri.test(t)){e={};let r;for(;r=t.match(Ri);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Bt(t.slice(2)),e]}let Qr=0;const Cu=Promise.resolve(),Au=()=>Qr||(Cu.then(()=>Qr=0),Qr=Date.now());function ku(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ot(Ru(r,n.value),e,5,[r])};return n.value=t,n.attached=Au(),n}function Ru(t,e){if(B(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Ti=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Tu=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?yu(t,r,o):e==="style"?wu(t,n,r):xr(e)?ks(e)||xu(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ou(t,e,r,o))?(Ai(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ci(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!me(r))?Ai(t,Ct(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Ci(t,e,r,o))};function Ou(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ti(e)&&H(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Ti(e)&&me(n)?!1:e in t}const Oi=t=>{const e=t.props["onUpdate:modelValue"]||!1;return B(e)?n=>dr(e,n):e};function $u(t){t.target.composing=!0}function $i(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Gr=Symbol("_assign"),Na={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Gr]=Oi(s);const i=r||s.props&&s.props.type==="number";rn(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=rs(a)),t[Gr](a)}),n&&rn(t,"change",()=>{t.value=t.value.trim()}),e||(rn(t,"compositionstart",$u),rn(t,"compositionend",$i),rn(t,"change",$i))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[Gr]=Oi(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?rs(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},Iu=["ctrl","shift","alt","meta"],ju={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Iu.some(n=>t[`${n}Key`]&&!e.includes(n))},Lu=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=ju[e[o]];if(a&&a(s,e))return}return t(s,...i)})},Mu=Ce({patchProp:Tu},gu);let Ii;function Du(){return Ii||(Ii=Fc(Mu))}const Nu=(...t)=>{const e=Du().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Fu(r);if(!s)return;const i=e._component;!H(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,Uu(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function Uu(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Fu(t){return me(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const sn=typeof document<"u";function Ua(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function zu(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Ua(t.default)}const J=Object.assign;function Jr(t,e){const n={};for(const r in e){const s=e[r];n[r]=Ge(s)?s.map(t):t(s)}return n}const Nn=()=>{},Ge=Array.isArray,Fa=/#/g,Bu=/&/g,qu=/\//g,Hu=/=/g,Vu=/\?/g,za=/\+/g,Ku=/%5B/g,Wu=/%5D/g,Ba=/%5E/g,Qu=/%60/g,qa=/%7B/g,Gu=/%7C/g,Ha=/%7D/g,Ju=/%20/g;function Vs(t){return encodeURI(""+t).replace(Gu,"|").replace(Ku,"[").replace(Wu,"]")}function Yu(t){return Vs(t).replace(qa,"{").replace(Ha,"}").replace(Ba,"^")}function ms(t){return Vs(t).replace(za,"%2B").replace(Ju,"+").replace(Fa,"%23").replace(Bu,"%26").replace(Qu,"`").replace(qa,"{").replace(Ha,"}").replace(Ba,"^")}function Zu(t){return ms(t).replace(Hu,"%3D")}function Xu(t){return Vs(t).replace(Fa,"%23").replace(Vu,"%3F")}function ed(t){return t==null?"":Xu(t).replace(qu,"%2F")}function Wn(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const td=/\/$/,nd=t=>t.replace(td,"");function Yr(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=od(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Wn(o)}}function rd(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function ji(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function sd(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&mn(e.matched[r],n.matched[s])&&Va(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function mn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Va(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!id(t[n],e[n]))return!1;return!0}function id(t,e){return Ge(t)?Li(t,e):Ge(e)?Li(e,t):t===e}function Li(t,e){return Ge(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function od(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const yt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Qn;(function(t){t.pop="pop",t.push="push"})(Qn||(Qn={}));var Un;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Un||(Un={}));function ad(t){if(!t)if(sn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),nd(t)}const ld=/^[^#]+#/;function cd(t,e){return t.replace(ld,"#")+e}function ud(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Mr=()=>({left:window.scrollX,top:window.scrollY});function dd(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=ud(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Mi(t,e){return(history.state?history.state.position-e:-1)+t}const ys=new Map;function fd(t,e){ys.set(t,e)}function hd(t){const e=ys.get(t);return ys.delete(t),e}let pd=()=>location.protocol+"//"+location.host;function Ka(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),ji(l,"")}return ji(n,t)+r+s}function gd(t,e,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const h=Ka(t,location),y=n.value,_=e.value;let v=0;if(f){if(n.value=h,e.value=f,o&&o===y){o=null;return}v=_?f.position-_.position:0}else r(h);s.forEach(C=>{C(n.value,y,{delta:v,type:Qn.pop,direction:v?v>0?Un.forward:Un.back:Un.unknown})})};function l(){o=n.value}function c(f){s.push(f);const h=()=>{const y=s.indexOf(f);y>-1&&s.splice(y,1)};return i.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(J({},f.state,{scroll:Mr()}),"")}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function Di(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Mr():null}}function md(t){const{history:e,location:n}=window,r={value:Ka(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:pd()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=J({},e.state,Di(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=J({},s.value,e.state,{forward:l,scroll:Mr()});i(u.current,u,!0);const d=J({},Di(r.value,l,null),{position:u.position+1},c);i(l,d,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function yd(t){t=ad(t);const e=md(t),n=gd(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=J({location:"",base:t,go:r,createHref:cd.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function _d(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),yd(t)}function vd(t){return typeof t=="string"||t&&typeof t=="object"}function Wa(t){return typeof t=="string"||typeof t=="symbol"}const Qa=Symbol("");var Ni;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Ni||(Ni={}));function yn(t,e){return J(new Error,{type:t,[Qa]:!0},e)}function ut(t,e){return t instanceof Error&&Qa in t&&(e==null||!!(t.type&e))}const Ui="[^/]+?",bd={sensitive:!1,strict:!1,start:!0,end:!0},wd=/[.+*?^${}()[\]/\\]/g;function Ed(t,e){const n=J({},bd,e),r=[];let s=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(s+="/"),s+=f.value.replace(wd,"\\$&"),h+=40;else if(f.type===1){const{value:y,repeatable:_,optional:v,regexp:C}=f;i.push({name:y,repeatable:_,optional:v});const A=C||Ui;if(A!==Ui){h+=10;try{new RegExp(`(${A})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${y}" (${A}): `+S.message)}}let P=_?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;d||(P=v&&c.length<2?`(?:/${P})`:"/"+P),v&&(P+="?"),s+=P,h+=20,v&&(h+=-8),_&&(h+=-20),A===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",y=i[f-1];d[y.name]=h&&y.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:y,repeatable:_,optional:v}=h,C=y in c?c[y]:"";if(Ge(C)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const A=Ge(C)?C.join("/"):C;if(!A)if(v)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${y}"`);u+=A}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Sd(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Ga(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=Sd(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Fi(r))return 1;if(Fi(s))return-1}return s.length-r.length}function Fi(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const xd={type:0,value:""},Pd=/[a-zA-Z0-9_]/;function Cd(t){if(!t)return[[]];if(t==="/")return[[xd]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",u="";function d(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:Pd.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),s}function Ad(t,e,n){const r=Ed(Cd(t.path),n),s=J(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function kd(t,e){const n=[],r=new Map;e=Hi({strict:!1,end:!0,sensitive:!1},e);function s(d){return r.get(d)}function i(d,f,h){const y=!h,_=Bi(d);_.aliasOf=h&&h.record;const v=Hi(e,d),C=[_];if("alias"in d){const S=typeof d.alias=="string"?[d.alias]:d.alias;for(const j of S)C.push(Bi(J({},_,{components:h?h.record.components:_.components,path:j,aliasOf:h?h.record:_})))}let A,P;for(const S of C){const{path:j}=S;if(f&&j[0]!=="/"){const q=f.record.path,F=q[q.length-1]==="/"?"":"/";S.path=f.record.path+(j&&F+j)}if(A=Ad(S,f,v),h?h.alias.push(A):(P=P||A,P!==A&&P.alias.push(A),y&&d.name&&!qi(A)&&o(d.name)),Ja(A)&&l(A),_.children){const q=_.children;for(let F=0;F<q.length;F++)i(q[F],A,h&&h.children[F])}h=h||A}return P?()=>{o(P)}:Nn}function o(d){if(Wa(d)){const f=r.get(d);f&&(r.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=Od(d,n);n.splice(f,0,d),d.record.name&&!qi(d)&&r.set(d.record.name,d)}function c(d,f){let h,y={},_,v;if("name"in d&&d.name){if(h=r.get(d.name),!h)throw yn(1,{location:d});v=h.record.name,y=J(zi(f.params,h.keys.filter(P=>!P.optional).concat(h.parent?h.parent.keys.filter(P=>P.optional):[]).map(P=>P.name)),d.params&&zi(d.params,h.keys.map(P=>P.name))),_=h.stringify(y)}else if(d.path!=null)_=d.path,h=n.find(P=>P.re.test(_)),h&&(y=h.parse(_),v=h.record.name);else{if(h=f.name?r.get(f.name):n.find(P=>P.re.test(f.path)),!h)throw yn(1,{location:d,currentLocation:f});v=h.record.name,y=J({},f.params,d.params),_=h.stringify(y)}const C=[];let A=h;for(;A;)C.unshift(A.record),A=A.parent;return{name:v,path:_,params:y,matched:C,meta:Td(C)}}t.forEach(d=>i(d));function u(){n.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function zi(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Bi(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Rd(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Rd(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function qi(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Td(t){return t.reduce((e,n)=>J(e,n.meta),{})}function Hi(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Od(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;Ga(t,e[i])<0?r=i:n=i+1}const s=$d(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function $d(t){let e=t;for(;e=e.parent;)if(Ja(e)&&Ga(t,e)===0)return e}function Ja({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Id(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(za," "),o=i.indexOf("="),a=Wn(o<0?i:i.slice(0,o)),l=o<0?null:Wn(i.slice(o+1));if(a in e){let c=e[a];Ge(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Vi(t){let e="";for(let n in t){const r=t[n];if(n=Zu(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ge(r)?r.map(i=>i&&ms(i)):[r&&ms(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function jd(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Ge(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const Ld=Symbol(""),Ki=Symbol(""),Dr=Symbol(""),Ks=Symbol(""),_s=Symbol("");function Pn(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Et(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(yn(4,{from:n,to:e})):f instanceof Error?l(f):vd(f)?l(yn(2,{from:e,to:f})):(o&&r.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),a())},u=i(()=>t.call(r&&r.instances[s],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function Zr(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Ua(l)){const u=(l.__vccOpts||l)[e];u&&i.push(Et(u,n,r,o,a,s))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=zu(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&Et(h,n,r,o,a,s)()}))}}return i}function Wi(t){const e=le(Dr),n=le(Ks),r=je(()=>{const l=we(t.to);return e.resolve(l)}),s=je(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(mn.bind(null,u));if(f>-1)return f;const h=Qi(l[c-2]);return c>1&&Qi(u)===h&&d[d.length-1].path!==h?d.findIndex(mn.bind(null,l[c-2])):f}),i=je(()=>s.value>-1&&Ud(n.params,r.value.params)),o=je(()=>s.value>-1&&s.value===n.matched.length-1&&Va(n.params,r.value.params));function a(l={}){if(Nd(l)){const c=e[we(t.replace)?"replace":"push"](we(t.to)).catch(Nn);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:je(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function Md(t){return t.length===1?t[0]:t}const Dd=Me({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Wi,setup(t,{slots:e}){const n=Rr(Wi(t)),{options:r}=le(Dr),s=je(()=>({[Gi(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Gi(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&Md(e.default(n));return t.custom?i:Ie("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Ya=Dd;function Nd(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Ud(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Ge(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Qi(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Gi=(t,e,n)=>t??e??n,Fd=Me({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=le(_s),s=je(()=>t.route||r.value),i=le(Ki,0),o=je(()=>{let c=we(i);const{matched:u}=s.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=je(()=>s.value.matched[o.value]);Mn(Ki,je(()=>o.value+1)),Mn(Ld,a),Mn(_s,s);const l=de();return fr(()=>[l.value,a.value,t.name],([c,u,d],[f,h,y])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!mn(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=s.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return Ji(n.default,{Component:f,route:c});const h=d.props[u],y=h?h===!0?c.params:typeof h=="function"?h(c):h:null,v=Ie(f,J({},y,e,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Ji(n.default,{Component:v,route:c})||v}}});function Ji(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Ws=Fd;function zd(t){const e=kd(t.routes,t),n=t.parseQuery||Id,r=t.stringifyQuery||Vi,s=t.history,i=Pn(),o=Pn(),a=Pn(),l=rc(yt);let c=yt;sn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Jr.bind(null,w=>""+w),d=Jr.bind(null,ed),f=Jr.bind(null,Wn);function h(w,L){let $,M;return Wa(w)?($=e.getRecordMatcher(w),M=L):M=w,e.addRoute(M,$)}function y(w){const L=e.getRecordMatcher(w);L&&e.removeRoute(L)}function _(){return e.getRoutes().map(w=>w.record)}function v(w){return!!e.getRecordMatcher(w)}function C(w,L){if(L=J({},L||l.value),typeof w=="string"){const m=Yr(n,w,L.path),b=e.resolve({path:m.path},L),x=s.createHref(m.fullPath);return J(m,b,{params:f(b.params),hash:Wn(m.hash),redirectedFrom:void 0,href:x})}let $;if(w.path!=null)$=J({},w,{path:Yr(n,w.path,L.path).path});else{const m=J({},w.params);for(const b in m)m[b]==null&&delete m[b];$=J({},w,{params:d(m)}),L.params=d(L.params)}const M=e.resolve($,L),ne=w.hash||"";M.params=u(f(M.params));const p=rd(r,J({},w,{hash:Yu(ne),path:M.path})),g=s.createHref(p);return J({fullPath:p,hash:ne,query:r===Vi?jd(w.query):w.query||{}},M,{redirectedFrom:void 0,href:g})}function A(w){return typeof w=="string"?Yr(n,w,l.value.path):J({},w)}function P(w,L){if(c!==w)return yn(8,{from:L,to:w})}function S(w){return F(w)}function j(w){return S(J(A(w),{replace:!0}))}function q(w){const L=w.matched[w.matched.length-1];if(L&&L.redirect){const{redirect:$}=L;let M=typeof $=="function"?$(w):$;return typeof M=="string"&&(M=M.includes("?")||M.includes("#")?M=A(M):{path:M},M.params={}),J({query:w.query,hash:w.hash,params:M.path!=null?{}:w.params},M)}}function F(w,L){const $=c=C(w),M=l.value,ne=w.state,p=w.force,g=w.replace===!0,m=q($);if(m)return F(J(A(m),{state:typeof m=="object"?J({},ne,m.state):ne,force:p,replace:g}),L||$);const b=$;b.redirectedFrom=L;let x;return!p&&sd(r,M,$)&&(x=yn(16,{to:b,from:M}),Je(M,M,!0,!1)),(x?Promise.resolve(x):ye(b,M)).catch(E=>ut(E)?ut(E,2)?E:mt(E):G(E,b,M)).then(E=>{if(E){if(ut(E,2))return F(J({replace:g},A(E.to),{state:typeof E.to=="object"?J({},ne,E.to.state):ne,force:p}),L||b)}else E=X(b,M,!0,g,ne);return _e(b,M,E),E})}function ce(w,L){const $=P(w,L);return $?Promise.reject($):Promise.resolve()}function ue(w){const L=Kt.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(w):w()}function ye(w,L){let $;const[M,ne,p]=Bd(w,L);$=Zr(M.reverse(),"beforeRouteLeave",w,L);for(const m of M)m.leaveGuards.forEach(b=>{$.push(Et(b,w,L))});const g=ce.bind(null,w,L);return $.push(g),qe($).then(()=>{$=[];for(const m of i.list())$.push(Et(m,w,L));return $.push(g),qe($)}).then(()=>{$=Zr(ne,"beforeRouteUpdate",w,L);for(const m of ne)m.updateGuards.forEach(b=>{$.push(Et(b,w,L))});return $.push(g),qe($)}).then(()=>{$=[];for(const m of p)if(m.beforeEnter)if(Ge(m.beforeEnter))for(const b of m.beforeEnter)$.push(Et(b,w,L));else $.push(Et(m.beforeEnter,w,L));return $.push(g),qe($)}).then(()=>(w.matched.forEach(m=>m.enterCallbacks={}),$=Zr(p,"beforeRouteEnter",w,L,ue),$.push(g),qe($))).then(()=>{$=[];for(const m of o.list())$.push(Et(m,w,L));return $.push(g),qe($)}).catch(m=>ut(m,8)?m:Promise.reject(m))}function _e(w,L,$){a.list().forEach(M=>ue(()=>M(w,L,$)))}function X(w,L,$,M,ne){const p=P(w,L);if(p)return p;const g=L===yt,m=sn?history.state:{};$&&(M||g?s.replace(w.fullPath,J({scroll:g&&m&&m.scroll},ne)):s.push(w.fullPath,ne)),l.value=w,Je(w,L,$,g),mt()}let pe;function at(){pe||(pe=s.listen((w,L,$)=>{if(!tr.listening)return;const M=C(w),ne=q(M);if(ne){F(J(ne,{replace:!0,force:!0}),M).catch(Nn);return}c=M;const p=l.value;sn&&fd(Mi(p.fullPath,$.delta),Mr()),ye(M,p).catch(g=>ut(g,12)?g:ut(g,2)?(F(J(A(g.to),{force:!0}),M).then(m=>{ut(m,20)&&!$.delta&&$.type===Qn.pop&&s.go(-1,!1)}).catch(Nn),Promise.reject()):($.delta&&s.go(-$.delta,!1),G(g,M,p))).then(g=>{g=g||X(M,p,!1),g&&($.delta&&!ut(g,8)?s.go(-$.delta,!1):$.type===Qn.pop&&ut(g,20)&&s.go(-1,!1)),_e(M,p,g)}).catch(Nn)}))}let Ke=Pn(),ge=Pn(),te;function G(w,L,$){mt(w);const M=ge.list();return M.length?M.forEach(ne=>ne(w,L,$)):console.error(w),Promise.reject(w)}function lt(){return te&&l.value!==yt?Promise.resolve():new Promise((w,L)=>{Ke.add([w,L])})}function mt(w){return te||(te=!w,at(),Ke.list().forEach(([L,$])=>w?$(w):L()),Ke.reset()),w}function Je(w,L,$,M){const{scrollBehavior:ne}=t;if(!sn||!ne)return Promise.resolve();const p=!$&&hd(Mi(w.fullPath,0))||(M||!$)&&history.state&&history.state.scroll||null;return sa().then(()=>ne(w,L,p)).then(g=>g&&dd(g)).catch(g=>G(g,w,L))}const Te=w=>s.go(w);let Vt;const Kt=new Set,tr={currentRoute:l,listening:!0,addRoute:h,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:_,resolve:C,options:t,push:S,replace:j,go:Te,back:()=>Te(-1),forward:()=>Te(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ge.add,isReady:lt,install(w){const L=this;w.component("RouterLink",Ya),w.component("RouterView",Ws),w.config.globalProperties.$router=L,Object.defineProperty(w.config.globalProperties,"$route",{enumerable:!0,get:()=>we(l)}),sn&&!Vt&&l.value===yt&&(Vt=!0,S(s.location).catch(ne=>{}));const $={};for(const ne in yt)Object.defineProperty($,ne,{get:()=>l.value[ne],enumerable:!0});w.provide(Dr,L),w.provide(Ks,Xo($)),w.provide(_s,l);const M=w.unmount;Kt.add(w),w.unmount=function(){Kt.delete(w),Kt.size<1&&(c=yt,pe&&pe(),pe=null,l.value=yt,Vt=!1,te=!1),M()}}};function qe(w){return w.reduce((L,$)=>L.then(()=>ue($)),Promise.resolve())}return tr}function Bd(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>mn(c,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>mn(c,l))||s.push(l))}return[n,r,s]}function Zn(){return le(Dr)}function Xn(t){return le(Ks)}const qd=Me({__name:"App",setup(t){return(e,n)=>(Q(),jr(we(Ws)))}}),Hd={showNotification:t=>alert(t)},Vd={class:"flex flex-col items-center gap-3 pb-8"},Kd=["src"],Wd={class:"text-lg font-bold px-4"},Qd=Me({__name:"AdminAwardsView",setup(t){const e=Xn(),n=parseInt(e.params.lobbyId),r=le("container"),s=de(null),i=je(()=>{var a;if(!s.value)return[];const o=JSON.parse(JSON.stringify(s.value));return(a=o.sort)==null?void 0:a.call(o,(l,c)=>c.points-l.points)});return Tt(async()=>{s.value=await r.quizService.getAwardsDashboard(n)}),(o,a)=>(Q(),re(Ee,null,[a[1]||(a[1]=D("div",{class:"text-3xl font-bold text-center p-4"},"Awards",-1)),D("div",Vd,[(Q(!0),re(Ee,null,dn(i.value,l=>(Q(),re("div",{"data-testid":"place",key:l.id,class:"flex border border-accent items-center p-4 rounded-2xl w-xl"},[D("img",{src:l.image,"data-testid":"avatar",class:"w-8"},null,8,Kd),D("div",Wd,he(l.points),1),a[0]||(a[0]=D("div",{class:"w-full"},null,-1)),D("div",null,he(l.username),1)]))),128))])],64))}});/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 *  2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var st=function(){return st=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},st.apply(this,arguments)};var zt;(function(t){var e=function(){function o(a,l,c,u){if(this.version=a,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version value out of range");if(u<-1||u>7)throw new RangeError("Mask value out of range");this.size=a*4+17;for(var d=[],f=0;f<this.size;f++)d.push(!1);for(var f=0;f<this.size;f++)this.modules.push(d.slice()),this.isFunction.push(d.slice());this.drawFunctionPatterns();var h=this.addEccAndInterleave(c);if(this.drawCodewords(h),u==-1)for(var y=1e9,f=0;f<8;f++){this.applyMask(f),this.drawFormatBits(f);var _=this.getPenaltyScore();_<y&&(u=f,y=_),this.applyMask(f)}s(0<=u&&u<=7),this.mask=u,this.applyMask(u),this.drawFormatBits(u),this.isFunction=[]}return o.encodeText=function(a,l){var c=t.QrSegment.makeSegments(a);return o.encodeSegments(c,l)},o.encodeBinary=function(a,l){var c=t.QrSegment.makeBytes(a);return o.encodeSegments([c],l)},o.encodeSegments=function(a,l,c,u,d,f){if(c===void 0&&(c=1),u===void 0&&(u=40),d===void 0&&(d=-1),f===void 0&&(f=!0),!(o.MIN_VERSION<=c&&c<=u&&u<=o.MAX_VERSION)||d<-1||d>7)throw new RangeError("Invalid value");var h,y;for(h=c;;h++){var _=o.getNumDataCodewords(h,l)*8,v=i.getTotalBits(a,h);if(v<=_){y=v;break}if(h>=u)throw new RangeError("Data too long")}for(var C=0,A=[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH];C<A.length;C++){var P=A[C];f&&y<=o.getNumDataCodewords(h,P)*8&&(l=P)}for(var S=[],j=0,q=a;j<q.length;j++){var F=q[j];n(F.mode.modeBits,4,S),n(F.numChars,F.mode.numCharCountBits(h),S);for(var ce=0,ue=F.getData();ce<ue.length;ce++){var ye=ue[ce];S.push(ye)}}s(S.length==y);var _e=o.getNumDataCodewords(h,l)*8;s(S.length<=_e),n(0,Math.min(4,_e-S.length),S),n(0,(8-S.length%8)%8,S),s(S.length%8==0);for(var X=236;S.length<_e;X^=253)n(X,8,S);for(var pe=[];pe.length*8<S.length;)pe.push(0);return S.forEach(function(at,Ke){return pe[Ke>>>3]|=at<<7-(Ke&7)}),new o(h,l,pe,d)},o.prototype.getModule=function(a,l){return 0<=a&&a<this.size&&0<=l&&l<this.size&&this.modules[l][a]},o.prototype.getModules=function(){return this.modules},o.prototype.drawFunctionPatterns=function(){for(var a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var l=this.getAlignmentPatternPositions(),c=l.length,a=0;a<c;a++)for(var u=0;u<c;u++)a==0&&u==0||a==0&&u==c-1||a==c-1&&u==0||this.drawAlignmentPattern(l[a],l[u]);this.drawFormatBits(0),this.drawVersion()},o.prototype.drawFormatBits=function(a){for(var l=this.errorCorrectionLevel.formatBits<<3|a,c=l,u=0;u<10;u++)c=c<<1^(c>>>9)*1335;var d=(l<<10|c)^21522;s(d>>>15==0);for(var u=0;u<=5;u++)this.setFunctionModule(8,u,r(d,u));this.setFunctionModule(8,7,r(d,6)),this.setFunctionModule(8,8,r(d,7)),this.setFunctionModule(7,8,r(d,8));for(var u=9;u<15;u++)this.setFunctionModule(14-u,8,r(d,u));for(var u=0;u<8;u++)this.setFunctionModule(this.size-1-u,8,r(d,u));for(var u=8;u<15;u++)this.setFunctionModule(8,this.size-15+u,r(d,u));this.setFunctionModule(8,this.size-8,!0)},o.prototype.drawVersion=function(){if(!(this.version<7)){for(var a=this.version,l=0;l<12;l++)a=a<<1^(a>>>11)*7973;var c=this.version<<12|a;s(c>>>18==0);for(var l=0;l<18;l++){var u=r(c,l),d=this.size-11+l%3,f=Math.floor(l/3);this.setFunctionModule(d,f,u),this.setFunctionModule(f,d,u)}}},o.prototype.drawFinderPattern=function(a,l){for(var c=-4;c<=4;c++)for(var u=-4;u<=4;u++){var d=Math.max(Math.abs(u),Math.abs(c)),f=a+u,h=l+c;0<=f&&f<this.size&&0<=h&&h<this.size&&this.setFunctionModule(f,h,d!=2&&d!=4)}},o.prototype.drawAlignmentPattern=function(a,l){for(var c=-2;c<=2;c++)for(var u=-2;u<=2;u++)this.setFunctionModule(a+u,l+c,Math.max(Math.abs(u),Math.abs(c))!=1)},o.prototype.setFunctionModule=function(a,l,c){this.modules[l][a]=c,this.isFunction[l][a]=!0},o.prototype.addEccAndInterleave=function(a){var l=this.version,c=this.errorCorrectionLevel;if(a.length!=o.getNumDataCodewords(l,c))throw new RangeError("Invalid argument");for(var u=o.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l],d=o.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l],f=Math.floor(o.getNumRawDataModules(l)/8),h=u-f%u,y=Math.floor(f/u),_=[],v=o.reedSolomonComputeDivisor(d),C=0,A=0;C<u;C++){var P=a.slice(A,A+y-d+(C<h?0:1));A+=P.length;var S=o.reedSolomonComputeRemainder(P,v);C<h&&P.push(0),_.push(P.concat(S))}for(var j=[],q=function(F){_.forEach(function(ce,ue){(F!=y-d||ue>=h)&&j.push(ce[F])})},C=0;C<_[0].length;C++)q(C);return s(j.length==f),j},o.prototype.drawCodewords=function(a){if(a.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var l=0,c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(var u=0;u<this.size;u++)for(var d=0;d<2;d++){var f=c-d,h=(c+1&2)==0,y=h?this.size-1-u:u;!this.isFunction[y][f]&&l<a.length*8&&(this.modules[y][f]=r(a[l>>>3],7-(l&7)),l++)}}s(l==a.length*8)},o.prototype.applyMask=function(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(var l=0;l<this.size;l++)for(var c=0;c<this.size;c++){var u=void 0;switch(a){case 0:u=(c+l)%2==0;break;case 1:u=l%2==0;break;case 2:u=c%3==0;break;case 3:u=(c+l)%3==0;break;case 4:u=(Math.floor(c/3)+Math.floor(l/2))%2==0;break;case 5:u=c*l%2+c*l%3==0;break;case 6:u=(c*l%2+c*l%3)%2==0;break;case 7:u=((c+l)%2+c*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][c]&&u&&(this.modules[l][c]=!this.modules[l][c])}},o.prototype.getPenaltyScore=function(){for(var a=0,l=0;l<this.size;l++){for(var c=!1,u=0,d=[0,0,0,0,0,0,0],f=0;f<this.size;f++)this.modules[l][f]==c?(u++,u==5?a+=o.PENALTY_N1:u>5&&a++):(this.finderPenaltyAddHistory(u,d),c||(a+=this.finderPenaltyCountPatterns(d)*o.PENALTY_N3),c=this.modules[l][f],u=1);a+=this.finderPenaltyTerminateAndCount(c,u,d)*o.PENALTY_N3}for(var f=0;f<this.size;f++){for(var c=!1,h=0,d=[0,0,0,0,0,0,0],l=0;l<this.size;l++)this.modules[l][f]==c?(h++,h==5?a+=o.PENALTY_N1:h>5&&a++):(this.finderPenaltyAddHistory(h,d),c||(a+=this.finderPenaltyCountPatterns(d)*o.PENALTY_N3),c=this.modules[l][f],h=1);a+=this.finderPenaltyTerminateAndCount(c,h,d)*o.PENALTY_N3}for(var l=0;l<this.size-1;l++)for(var f=0;f<this.size-1;f++){var y=this.modules[l][f];y==this.modules[l][f+1]&&y==this.modules[l+1][f]&&y==this.modules[l+1][f+1]&&(a+=o.PENALTY_N2)}for(var _=0,v=0,C=this.modules;v<C.length;v++){var A=C[v];_=A.reduce(function(j,q){return j+(q?1:0)},_)}var P=this.size*this.size,S=Math.ceil(Math.abs(_*20-P*10)/P)-1;return s(0<=S&&S<=9),a+=S*o.PENALTY_N4,s(0<=a&&a<=2568888),a},o.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var a=Math.floor(this.version/7)+2,l=Math.floor((this.version*8+a*3+5)/(a*4-4))*2,c=[6],u=this.size-7;c.length<a;u-=l)c.splice(1,0,u);return c},o.getNumRawDataModules=function(a){if(a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version number out of range");var l=(16*a+128)*a+64;if(a>=2){var c=Math.floor(a/7)+2;l-=(25*c-10)*c-55,a>=7&&(l-=36)}return s(208<=l&&l<=29648),l},o.getNumDataCodewords=function(a,l){return Math.floor(o.getNumRawDataModules(a)/8)-o.ECC_CODEWORDS_PER_BLOCK[l.ordinal][a]*o.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][a]},o.reedSolomonComputeDivisor=function(a){if(a<1||a>255)throw new RangeError("Degree out of range");for(var l=[],c=0;c<a-1;c++)l.push(0);l.push(1);for(var u=1,c=0;c<a;c++){for(var d=0;d<l.length;d++)l[d]=o.reedSolomonMultiply(l[d],u),d+1<l.length&&(l[d]^=l[d+1]);u=o.reedSolomonMultiply(u,2)}return l},o.reedSolomonComputeRemainder=function(a,l){for(var c=l.map(function(y){return 0}),u=function(y){var _=y^c.shift();c.push(0),l.forEach(function(v,C){return c[C]^=o.reedSolomonMultiply(v,_)})},d=0,f=a;d<f.length;d++){var h=f[d];u(h)}return c},o.reedSolomonMultiply=function(a,l){if(a>>>8||l>>>8)throw new RangeError("Byte out of range");for(var c=0,u=7;u>=0;u--)c=c<<1^(c>>>7)*285,c^=(l>>>u&1)*a;return s(c>>>8==0),c},o.prototype.finderPenaltyCountPatterns=function(a){var l=a[1];s(l<=this.size*3);var c=l>0&&a[2]==l&&a[3]==l*3&&a[4]==l&&a[5]==l;return(c&&a[0]>=l*4&&a[6]>=l?1:0)+(c&&a[6]>=l*4&&a[0]>=l?1:0)},o.prototype.finderPenaltyTerminateAndCount=function(a,l,c){return a&&(this.finderPenaltyAddHistory(l,c),l=0),l+=this.size,this.finderPenaltyAddHistory(l,c),this.finderPenaltyCountPatterns(c)},o.prototype.finderPenaltyAddHistory=function(a,l){l[0]==0&&(a+=this.size),l.pop(),l.unshift(a)},o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o}();t.QrCode=e;function n(o,a,l){if(a<0||a>31||o>>>a)throw new RangeError("Value out of range");for(var c=a-1;c>=0;c--)l.push(o>>>c&1)}function r(o,a){return(o>>>a&1)!=0}function s(o){if(!o)throw new Error("Assertion error")}var i=function(){function o(a,l,c){if(this.mode=a,this.numChars=l,this.bitData=c,l<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}return o.makeBytes=function(a){for(var l=[],c=0,u=a;c<u.length;c++){var d=u[c];n(d,8,l)}return new o(o.Mode.BYTE,a.length,l)},o.makeNumeric=function(a){if(!o.isNumeric(a))throw new RangeError("String contains non-numeric characters");for(var l=[],c=0;c<a.length;){var u=Math.min(a.length-c,3);n(parseInt(a.substring(c,c+u),10),u*3+1,l),c+=u}return new o(o.Mode.NUMERIC,a.length,l)},o.makeAlphanumeric=function(a){if(!o.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");var l=[],c;for(c=0;c+2<=a.length;c+=2){var u=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c))*45;u+=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c+1)),n(u,11,l)}return c<a.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c)),6,l),new o(o.Mode.ALPHANUMERIC,a.length,l)},o.makeSegments=function(a){return a==""?[]:o.isNumeric(a)?[o.makeNumeric(a)]:o.isAlphanumeric(a)?[o.makeAlphanumeric(a)]:[o.makeBytes(o.toUtf8ByteArray(a))]},o.makeEci=function(a){var l=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)n(a,8,l);else if(a<16384)n(2,2,l),n(a,14,l);else if(a<1e6)n(6,3,l),n(a,21,l);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,l)},o.isNumeric=function(a){return o.NUMERIC_REGEX.test(a)},o.isAlphanumeric=function(a){return o.ALPHANUMERIC_REGEX.test(a)},o.prototype.getData=function(){return this.bitData.slice()},o.getTotalBits=function(a,l){for(var c=0,u=0,d=a;u<d.length;u++){var f=d[u],h=f.mode.numCharCountBits(l);if(f.numChars>=1<<h)return 1/0;c+=4+h+f.bitData.length}return c},o.toUtf8ByteArray=function(a){a=encodeURI(a);for(var l=[],c=0;c<a.length;c++)a.charAt(c)!="%"?l.push(a.charCodeAt(c)):(l.push(parseInt(a.substring(c+1,c+3),16)),c+=2);return l},o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",o}();t.QrSegment=i})(zt||(zt={}));(function(t){(function(e){var n=function(){function r(s,i){this.ordinal=s,this.formatBits=i}return r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),r}();e.Ecc=n})(t.QrCode||(t.QrCode={}))})(zt||(zt={}));(function(t){(function(e){var n=function(){function r(s,i){this.modeBits=s,this.numBitsCharCount=i}return r.prototype.numCharCountBits=function(s){return this.numBitsCharCount[Math.floor((s+7)/17)]},r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),r}();e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(zt||(zt={}));var on=zt,Qs="L",Gs={L:on.QrCode.Ecc.LOW,M:on.QrCode.Ecc.MEDIUM,Q:on.QrCode.Ecc.QUARTILE,H:on.QrCode.Ecc.HIGH},Gd=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function Js(t){return t in Gs}function Za(t,e){e===void 0&&(e=0);var n=[];return t.forEach(function(r,s){var i=null;r.forEach(function(o,a){if(!o&&i!==null){n.push("M".concat(i+e," ").concat(s+e,"h").concat(a-i,"v1H").concat(i+e,"z")),i=null;return}if(a===r.length-1){if(!o)return;i===null?n.push("M".concat(a+e,",").concat(s+e," h1v1H").concat(a+e,"z")):n.push("M".concat(i+e,",").concat(s+e," h").concat(a+1-i,"v1H").concat(i+e,"z"));return}o&&i===null&&(i=a)})}),n.join("")}function Xa(t,e,n,r){var s=r.width,i=r.height,o=r.x,a=r.y,l=t.length+n*2,c=Math.floor(e*.1),u=l/e,d=(s||c)*u,f=(i||c)*u,h=o==null?t.length/2-d/2:o*u,y=a==null?t.length/2-f/2:a*u,_=null;if(r.excavate){var v=Math.floor(h),C=Math.floor(y),A=Math.ceil(d+h-v),P=Math.ceil(f+y-C);_={x:v,y:C,w:A,h:P}}return{x:h,y,h:f,w:d,excavation:_}}function el(t,e){return t.slice().map(function(n,r){return r<e.y||r>=e.y+e.h?n:n.map(function(s,i){return i<e.x||i>=e.x+e.w?s:!1})})}var Ys={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:Qs,validator:function(t){return Js(t)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(t){return["linear","radial"].indexOf(t)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},Jd=st(st({},Ys),{renderAs:{type:String,required:!1,default:"canvas",validator:function(t){return["canvas","svg"].indexOf(t)>-1}}}),Yd=Me({name:"QRCodeSvg",props:Ys,setup:function(t){var e=de(0),n=de(""),r,s=function(){var o=t.value,a=t.level,l=t.margin,c=l>>>0,u=Js(a)?a:Qs,d=on.QrCode.encodeText(o,Gs[u]).getModules();if(e.value=d.length+c*2,t.imageSettings.src){var f=Xa(d,t.size,c,t.imageSettings);r={x:f.x+c,y:f.y+c,width:f.w,height:f.h},f.excavation&&(d=el(d,f.excavation))}n.value=Za(d,c)},i=function(){if(!t.gradient)return null;var o=t.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return Ie(t.gradientType==="linear"?"linearGradient":"radialGradient",st({id:"qr-gradient"},o),[Ie("stop",{offset:"0%",style:{stopColor:t.gradientStartColor}}),Ie("stop",{offset:"100%",style:{stopColor:t.gradientEndColor}})])};return s(),zs(s),function(){return Ie("svg",{width:t.size,height:t.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(e.value," ").concat(e.value)},[Ie("defs",{},[i()]),Ie("rect",{width:"100%",height:"100%",fill:t.background}),Ie("path",{fill:t.gradient?"url(#qr-gradient)":t.foreground,d:n.value}),t.imageSettings.src&&Ie("image",st({href:t.imageSettings.src},r))])}}}),Zd=Me({name:"QRCodeCanvas",props:Ys,setup:function(t,e){var n=de(null),r=de(null),s=function(){var o=t.value,a=t.level,l=t.size,c=t.margin,u=t.background,d=t.foreground,f=t.gradient,h=t.gradientType,y=t.gradientStartColor,_=t.gradientEndColor,v=c>>>0,C=Js(a)?a:Qs,A=n.value;if(A){var P=A.getContext("2d");if(P){var S=on.QrCode.encodeText(o,Gs[C]).getModules(),j=S.length+v*2,q=r.value,F={x:0,y:0,width:0,height:0},ce=t.imageSettings.src&&q!=null&&q.naturalWidth!==0&&q.naturalHeight!==0;if(ce){var ue=Xa(S,t.size,v,t.imageSettings);F={x:ue.x+v,y:ue.y+v,width:ue.w,height:ue.h},ue.excavation&&(S=el(S,ue.excavation))}var ye=window.devicePixelRatio||1,_e=l/j*ye;if(A.height=A.width=l*ye,P.scale(_e,_e),P.fillStyle=u,P.fillRect(0,0,j,j),f){var X=void 0;h==="linear"?X=P.createLinearGradient(0,0,j,j):X=P.createRadialGradient(j/2,j/2,0,j/2,j/2,j/2),X.addColorStop(0,y),X.addColorStop(1,_),P.fillStyle=X}else P.fillStyle=d;Gd?P.fill(new Path2D(Za(S,v))):S.forEach(function(pe,at){pe.forEach(function(Ke,ge){Ke&&P.fillRect(ge+v,at+v,1,1)})}),ce&&P.drawImage(q,F.x,F.y,F.width,F.height)}}};Tt(s),zs(s);var i=e.attrs.style;return function(){return Ie(Ee,[Ie("canvas",st(st({},e.attrs),{ref:n,style:st(st({},i),{width:"".concat(t.size,"px"),height:"".concat(t.size,"px")})})),t.imageSettings.src&&Ie("img",{ref:r,src:t.imageSettings.src,style:{display:"none"},onLoad:s})])}}}),Xd=Me({name:"Qrcode",render:function(){var t=this.$props,e=t.renderAs,n=t.value,r=t.size,s=t.margin,i=t.level,o=t.background,a=t.foreground,l=t.imageSettings,c=t.gradient,u=t.gradientType,d=t.gradientStartColor,f=t.gradientEndColor;return Ie(e==="svg"?Yd:Zd,{value:n,size:r,margin:s,level:i,background:o,foreground:a,imageSettings:l,gradient:c,gradientType:u,gradientStartColor:d,gradientEndColor:f})},props:Jd});const ef={class:"p-4"},tf={key:0,"data-testid":"lobby-stage"},nf={class:"flex items-center justify-between"},rf={"data-testid":"lobby-id",class:"text-4xl p-2 font-bold"},sf={class:"grid grid-cols-2 gap-4 p-4 items-center justify-items-center"},of={class:"container gap-4"},af=["src"],lf={"data-testid":"username"},cf={key:1,"data-testid":"before-answer-stage",class:"flex justify-center items-center flex-col h-screen gap-4"},uf={"data-testid":"question-title",class:"text-6xl p-2"},df={"data-testid":"time-left",class:"text-4xl p-2"},ff={key:2,"data-testid":"answering-stage",class:"flex justify-center items-center flex-col h-screen gap-4"},hf={"data-testid":"question-title",class:"text-6xl p-2"},pf={"data-testid":"time-left",class:"text-4xl p-2"},gf={class:"grid grid-cols-2 gap-4"},mf={key:3,"data-testid":"statistics-stage"},yf={"data-testid":"question-title",class:"flex gap-8 justify-between items-center pb-16"},_f={class:"text-3xl"},vf={class:"grid grid-cols-2 gap-4"},bf=["data-is-correct"],wf={"data-testid":"player-count",class:"text-4xl font-bold pr-8 pl-2"},Yi=1e3,Zi=10,Xi=20,Ef=Me({__name:"AdminLobby",props:{timeToStartAnswering:Number,timeToAnswer:Number},setup(t){const e=le("container"),n=le("notificationProvider"),r=Xn(),s=Zn(),i=parseInt(r.params.lobbyId),o=parseInt(r.params.quizId),a=s.resolve({name:"player-lobby"}).href,l=new URL(location.origin+"/supahoot/"+a).toString();console.log(l);const c=de("lobby"),u=de([]),d=de(null),f=de(null),h=de(0),y=de(t.timeToStartAnswering||Zi),_=de(t.timeToAnswer||Xi),v=je(()=>!d.value||c.value!=="statistics"?[]:d.value.questions[h.value].answers.map(q=>{var F,ce;return{...q,playerCount:(ce=(F=f.value)==null?void 0:F.find(ue=>ue.answerId===q.id))==null?void 0:ce.playerCount}})),C=je(()=>h.value<d.value.questions.length-1),A=()=>{const q=setInterval(()=>{if(_.value===0){clearInterval(q),c.value="statistics",e.quizService.getPlayerCountPerAnswerInQuestionByLobbyIdAndQuestionId(i,d.value.questions[h.value].id).then(F=>{f.value=F}),e.quizService.updateAnsweringCountdown(i,_.value--);return}e.quizService.updateAnsweringCountdown(i,_.value--)},Yi)},P=()=>{const q=setInterval(()=>{if(y.value===0){A(),clearInterval(q),c.value="answering",e.quizService.updateCountdownBeforeAnswer(i,y.value--);return}e.quizService.updateCountdownBeforeAnswer(i,y.value--)},Yi)},S=async()=>{try{await e.quizService.startQuiz(i),await e.quizService.stopListeningForNewPlayers(i),c.value="before-answer",e.quizService.sendQuestion(i,d.value.questions[h.value]),P()}catch(q){q instanceof Error&&n.showNotification("Error: "+q.message)}},j=async()=>{h.value++,e.quizService.sendQuestion(i,d.value.questions[h.value]),c.value="before-answer",y.value=t.timeToStartAnswering||Zi,_.value=t.timeToAnswer||Xi,P()};return Tt(async()=>{e.quizService.startListeningForNewPlayers(i,q=>{u.value.push(q)}),u.value=await e.quizService.getPlayersByLobby(i),d.value=await e.quizService.getQuizWithQuestionsAndAnswersByQuizId(o)}),(q,F)=>{var ce,ue,ye,_e;return Q(),re("div",ef,[c.value==="lobby"?(Q(),re("div",tf,[D("div",nf,[D("div",rf,"Lobby ID: "+he(we(i)),1),D("button",{class:"btn btn-primary btn-xl","data-testid":"initialize-quiz",onClick:S}," Initialize quiz ")]),D("div",sf,[Le(Xd,{value:we(l),size:500,"data-testid":"qr-code"},null,8,["value"]),D("div",of,[(Q(!0),re(Ee,null,dn(u.value,X=>(Q(),re("div",{"data-testid":"player",key:X.id,class:"flex items-center flex-col justify-between"},[D("img",{"data-testid":"avatar",class:"w-15",src:X.image},null,8,af),D("p",lf,he(X.username),1)]))),128))])])])):c.value==="before-answer"?(Q(),re("div",cf,[D("div",uf,he((ce=d.value)==null?void 0:ce.questions[h.value].title),1),D("div",df," Time left: "+he(y.value),1)])):c.value==="answering"?(Q(),re("div",ff,[D("div",hf,he((ue=d.value)==null?void 0:ue.questions[h.value].title),1),D("div",pf,"Time left: "+he(_.value),1),D("div",gf,[(Q(!0),re(Ee,null,dn((ye=d.value)==null?void 0:ye.questions[h.value].answers,(X,pe)=>(Q(),re("div",{key:X.id,"data-testid":"answer"},[D("div",{"data-testid":"answer-title",class:pn(["w-full text-3xl h-full p-4 rounded-lg",["bg-primary","bg-secondary text-black","bg-accent text-black","bg-info text-black"][pe%4]])},he(X.title),3)]))),128))])])):c.value==="statistics"?(Q(),re("div",mf,[D("div",yf,[D("div",_f,he((_e=d.value)==null?void 0:_e.questions[h.value].title),1),C.value?(Q(),re("button",{key:0,"data-testid":"next-question",onClick:j,class:"btn btn-primary btn-xl"}," Next question ")):(Q(),jr(we(Ya),{key:1,"data-testid":"awards-button",class:"btn btn-primary btn-xl",to:{name:"admin-awards",params:{quizId:we(o),lobbyId:we(i)}}},{default:ca(()=>F[0]||(F[0]=[hs(" Awards ")])),_:1},8,["to"]))]),D("div",vf,[(Q(!0),re(Ee,null,dn(v.value,(X,pe)=>(Q(),re("div",{key:X.id,"data-testid":"answer","data-is-correct":X.isCorrect},[D("div",{"data-testid":"answer-title",class:pn(["w-full text-3xl h-full p-4 rounded-lg flex items-center",[["bg-primary","bg-secondary text-black","bg-accent text-black","bg-info text-black"][pe%4],X.isCorrect?"font-black border-white border-4":""]])},[D("div",wf,he(X.playerCount||0),1),hs(" "+he(X.title),1)],2)],8,bf))),128))])])):qs("",!0)])}}}),Sf={class:"list"},xf={"data-testid":"quiz-title"},Pf=["onClick"],Cf=Me({__name:"AdminView",setup(t){const{quizService:e}=le("container"),{showNotification:n}=le("notificationProvider"),r=Zn(),s=de([]);Tt(async()=>{s.value=await e.getQuizzes()});const i=async o=>{try{const a=await e.createLobby(o);r.push({name:"admin-lobby",params:{lobbyId:a.id,quizId:o}})}catch{n("Error: Failed to create lobby")}};return(o,a)=>(Q(),re("div",null,[a[0]||(a[0]=D("h2",{class:"text-3xl p-2 font-bold"},"Quizzes",-1)),D("ul",Sf,[(Q(!0),re(Ee,null,dn(s.value,l=>(Q(),re("li",{class:"list-row flex items-center",key:l.id},[D("h1",xf,he(l.name),1),D("button",{class:"btn btn-primary","data-testid":"initialize-quiz-button",onClick:c=>i(l.id)}," Initialize ",8,Pf)]))),128))])]))}}),Af={class:"flex items-center justify-center flex-col gap-10 h-screen"},kf=Me({__name:"HomeView",setup(t){const e=Zn(),n=le("container"),r=le("notificationProvider"),s=de(""),i=async()=>{if(isNaN(parseInt(s.value))){r.showNotification("Error: Invalid lobby id");return}try{const o=await n.quizService.getQuizByLobbyId(parseInt(s.value));await e.push({name:"player-lobby",params:{lobbyId:s.value,quizId:o.id}})}catch(o){o instanceof Error&&r.showNotification(`Error: ${o.message}`)}};return(o,a)=>(Q(),re("div",Af,[a[2]||(a[2]=D("p",{class:"text-6xl"},"SupaHoot!",-1)),D("form",{class:"flex flex-col gap-4","data-testid":"join-lobby-form",onSubmit:i},[ua(D("input",{type:"text",class:"input","data-testid":"join-lobby-input","onUpdate:modelValue":a[0]||(a[0]=l=>s.value=l)},null,512),[[Na,s.value]]),a[1]||(a[1]=D("input",{type:"submit",value:"Join Lobby",class:"btn btn-lg btn-primary"},null,-1))],32)]))}}),Rf={key:0,class:"flex items-center justify-center flex-col h-screen"},Tf=["src"],Of={"data-testid":"player-username",class:"text-2xl"},$f=Me({__name:"PlayerLobbyBeforeQuizStarts",setup(t){const e=Zn(),n=Xn(),r=parseInt(n.params.lobbyId),s=parseInt(n.params.quizId),i=le("container"),o=le("notificationProvider"),{player:a}=le("playerProvider");return a||(o.showNotification("Error: Player not found"),e.push({name:"home"})),Tt(()=>{i.quizService.listenQuizStart(r,()=>{e.push({name:"player-quiz",params:{quizId:s,lobbyId:r}})})}),(l,c)=>we(a)?(Q(),re("div",Rf,[c[0]||(c[0]=D("div",{class:"text-xl pb-20"},"Waiting more players...",-1)),D("img",{src:we(a).image,"data-testid":"player-avatar",class:"aspect-square w-40"},null,8,Tf),D("span",Of,he(we(a).username),1)])):qs("",!0)}}),If={player:null},jf=Me({__name:"PlayerProviders",setup(t){return Mn("playerProvider",If),(e,n)=>(Q(),jr(we(Ws)))}}),Lf={"data-testid":"player-section",class:"flex items-center justify-between px-4 fixed w-screen bottom-0 text-black bg-white h-12"},Mf={class:"flex items-center gap-4"},Df=["src"],Nf={"data-testid":"username",class:"text-2xl truncate w-48"},Uf={"data-testid":"points",class:"bg-gray-800 text-white px-4 rounded-field"},Ff={key:0,"data-testid":"before-answer-stage",class:"h-screen flex flex-col items-center justify-center gap-4"},zf={"data-testid":"question-title",class:"text-3xl font-black"},Bf={"data-testid":"time-left",class:"text-xl"},qf={key:1,"data-testid":"answering-stage",class:"h-screen flex flex-col items-center justify-center gap-4"},Hf={"data-testid":"question-title",class:"text-3xl font-black"},Vf={"data-testid":"time-left",class:"text-xl"},Kf=["onClick"],Wf={key:2,"data-testid":"player-points-stage",class:"flex flex-col h-screen items-center justify-center gap-4"},Qf={"data-testid":"points",class:"text-5xl"},Gf=Me({__name:"PlayerQuizView",setup(t){const e=Xn(),n=parseInt(e.params.lobbyId),r=le("playerProvider"),s=le("container"),i=de(null),o=de(0),a=de(0),l=de("before-answer"),c=de(0),u=de(0),d=async f=>{if(l.value="player-points",!i.value)return;const h=await s.quizService.sendAnswer(n,r.player.id,i.value.id,f);h&&(u.value=h.points,c.value=h.points+c.value)};return Tt(()=>{s.quizService.listenQuestion(n,f=>{i.value=f,l.value="before-answer",u.value=0}),s.quizService.listenUpdateCountdownBeforeAnswer(n,f=>{o.value=f,f===0&&(l.value="answering")}),s.quizService.listenUpdateAnsweringCountdown(n,f=>{a.value=f,f===0&&(l.value="player-points")})}),(f,h)=>{var y,_,v,C,A;return Q(),re("div",null,[D("div",Lf,[D("div",Mf,[D("img",{"data-testid":"image",src:(y=we(r).player)==null?void 0:y.image,class:"aspect-square w-10"},null,8,Df),D("div",Nf,he((_=we(r).player)==null?void 0:_.username),1)]),D("div",Uf,he(c.value),1)]),l.value==="before-answer"?(Q(),re("div",Ff,[D("div",zf,he((v=i.value)==null?void 0:v.title),1),D("div",Bf,he(o.value),1)])):l.value==="answering"?(Q(),re("div",qf,[D("div",Hf,he((C=i.value)==null?void 0:C.title),1),D("div",Vf,he(a.value),1),(Q(!0),re(Ee,null,dn((A=i.value)==null?void 0:A.answers,(P,S)=>(Q(),re("div",{class:"flex flex-col gap-2 w-full px-2","data-testid":"answer",key:P.id},[D("button",{"data-testid":"answer-button",onClick:j=>d(P.id),class:pn(["p-3 rounded-lg text-lg",["bg-primary","bg-secondary text-black","bg-accent text-black","bg-info text-black"][S%4]])},he(P.title),11,Kf)]))),128))])):l.value==="player-points"?(Q(),re("div",Wf,[h[0]||(h[0]=D("div",{class:"text-2xl font-black"},"You've obtained",-1)),D("div",Qf,he(u.value),1),h[1]||(h[1]=D("div",{class:"text-2xl font-black"},"points!",-1))])):qs("",!0)])}}}),eo={fileToDataURL(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=s=>e(r.result),r.onerror=s=>n(r.error),r.onabort=s=>n(new Error("Read aborted")),r.readAsDataURL(t)})}},Jf={class:"flex items-center justify-center flex-col gap-10 h-screen"},Yf=["src"],Zf=Me({__name:"PlayersLobby",setup(t){const e=le("container"),n=le("notificationProvider"),r=le("playerProvider"),s=Xn(),i=Zn(),o=parseInt(s.params.lobbyId),a=parseInt(s.params.quizId),l=de(""),c=de(null),u=de(""),d=async()=>{if(l.value.length<4){n.showNotification("Error: Username should be at least 4 characters long");return}try{r.player=await e.quizService.createPlayerByLobbyId(o,l.value,c.value),await i.push({name:"player-lobby-before-quiz-starts",params:{lobbyId:o,quizId:a}})}catch{n.showNotification("Error: Failed to create player")}},f=async h=>{const y=await e.avatarService.generateAvatarByString(l.value);c.value=y,u.value=await eo.fileToDataURL(y)};return Tt(async()=>{const h=await e.avatarService.generateAvatarByString(crypto.randomUUID());u.value=await eo.fileToDataURL(h)}),(h,y)=>(Q(),re("div",Jf,[D("form",{onSubmit:Lu(d,["prevent"]),"data-testid":"player-form",class:"flex flex-col items-center gap-4"},[D("img",{"data-testid":"player-avatar",class:"aspect-square w-32",src:u.value},null,8,Yf),ua(D("input",{type:"text",onInput:f,"onUpdate:modelValue":y[0]||(y[0]=_=>l.value=_),"data-testid":"player-username-input",class:"input"},null,544),[[Na,l.value]]),y[1]||(y[1]=D("input",{type:"submit","data-testid":"player-submit",class:"btn btn-lg btn-primary w-full"},null,-1))],32)]))}}),Xf=zd({history:_d("/supahoot/"),routes:[{path:"/admin",name:"admin",component:Cf},{path:"/admin/quiz/:quizId/lobby/:lobbyId",name:"admin-lobby",component:Ef},{path:"/admin/quiz/:quizId/lobby/:lobbyId/awards",name:"admin-awards",component:Qd},{path:"/",name:"home",component:kf},{path:"/quiz/:quizId/lobby/:lobbyId",component:jf,children:[{path:"",name:"player-lobby",component:Zf},{path:"before-start",name:"player-lobby-before-quiz-starts",component:$f},{path:"quiz-started",name:"player-quiz",component:Gf}]}]}),eh="modulepreload",th=function(t){return"/supahoot/"+t},to={},_n=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=th(l),l in to)return;to[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":eh,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},nh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>_n(async()=>{const{default:r}=await Promise.resolve().then(()=>bn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Zs extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class rh extends Zs{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class sh extends Zs{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ih extends Zs{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var vs;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(vs||(vs={}));var oh=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class ah{constructor(e,{headers:n={},customFetch:r,region:s=vs.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=nh(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return oh(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(y=>{throw new rh(y)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new sh(u);if(!u.ok)throw new ih(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield u.json():f==="application/octet-stream"?h=yield u.blob():f==="text/event-stream"?h=u:f==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(s){return{data:null,error:s}}})}}function lh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ch(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var ve={},Qt={},Gt={},Jt={},Yt={},Zt={},uh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vn=uh();const dh=vn.fetch,tl=vn.fetch.bind(vn),nl=vn.Headers,fh=vn.Request,hh=vn.Response,bn=Object.freeze(Object.defineProperty({__proto__:null,Headers:nl,Request:fh,Response:hh,default:tl,fetch:dh},Symbol.toStringTag,{value:"Module"})),ph=ch(bn);var or={},no;function rl(){if(no)return or;no=1,Object.defineProperty(or,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return or.default=t,or}var ro;function sl(){if(ro)return Zt;ro=1;var t=Zt&&Zt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Zt,"__esModule",{value:!0});const e=t(ph),n=t(rl());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f;let h=null,y=null,_=null,v=c.status,C=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=j:y=JSON.parse(j))}const P=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),S=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");P&&S&&S.length>1&&(_=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(h={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,_=null,v=406,C="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const P=await c.text();try{h=JSON.parse(P),Array.isArray(h)&&c.status===404&&(y=[],h=null,v=200,C="OK")}catch{c.status===404&&P===""?(v=204,C="No Content"):h={message:P}}if(h&&this.isMaybeSingle&&(!((f=h==null?void 0:h.details)===null||f===void 0)&&f.includes("0 rows"))&&(h=null,v=200,C="OK"),h&&this.shouldThrowOnError)throw new n.default(h)}return{error:h,data:y,count:_,status:v,statusText:C}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}}return Zt.default=r,Zt}var so;function il(){if(so)return Yt;so=1;var t=Yt&&Yt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yt,"__esModule",{value:!0});const e=t(sl());class n extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const d=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${f}"; options=${d};`,c==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Yt.default=n,Yt}var io;function Xs(){if(io)return Jt;io=1;var t=Jt&&Jt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jt,"__esModule",{value:!0});const e=t(il());class n extends e.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${l}fts${c}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return Jt.default=n,Jt}var oo;function ol(){if(oo)return Gt;oo=1;var t=Gt&&Gt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gt,"__esModule",{value:!0});const e=t(Xs());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=i,this.schema=o,this.fetch=a}select(s,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const c=(s??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(s)){const c=s.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(s)){const d=s.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const i="DELETE",o=[];return s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Gt.default=n,Gt}var Cn={},An={},ao;function gh(){return ao||(ao=1,Object.defineProperty(An,"__esModule",{value:!0}),An.version=void 0,An.version="0.0.0-automated"),An}var lo;function mh(){if(lo)return Cn;lo=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.DEFAULT_HEADERS=void 0;const t=gh();return Cn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Cn}var co;function yh(){if(co)return Qt;co=1;var t=Qt&&Qt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Qt,"__esModule",{value:!0});const e=t(ol()),n=t(Xs()),r=mh();class s{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){let d;const f=new URL(`${this.url}/rpc/${o}`);let h;l||c?(d=l?"HEAD":"GET",Object.entries(a).filter(([_,v])=>v!==void 0).map(([_,v])=>[_,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([_,v])=>{f.searchParams.append(_,v)})):(d="POST",h=a);const y=Object.assign({},this.headers);return u&&(y.Prefer=`count=${u}`),new n.default({method:d,url:f,headers:y,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return Qt.default=s,Qt}var uo;function _h(){if(uo)return ve;uo=1;var t=ve&&ve.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ve,"__esModule",{value:!0}),ve.PostgrestError=ve.PostgrestBuilder=ve.PostgrestTransformBuilder=ve.PostgrestFilterBuilder=ve.PostgrestQueryBuilder=ve.PostgrestClient=void 0;const e=t(yh());ve.PostgrestClient=e.default;const n=t(ol());ve.PostgrestQueryBuilder=n.default;const r=t(Xs());ve.PostgrestFilterBuilder=r.default;const s=t(il());ve.PostgrestTransformBuilder=s.default;const i=t(sl());ve.PostgrestBuilder=i.default;const o=t(rl());return ve.PostgrestError=o.default,ve.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},ve}var vh=_h();const bh=lh(vh),{PostgrestClient:wh,PostgrestQueryBuilder:Tg,PostgrestFilterBuilder:Og,PostgrestTransformBuilder:$g,PostgrestBuilder:Ig,PostgrestError:jg}=bh,Eh="2.11.2",Sh={"X-Client-Info":`realtime-js/${Eh}`},xh="1.0.0",al=1e4,Ph=1e3;var hn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(hn||(hn={}));var Fe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Fe||(Fe={}));var We;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(We||(We={}));var bs;(function(t){t.websocket="websocket"})(bs||(bs={}));var Mt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Mt||(Mt={}));class Ch{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class ll{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(oe||(oe={}));const fo=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Ah(o,t,e,s),i),{})},Ah=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?cl(i,o):ws(o)},cl=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Oh(e,n)}switch(t){case oe.bool:return kh(e);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return Rh(e);case oe.json:case oe.jsonb:return Th(e);case oe.timestamp:return $h(e);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return ws(e);default:return ws(e)}},ws=t=>t,kh=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Rh=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Th=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Oh=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>cl(e,a))}return t},$h=t=>typeof t=="string"?t.replace(" ","T"):t,ul=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Xr{constructor(e,n,r={},s=al){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ho;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ho||(ho={}));class Fn{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Fn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Fn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const f=u.map(v=>v.presence_ref),h=d.map(v=>v.presence_ref),y=u.filter(v=>h.indexOf(v.presence_ref)<0),_=d.filter(v=>f.indexOf(v.presence_ref)<0);y.length>0&&(a[c]=y),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);e[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var po;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(po||(po={}));var go;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(go||(go={}));var ft;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ft||(ft={}));class ei{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xr(this,We.join,this.params,this.timeout),this.rejoinTimer=new ll(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Fn(this),this.broadcastEndpointURL=ul(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(ft.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(ft.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(ft.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,y=[];for(let _=0;_<h;_++){const v=f[_],{filter:{event:C,schema:A,table:P,filter:S}}=v,j=u&&u[_];if(j&&j.event===C&&j.schema===A&&j.table===P&&j.filter===S)y.push(Object.assign(Object.assign({},v),{id:j.id}));else{this.unsubscribe(),e==null||e(ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(ft.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Fe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Xr(this,We.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Xr(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=We;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var y,_,v;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(_=h.filter)===null||_===void 0?void 0:_.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(h=>h.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var y,_,v,C,A,P;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const S=h.id,j=(y=h.filter)===null||y===void 0?void 0:y.event;return S&&((_=n.ids)===null||_===void 0?void 0:_.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(A=(C=h==null?void 0:h.filter)===null||C===void 0?void 0:C.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return S==="*"||S===((P=n==null?void 0:n.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:_,table:v,commit_timestamp:C,type:A,errors:P}=y;f=Object.assign(Object.assign({},{schema:_,table:v,commit_timestamp:C,eventType:A,new:{},old:{},errors:P}),this._getPayloadRecords(y))}h.callback(f,r)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ei.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(We.close,{},e)}_onError(e){this._on(We.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=fo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=fo(e.columns,e.old_record)),n}}const Ih=()=>{},jh=typeof WebSocket<"u",Lh=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Mh{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Sh,this.params={},this.timeout=al,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ih,this.conn=null,this.sendBuffer=[],this.serializer=new Ch,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>_n(async()=>{const{default:l}=await Promise.resolve().then(()=>bn);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${bs.websocket}`,this.httpEndpoint=ul(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ll(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(jh){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Dh(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),_n(async()=>{const{default:e}=await import("./browser-C1PkaFro.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xh}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case hn.connecting:return Mt.Connecting;case hn.open:return Mt.Open;case hn.closing:return Mt.Closing;default:return Mt.Closed}}isConnected(){return this.connectionState()===Mt.Open}channel(e,n={config:{}}){const r=new ei(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(We.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Ph,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(We.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Lh],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Dh{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=hn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class ti extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function be(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Nh extends ti{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Es extends ti{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Uh=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const dl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>_n(async()=>{const{default:r}=await Promise.resolve().then(()=>bn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Fh=()=>Uh(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _n(()=>Promise.resolve().then(()=>bn),void 0)).Response:Response}),Ss=t=>{if(Array.isArray(t))return t.map(n=>Ss(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ss(r)}),e};var qt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const es=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zh=(t,e,n)=>qt(void 0,void 0,void 0,function*(){const r=yield Fh();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new Nh(es(s),t.status||500))}).catch(s=>{e(new Es(es(s),s))}):e(new Es(es(t),t))}),Bh=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function er(t,e,n,r,s,i){return qt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Bh(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>zh(l,a,r))})})}function Er(t,e,n,r){return qt(this,void 0,void 0,function*(){return er(t,"GET",e,n,r)})}function St(t,e,n,r,s){return qt(this,void 0,void 0,function*(){return er(t,"POST",e,r,s,n)})}function qh(t,e,n,r,s){return qt(this,void 0,void 0,function*(){return er(t,"PUT",e,r,s,n)})}function Hh(t,e,n,r){return qt(this,void 0,void 0,function*(){return er(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function fl(t,e,n,r,s){return qt(this,void 0,void 0,function*(){return er(t,"DELETE",e,r,s,n)})}var $e=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Vh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kh{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=dl(s)}uploadOrUpdate(e,n,r,s){return $e(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},mo),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(be(i))return{data:null,error:i};throw i}})}upload(e,n,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return $e(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:mo.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(be(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return $e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield St(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ti("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}update(e,n,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return $e(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}copy(e,n,r){return $e(this,void 0,void 0,function*(){try{return{data:{path:(yield St(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return $e(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield St(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return $e(this,void 0,void 0,function*(){try{const s=yield St(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}download(e,n){return $e(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Er(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(be(a))return{data:null,error:a};throw a}})}info(e){return $e(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Er(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ss(r),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}exists(e){return $e(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Hh(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(be(r)&&r instanceof Es){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return $e(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}list(e,n,r){return $e(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Vh),n),{prefix:e||""});return{data:yield St(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Wh="2.7.1",Qh={"X-Client-Info":`storage-js/${Wh}`};var Xt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Gh{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Qh),n),this.fetch=dl(r)}listBuckets(){return Xt(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(be(e))return{data:null,error:e};throw e}})}getBucket(e){return Xt(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Xt(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Xt(this,void 0,void 0,function*(){try{return{data:yield qh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Xt(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Xt(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}}class Jh extends Gh{constructor(e,n={},r){super(e,n,r)}from(e){return new Kh(this.url,this.headers,e,this.fetch)}}const Yh="2.48.1";let Tn="";typeof Deno<"u"?Tn="deno":typeof document<"u"?Tn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tn="react-native":Tn="node";const Zh={"X-Client-Info":`supabase-js-${Tn}/${Yh}`},Xh={headers:Zh},ep={schema:"public"},tp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},np={};var rp=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const sp=t=>{let e;return t?e=t:typeof fetch>"u"?e=tl:e=fetch,(...n)=>e(...n)},ip=()=>typeof Headers>"u"?nl:Headers,op=(t,e,n)=>{const r=sp(n),s=ip();return(i,o)=>rp(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var ap=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function lp(t){return t.replace(/\/$/,"")}function cp(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>ap(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const hl="2.67.3",up="http://localhost:9999",dp="supabase.auth.token",fp={"X-Client-Info":`gotrue-js/${hl}`},yo=10,xs="X-Supabase-Api-Version",pl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function hp(t){return Math.round(Date.now()/1e3)+t}function pp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const tt=()=>typeof window<"u"&&typeof document<"u",It={tested:!1,writable:!1},zn=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(It.tested)return It.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),It.tested=!0,It.writable=!0}catch{It.tested=!0,It.writable=!1}return It.writable};function gp(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const gl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>_n(async()=>{const{default:r}=await Promise.resolve().then(()=>bn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},mp=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ml=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ar=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},lr=async(t,e)=>{await t.removeItem(e)};function yp(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Nr{constructor(){this.promise=new Nr.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Nr.promiseConstructor=Promise;function _o(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(yp(r))}async function _p(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function vp(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function bp(t){return("0"+t.toString(16)).substr(-2)}function wp(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,bp).join("")}async function Ep(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function Sp(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xp(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Ep(t);return Sp(n)}async function en(t,e,n=!1){const r=wp();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ml(t,`${e}-code-verifier`,s);const i=await xp(r);return[i,r===i?"plain":"s256"]}const Pp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cp(t){const e=t.headers.get(xs);if(!e||!e.match(Pp))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class ni extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function V(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ap extends ni{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function kp(t){return V(t)&&t.name==="AuthApiError"}class yl extends ni{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ht extends ni{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class _t extends Ht{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rp(t){return V(t)&&t.name==="AuthSessionMissingError"}class ts extends Ht{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cr extends Ht{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ur extends Ht{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tp(t){return V(t)&&t.name==="AuthImplicitGrantRedirectError"}class vo extends Ht{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ps extends Ht{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ns(t){return V(t)&&t.name==="AuthRetryableFetchError"}class bo extends Ht{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Op=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Lt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$p=[502,503,504];async function wo(t){var e;if(!mp(t))throw new Ps(Lt(t),0);if($p.includes(t.status))throw new Ps(Lt(t),t.status);let n;try{n=await t.json()}catch(i){throw new yl(Lt(i),i)}let r;const s=Cp(t);if(s&&s.getTime()>=pl["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new bo(Lt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new _t}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new bo(Lt(n),t.status,n.weak_password.reasons);throw new Ap(Lt(n),t.status||500,r)}const Ip=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function K(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[xs]||(i[xs]=pl["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await jp(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function jp(t,e,n,r,s,i){const o=Ip(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Ps(Lt(l),0)}if(a.ok||await wo(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await wo(l)}}function vt(t){var e;let n=null;Np(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=hp(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Eo(t){const e=vt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function xt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Lp(t){return{data:t,error:null}}function Mp(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Op(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Dp(t){return t}function Np(t){return t.access_token&&t.refresh_token&&t.expires_in}var Up=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Fp{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=gl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xt})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Up(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Mp,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(V(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:xt})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Dp});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);c[`${v}Page`]=_}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(V(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await K(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:xt})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:xt})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:xt})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await K(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(V(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}}const zp={getItem:t=>zn()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{zn()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{zn()&&globalThis.localStorage.removeItem(t)}};function So(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Bp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const tn={debug:!!(globalThis&&zn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _l extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qp extends _l{}async function Hp(t,e,n){tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),tn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new qp(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(tn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Bp();const Vp={url:up,storageKey:dp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},kn=30*1e3,xo=3;async function Po(t,e,n){return await n()}class Gn{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gn.nextInstanceID,Gn.nextInstanceID+=1,this.instanceID>0&&tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Vp),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Fp({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=gl(s.fetch),this.lock=s.lock||Po,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:tt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Hp:this.lock=Po,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:zn()?this.storage=zp:(this.memoryStorage={},this.storage=So(this.memoryStorage)):(this.memoryStorage={},this.storage=So(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hl}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=gp(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),tt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Tp(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return V(n)?{error:n}:{error:new yl("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:vt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:f}=e;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await en(this.storage,this.storageKey)),i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:y},xform:vt})}else if("phone"in e){const{phone:u,password:d,options:f}=e;i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:vt})}else throw new cr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Eo})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Eo})}else throw new cr("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ts}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await ar(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:vt});if(await lr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ts}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(V(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:vt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ts}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await en(this.storage,this.storageKey));const{error:d}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new cr("You must provide either an email or phone number.")}catch(a){if(V(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:vt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await en(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Lp})}catch(i){if(V(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new _t;const{error:s}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(V(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await K(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await K(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new cr("You must provide either an email or phone number and a type")}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ar(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:xt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _t}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:xt})})}catch(n){if(V(n))return Rp(n)&&(await this._removeSession(),await lr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new _t;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await en(this.storage,this.storageKey));const{data:c,error:u}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:xt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return _o(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _t;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=_o(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(V(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new _t;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!tt())throw new ur("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ur(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new vo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ur("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new vo("No code detected.");const{data:A,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new ur("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const h=f-u;h*1e3<=kn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const y=f-d;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,u);const{data:_,error:v}=await this._getUser(i);if(v)throw v;const C={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(r){if(V(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ar(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(kp(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await lr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=pp(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await en(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(V(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return tt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(V(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await vp(async s=>(s>0&&await _p(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ns(i)&&Date.now()+o-r<kn})}catch(r){if(this._debug(n,"error",r),V(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),tt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ar(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+yo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${yo}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),ns(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new _t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Nr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new _t;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),V(i)){const o={session:null,error:i};return ns(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ml(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await lr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),kn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/kn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${kn}ms, refresh threshold is ${xo} ticks`),s<=xo&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _l)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await en(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await K(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await K(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Gn.nextInstanceID=0;const Kp=Gn;class Wp extends Kp{constructor(e){super(e)}}var Qp=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Gp{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=lp(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:ep,realtime:np,auth:Object.assign(Object.assign({},tp),{storageKey:l}),global:Xh},u=cp(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=op(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new wh(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new ah(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Jh(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Qp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wp({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Mh(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Jp=(t,e,n)=>new Gp(t,e,n);class Yp{constructor(){nr(this,"supabase",Jp("https://dnsewtyjyfqpkugrwhmq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRuc2V3dHlqeWZxcGt1Z3J3aG1xIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY2NTc0ODUsImV4cCI6MjA1MjIzMzQ4NX0.OPESoZ2-AJfV3TvfKxemcLjmn9730bRd5DVXAlJxPbQ"));nr(this,"channels",{});nr(this,"eventListeners",{listenForNewPlayers:[],startQuiz:[],updateCountdownBeforeAnswer:[],updateAnsweringCountdown:[],listenQuestion:[],listenPlayerQuestionPoints:[]})}async getQuizzes(){const{error:e,data:n}=await this.supabase.from("quizzes").select("*");if(e)throw new Error(e.message);return n}async createLobby(e){const{error:n,data:r}=await this.supabase.from("lobbies").insert({quiz_id:e}).select();if(n)throw new Error(n.message);return r[0]}async getPlayersByLobby(e){const{error:n,data:r}=await this.supabase.from("players").select("*").eq("lobby_id",e),s=r.map(this.generatePlayerWithAvatar.bind(this));if(n)throw new Error(n.message);return s}startListeningForNewPlayers(e,n){this.initializeLobbyChannel(e),this.eventListeners.listenForNewPlayers.push(n)}async stopListeningForNewPlayers(e){this.initializeLobbyChannel(e),this.eventListeners.listenForNewPlayers=[]}async createPlayerByLobbyId(e,n,r){const{error:s,data:i}=await this.supabase.storage.from("player-avatars").upload(`public/${e}_${n}.jpeg`,r);if(s)throw new Error(s.message);const{error:o,data:a}=await this.supabase.from("players").insert({lobby_id:e,username:n,image:i.path}).select();if(o)throw new Error(o.message);return this.generatePlayerWithAvatar(a[0])}async startQuiz(e){if(await this.initializeLobbyChannel(e).send({type:"broadcast",event:"start_quiz"})!=="ok")throw new Error("Failed to start quiz")}async getQuizByLobbyId(e){const{error:n,data:r}=await this.supabase.from("lobbies").select("quizzes(*)").eq("id",e);if(n)throw new Error(n.message);return r[0].quizzes}listenQuizStart(e,n){this.initializeLobbyChannel(e),this.eventListeners.startQuiz.push(n)}listenQuestion(e,n){this.initializeLobbyChannel(e),this.eventListeners.listenQuestion.push(n)}async sendAnswer(e,n,r,s){const{error:i,data:o}=await this.supabase.rpc("register_answer",{lobby_id_input:e,player_id_input:n,question_id_input:r,answer_id_input:s});if(i)throw new Error(i.message);return o.length===0?null:o.map(({answer_id:a,created_at:l,id:c,player_id:u,points:d})=>({answerId:a,createdAt:l,id:c,playerId:u,points:d}))[0]}listenPlayerQuestionPoints(e,n,r){this.initializeLobbyChannel(e),this.eventListeners.listenPlayerQuestionPoints.push({playerId:n,callback:r})}updateCountdownBeforeAnswer(e,n){this.initializeLobbyChannel(e).send({type:"broadcast",event:"update_countdown_before_answer",payload:{count:n}})}listenUpdateCountdownBeforeAnswer(e,n){this.initializeLobbyChannel(e),this.eventListeners.updateCountdownBeforeAnswer.push(n)}updateAnsweringCountdown(e,n){this.initializeLobbyChannel(e).send({type:"broadcast",event:"update_answering_countdown",payload:{count:n}})}listenUpdateAnsweringCountdown(e,n){this.initializeLobbyChannel(e),this.eventListeners.updateAnsweringCountdown.push(n)}sendQuestion(e,n){this.initializeLobbyChannel(e).send({type:"broadcast",event:"send_question",payload:n})}async getQuizWithQuestionsAndAnswersByQuizId(e){const{data:n,error:r}=await this.supabase.from("quizzes").select(`
        *,
        questions (
          *,
          answers (*, isCorrect:is_correct)
        )
      `).eq("id",e);if(r)throw new Error(r.message);return n[0]}async getPlayerCountPerAnswerInQuestionByLobbyIdAndQuestionId(e,n){const{data:r,error:s}=await this.supabase.rpc("get_answer_counts",{lobby_id_input:e,question_id_input:n});if(s)throw new Error(s.message);return r.map(({answer_id:i,player_count:o})=>({answerId:i,playerCount:o}))}async getAwardsDashboard(e){const{data:n,error:r}=await this.supabase.rpc("get_awards",{lobby_id_input:e});if(r)throw new Error(r.message);return n.map(s=>({...s,points:s.total_points,image:this.getPlayerAvatarUrl(s)}))}initializeLobbyChannel(e){if(this.channels[`lobby-${e}`])return this.channels[`lobby-${e}`];const n=this.supabase.channel(`lobby-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"players",filter:`lobby_id=eq.${e}`},r=>{const s={...r.new,image:this.getPlayerAvatarUrl(r.new)};this.eventListeners.listenForNewPlayers.forEach(i=>{i(s)})}).on("postgres_changes",{event:"INSERT",schema:"public",table:"players_answers"},r=>{this.eventListeners.listenPlayerQuestionPoints.forEach(({playerId:s,callback:i})=>{r.new.playerId===s&&i(r.new)})}).on("broadcast",{event:"start_quiz"},r=>{this.eventListeners.startQuiz.forEach(s=>{s()})}).on("broadcast",{event:"update_countdown_before_answer"},r=>{this.eventListeners.updateCountdownBeforeAnswer.forEach(s=>{s(r.payload.count)})}).on("broadcast",{event:"update_answering_countdown"},r=>{this.eventListeners.updateAnsweringCountdown.forEach(s=>{s(r.payload.count)})}).on("broadcast",{event:"send_question"},r=>{this.eventListeners.listenQuestion.forEach(s=>{s(r.payload)})}).subscribe();return this.channels[`lobby-${e}`]=n,n}generatePlayerWithAvatar(e){return{...e,image:this.getPlayerAvatarUrl(e)}}getPlayerAvatarUrl(e){const{data:{publicUrl:n}}=this.supabase.storage.from("player-avatars").getPublicUrl(e.image);return n}}function Dt(t){return t.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Zp(t){var e,n,r,s,i,o,a;const l=(e=t.meta)===null||e===void 0?void 0:e.title,c=(n=t.meta)===null||n===void 0?void 0:n.creator,u=(r=t.meta)===null||r===void 0?void 0:r.source,d=(i=(s=t.meta)===null||s===void 0?void 0:s.license)===null||i===void 0?void 0:i.url,f=Xp(t);return!l&&!c&&!u&&!d&&!f?"":'<metadata xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"><rdf:RDF><rdf:Description>'+(l?`<dc:title>${Dt(l)}</dc:title>`:"")+(c?`<dc:creator>${Dt(c)}</dc:creator>`:"")+(u?`<dc:source xsi:type="dcterms:URI">${Dt((a=(o=t.meta)===null||o===void 0?void 0:o.source)!==null&&a!==void 0?a:"")}</dc:source>`:"")+(d?`<dcterms:license xsi:type="dcterms:URI">${Dt(d)}</dcterms:license>`:"")+(f?`<dc:rights>${Dt(f)}</dc:rights>`:"")+"</rdf:Description></rdf:RDF></metadata>"}function Xp(t){var e,n,r,s,i,o,a,l,c,u,d,f,h,y,_;let v=!((e=t.meta)===null||e===void 0)&&e.title?`${(n=t.meta)===null||n===void 0?void 0:n.title}`:"Design",C=`${(s=(r=t.meta)===null||r===void 0?void 0:r.creator)!==null&&s!==void 0?s:"Unknown"}`;!((i=t.meta)===null||i===void 0)&&i.source&&(v+=` (${t.meta.source})`);let A="";return((a=(o=t.meta)===null||o===void 0?void 0:o.license)===null||a===void 0?void 0:a.name)!=="MIT"&&((l=t.meta)===null||l===void 0?void 0:l.creator)!=="DiceBear"&&(!((c=t.meta)===null||c===void 0)&&c.title)&&(A+="Remix of "),A+=`${v} by ${C}`,!((d=(u=t.meta)===null||u===void 0?void 0:u.license)===null||d===void 0)&&d.name&&(A+=`, licensed under ${(h=(f=t.meta)===null||f===void 0?void 0:f.license)===null||h===void 0?void 0:h.name}`,!((_=(y=t.meta)===null||y===void 0?void 0:y.license)===null||_===void 0)&&_.url&&(A+=` (${t.meta.license.url})`)),A}const Co=-2147483648,eg=2147483647;function vl(t){return t^=t<<13,t^=t>>17,t^=t<<5,t}function tg(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n)|0,e=vl(e);return e}function Sr(t=""){t=t.toString();let e=tg(t)||1;const n=()=>e=vl(e),r=(s,i)=>Math.floor((n()-Co)/(eg-Co)*(i+1-s)+s);return{seed:t,next:n,bool(s=50){return r(1,100)<=s},integer(s,i){return r(s,i)},pick(s,i){var o;return s.length===0?(n(),i):(o=s[r(0,s.length-1)])!==null&&o!==void 0?o:i},shuffle(s){const i=Sr(n().toString()),o=[...s];for(let a=o.length-1;a>0;a--){const l=i.integer(0,a);[o[a],o[l]]=[o[l],o[a]]}return o},string(s,i="abcdefghijklmnopqrstuvwxyz1234567890"){const o=Sr(n().toString());let a="";for(let l=0;l<s;l++)a+=i[o.integer(0,i.length-1)];return a}}}function wn(t){let e=t.attributes.viewBox.split(" "),n=parseInt(e[0]),r=parseInt(e[1]),s=parseInt(e[2]),i=parseInt(e[3]);return{x:n,y:r,width:s,height:i}}function ng(t,e,n,r,s){let{width:i,height:o,x:a,y:l}=wn(t);const c=`<rect fill="${e}" width="${i}" height="${o}" x="${a}" y="${l}" />`;switch(r){case"solid":return c+t.body;case"gradientLinear":return`<rect fill="url(#backgroundLinear)" width="${i}" height="${o}" x="${a}" y="${l}" /><defs><linearGradient id="backgroundLinear" gradientTransform="rotate(${s} 0.5 0.5)"><stop stop-color="${e}"/><stop offset="1" stop-color="${n}"/></linearGradient></defs>`+t.body}}function rg(t,e){let{width:n,height:r,x:s,y:i}=wn(t),o=e?(e-100)/100:0,a=(n/2+s)*o*-1,l=(r/2+i)*o*-1;return`<g transform="translate(${a} ${l}) scale(${e/100})">${t.body}</g>`}function sg(t,e,n){let r=wn(t),s=(r.width+r.x*2)*((e??0)/100),i=(r.height+r.y*2)*((n??0)/100);return`<g transform="translate(${s} ${i})">${t.body}</g>`}function ig(t,e){let{width:n,height:r,x:s,y:i}=wn(t);return`<g transform="rotate(${e}, ${n/2+s}, ${r/2+i})">${t.body}</g>`}function og(t){let{width:e,x:n}=wn(t);return`<g transform="scale(-1 1) translate(${e*-1-n*2} 0)">${t.body}</g>`}function ag(t,e){let{width:n,height:r,x:s,y:i}=wn(t),o=e?n*e/100:0,a=e?r*e/100:0;return`<mask id="viewboxMask"><rect width="${n}" height="${r}" rx="${o}" ry="${a}" x="${s}" y="${i}" fill="#fff" /></mask><g mask="url(#viewboxMask)">${t.body}</g>`}function lg(t){const e={xmlns:"http://www.w3.org/2000/svg",...t.attributes};return Object.keys(e).map(n=>`${Dt(n)}="${Dt(e[n])}"`).join(" ")}function cg(t){const e=Sr(Math.random().toString()),n={};return t.body.replace(/(id="|url\(#)([a-z0-9-_]+)([")])/gi,(r,s,i,o)=>(n[i]=n[i]||e.string(8),`${s}${n[i]}${o}`))}const ug={properties:{seed:{type:"string"},flip:{type:"boolean",default:!1},rotate:{type:"integer",minimum:0,maximum:360,default:0},scale:{type:"integer",minimum:0,maximum:200,default:100},radius:{type:"integer",minimum:0,maximum:50,default:0},size:{type:"integer",minimum:1},backgroundColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"}},backgroundType:{type:"array",items:{type:"string",enum:["solid","gradientLinear"]},default:["solid"]},backgroundRotation:{type:"array",items:{type:"integer",minimum:-360,maximum:360},default:[0,360]},translateX:{type:"integer",minimum:-100,maximum:100,default:0},translateY:{type:"integer",minimum:-100,maximum:100,default:0},clip:{type:"boolean",default:!0},randomizeIds:{type:"boolean",default:!1}}};function Ao(t){var e;let n={},r=(e=t.properties)!==null&&e!==void 0?e:{};return Object.keys(r).forEach(s=>{let i=r[s];typeof i=="object"&&i.default!==void 0&&(Array.isArray(i.default)?n[s]=[...i.default]:typeof i.default=="object"?n[s]={...i.default}:n[s]=i.default)}),n}function dg(t,e){var n;let r={...Ao(ug),...Ao((n=t.schema)!==null&&n!==void 0?n:{}),...e};return JSON.parse(JSON.stringify(r))}function ko(t){return t==="transparent"?t:`#${t}`}function fg(t,e,n){var r;let s=t.shuffle(e);s.length<=1||e.length==2&&n=="gradientLinear"?(s=e,t.next()):s=t.shuffle(e),s.length===0&&(s=["transparent"]);const i=s[0],o=(r=s[1])!==null&&r!==void 0?r:s[0];return{primary:ko(i),secondary:ko(o)}}function hg(t,e={}){var n,r,s,i,o;e=dg(t,e);const a=Sr(e.seed),l=t.create({prng:a,options:e}),c=a.pick((n=e.backgroundType)!==null&&n!==void 0?n:[],"solid"),{primary:u,secondary:d}=fg(a,(r=e.backgroundColor)!==null&&r!==void 0?r:[],c),f=a.integer(!((s=e.backgroundRotation)===null||s===void 0)&&s.length?Math.min(...e.backgroundRotation):0,!((i=e.backgroundRotation)===null||i===void 0)&&i.length?Math.max(...e.backgroundRotation):0);e.size&&(l.attributes.width=e.size.toString(),l.attributes.height=e.size.toString()),e.scale!==void 0&&e.scale!==100&&(l.body=rg(l,e.scale)),e.flip&&(l.body=og(l)),e.rotate&&(l.body=ig(l,e.rotate)),(e.translateX||e.translateY)&&(l.body=sg(l,e.translateX,e.translateY)),u!=="transparent"&&d!=="transparent"&&(l.body=ng(l,u,d,c,f)),(e.radius||e.clip)&&(l.body=ag(l,(o=e.radius)!==null&&o!==void 0?o:0)),e.randomizeIds&&(l.body=cg(l));const h=lg(l),y=Zp(t),_=`<svg ${h}>${y}${l.body}</svg>`;return{toString:()=>_,toJson:()=>{var v;return{svg:_,extra:{primaryBackgroundColor:u,secondaryBackgroundColor:d,backgroundType:c,backgroundRotation:f,...(v=l.extra)===null||v===void 0?void 0:v.call(l)}}},toDataUri:()=>`data:image/svg+xml;utf8,${encodeURIComponent(_)}`}}const pg={bite:(t,e)=>'<rect x="4" y="5" width="68" height="22" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="9" width="60" height="14" rx="2" fill="#000" fill-opacity=".6"/><path fill-rule="evenodd" clip-rule="evenodd" d="m20 17 6-8H14l6 8ZM32 17l6-8H26l6 8ZM44 17l6-8H38l6 8ZM56 17l6-8H50l6 8Z" fill="#E1E6E8"/>',diagram:(t,e)=>'<rect x="4" y="4" width="68" height="24" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="8" width="60" height="16" rx="2" fill="#000" fill-opacity=".8"/><path d="M9 17h11l2-4 3 7 4-8 2 9 3-11 3 10 3-3h15l3-4 2 7 3-3h4" stroke="#4EFAC9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>',grill01:(t,e)=>'<g fill="#000" fill-opacity=".6"><rect x="12" y="12" width="4" height="8" rx="2"/><rect x="36" y="12" width="4" height="8" rx="2"/><rect x="24" y="12" width="4" height="8" rx="2"/><rect x="48" y="12" width="4" height="8" rx="2"/><rect x="60" y="12" width="4" height="8" rx="2"/></g>',grill02:(t,e)=>'<g fill="#000" fill-opacity=".6"><rect x="28" y="10" width="6" height="14" rx="2"/><rect x="14" y="10" width="6" height="14" rx="2"/><rect x="42" y="10" width="6" height="14" rx="2"/><rect x="56" y="10" width="6" height="14" rx="2"/></g>',grill03:(t,e)=>'<rect x="4" y="5" width="68" height="22" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="9" width="60" height="14" rx="2" fill="#fff"/><path fill="#000" fill-opacity=".1" d="M18 9h4v14h-4zM42 9h4v14h-4zM30 9h4v14h-4zM54 9h4v14h-4z"/>',smile01:(t,e)=>'<path d="M27.05 8.44a2 2 0 1 1 3.9-.88C31.72 10.96 34.4 13 38 13c3.6 0 6.28-2.04 7.05-5.44a2 2 0 1 1 3.9.88C47.75 13.7 43.43 17 38 17s-9.76-3.3-10.95-8.56Z" fill="#000" fill-opacity=".6"/>',smile02:(t,e)=>'<path fill-rule="evenodd" clip-rule="evenodd" d="M18 10.22C18 21.78 24.47 28 38 28c13.52 0 20-6.34 20-17.78C58 9.5 57.17 8 55 8H21c-2.05 0-3 1.38-3 2.22Z" fill="#000" fill-opacity=".8"/><mask id="mouthSmile02-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="18" y="8" width="40" height="20"><path fill-rule="evenodd" clip-rule="evenodd" d="M18 10.22C18 21.78 24.47 28 38 28c13.52 0 20-6.34 20-17.78C58 9.5 57.17 8 55 8H21c-2.05 0-3 1.38-3 2.22Z" fill="#fff"/></mask><g mask="url(#mouthSmile02-a)"><rect x="30" y="2" width="16" height="14" rx="2" fill="#fff"/></g>',square01:(t,e)=>'<rect x="24" y="6" width="27" height="8" rx="4" fill="#000" fill-opacity=".8"/>',square02:(t,e)=>'<rect x="16" y="8" width="44" height="4" rx="2" fill="#000" fill-opacity=".8"/>'},gg={bulging:(t,e)=>'<circle cx="28" cy="24" r="18" fill="#000" fill-opacity=".2"/><circle cx="74" cy="24" r="18" fill="#000" fill-opacity=".2"/><circle cx="28" cy="24" r="15" fill="#F1EEDA"/><circle cx="74" cy="24" r="15" fill="#F1EEDA"/><rect x="26" y="15" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/><rect x="74" y="15" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/>',dizzy:(t,e)=>'<path d="m25 27.2 5.5 5.5c.5.4 1.2.4 1.6 0l1.6-1.6c.4-.5.4-1.2 0-1.6L28.2 24l5.5-5.5c.4-.5.4-1.2 0-1.6l-1.6-1.6c-.5-.4-1.2-.4-1.6 0L25 20.8l-5.5-5.5c-.5-.4-1.2-.4-1.6 0l-1.6 1.6c-.4.4-.4 1.1 0 1.6l5.5 5.5-5.5 5.5c-.4.5-.4 1.2 0 1.6l1.6 1.6c.5.4 1.2.4 1.6 0l5.5-5.5ZM79 27.2l5.5 5.5c.5.4 1.2.4 1.6 0l1.6-1.6c.4-.5.4-1.2 0-1.6L82.2 24l5.5-5.5c.4-.5.4-1.2 0-1.6l-1.6-1.6c-.5-.4-1.2-.4-1.6 0L79 20.8l-5.5-5.5c-.5-.4-1.2-.4-1.6 0l-1.6 1.6c-.4.4-.4 1.1 0 1.6l5.5 5.5-5.5 5.5c-.4.5-.4 1.2 0 1.6l1.6 1.6c.5.4 1.2.4 1.6 0l5.5-5.5Z" fill="#000" fill-opacity=".8"/>',eva:(t,e)=>'<g fill-rule="evenodd" clip-rule="evenodd"><path d="M53 0c34.75 0 49 17.47 49 31 0 13.53-19.59 17-49 17-29.05 0-51-3.47-51-17S17.11 0 53 0Z" fill="#000" fill-opacity=".8"/><path d="M28.82 34.65c-6.53-1.35-11.24-6.34-10.52-11.14.72-4.79 6.6-7.58 13.12-6.23 6.53 1.36 11.24 6.35 10.52 11.15-.72 4.8-6.6 7.59-13.12 6.23ZM75.42 34.65c-6.52 1.36-12.4-1.43-13.12-6.23-.72-4.8 4-9.8 10.52-11.15 6.52-1.35 12.4 1.44 13.12 6.24.72 4.81-4 9.8-10.52 11.15Z" fill="#25A6F5"/></g>',frame1:(t,e)=>'<rect y="4" width="104" height="42" rx="4" fill="#000" fill-opacity=".8"/><rect x="28" y="25" width="10" height="11" rx="2" fill="#8BDDFF"/><rect x="66" y="25" width="10" height="11" rx="2" fill="#8BDDFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21 4h8L12 46H4L21 4Z" fill="#fff" fill-opacity=".4"/>',frame2:(t,e)=>'<rect x="8" y="10" width="88" height="36" rx="4" fill="#000" fill-opacity=".8"/><rect x="28" y="21" width="10" height="17" rx="2" fill="#5EF2B8"/><rect x="66" y="21" width="10" height="17" rx="2" fill="#5EF2B8"/><path fill-rule="evenodd" clip-rule="evenodd" d="M83 10h5L76 46h-5l12-36Z" fill="#fff" fill-opacity=".4"/>',glow:(t,e)=>'<g fill="#fff"><circle cx="21" cy="30" r="15" fill-opacity=".1"/><circle cx="83" cy="30" r="15" fill-opacity=".1"/><circle cx="21" cy="30" r="12" fill-opacity=".1"/><circle cx="83" cy="30" r="12" fill-opacity=".1"/><circle cx="21" cy="30" r="6" fill-opacity=".8"/><circle cx="83" cy="30" r="6" fill-opacity=".8"/><circle cx="21" cy="30" r="3" fill-opacity=".8"/><circle cx="83" cy="30" r="3" fill-opacity=".8"/></g>',happy:(t,e)=>'<path d="m18 19 12-2M20 31c0-3.31 2.9-6 7-6 3.1 0 6 2.69 6 6M86 20l-12-3M84 31c0-3.31-2.9-6-6-6-4.1 0-7 2.69-7 6" stroke="#000" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>',hearts:(t,e)=>'<path d="M29.27 9.68c-2.55.13-4.96 2.24-6.25 4.15-1.48-1.76-4.1-3.6-6.65-3.47-5.48.28-8.85 3.8-8.63 8.1.3 5.72 4.88 8.89 9.7 12.24 1.71 1.15 5 4.15 5.42 4.82.42.67 2.14.6 2.58-.13a37.8 37.8 0 0 1 4.9-5.36c4.43-3.84 8.66-7.47 8.36-13.2-.23-4.3-3.95-7.44-9.43-7.15ZM87.63 10.36c-2.55-.14-5.17 1.7-6.65 3.47-1.3-1.9-3.7-4.02-6.25-4.15-5.48-.29-9.2 2.86-9.43 7.16-.3 5.72 3.93 9.35 8.36 13.19 1.6 1.32 4.55 4.64 4.9 5.36.35.7 2.06.82 2.58.13.51-.7 3.7-3.67 5.42-4.82 4.81-3.35 9.4-6.52 9.7-12.24.22-4.3-3.15-7.82-8.63-8.1Z" fill="#FF5353" fill-opacity=".8"/>',robocop:(t,e)=>'<rect x="7" y="16" width="91" height="16" rx="4" fill="#000" fill-opacity=".8"/><mask id="eyesRobocop-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="7" y="16" width="91" height="16"><rect x="7" y="16" width="91" height="16" rx="4" fill="#fff"/></mask><g mask="url(#eyesRobocop-a)" fill-rule="evenodd" clip-rule="evenodd" fill="#fff" fill-opacity=".8"><path d="M76 7h18L82 37H64L76 7ZM52 7h9L49 37h-9L52 7Z"/></g>',round:(t,e)=>'<g fill="#fff"><circle cx="24" cy="30" r="6"/><circle cx="80" cy="30" r="6"/></g>',roundFrame01:(t,e)=>'<rect y="12" width="104" height="32" rx="16" fill="#000" fill-opacity=".8"/><rect x="24" y="22" width="10" height="12" rx="2" fill="#F4F4F4"/><rect x="70" y="22" width="10" height="12" rx="2" fill="#F4F4F4"/>',roundFrame02:(t,e)=>'<rect y="11" width="104" height="34" rx="17" fill="#000" fill-opacity=".8"/><circle cx="29" cy="28" r="13" fill="#F1EEDA"/><circle cx="75" cy="28" r="13" fill="#F1EEDA"/><rect x="24" y="23" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/><rect x="70" y="23" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/>',sensor:(t,e)=>'<path d="M28 44a20 20 0 0 0 19.9-18h41.52a5 5 0 1 0 0-4H47.9A20 20 0 1 0 28 44Z" fill="#000" fill-opacity=".2"/><circle cx="94" cy="24" r="2" fill="#fff"/><circle cx="28" cy="24" r="16" fill="#000" fill-opacity=".6"/><circle cx="34" cy="16" r="3" fill="#fff"/>',shade01:(t,e)=>'<path d="M96 2H8c-4.5 0-8 3.5-8 8.03V28c0 4.5 3.5 8 8 8h13c8 0 11 8 18 8h27c7 0 9-8 17-8h13c4.5 0 8-3.5 8-8V10c0-4.5-3.5-8-8-8Z" fill="#000" fill-opacity=".8"/><path d="M87 14H17c-3.5 0-5 3-5 5v2c0 2 1.5 5 5 5h12c6 0 11.62 8 17 8h14c5.38 0 9-8 15-8h12c3.5 0 5-3 5-5v-2c0-2-1.5-5-5-5Z" fill="#FF3D3D"/><path d="M22.44 36.09 37.26 2h11L31.4 40.78l-.76-.58c-2.38-1.82-4.83-3.69-8.2-4.11ZM11.48 36 26.26 2h4L15.48 36h-4Z" fill="#fff" fill-opacity=".2"/>'},mg=Object.freeze(Object.defineProperty({__proto__:null,eyes:gg,mouth:pg},Symbol.toStringTag,{value:"Module"}));function Ro({prng:t,group:e,values:n=[]}){const r=mg,s=t.pick(n);if(s&&r[e][s])return{name:s,value:r[e][s]}}function yg({prng:t,options:e}){const n=Ro({prng:t,group:"mouth",values:e.mouth}),r=Ro({prng:t,group:"eyes",values:e.eyes});return{mouth:n,eyes:r}}function _g({prng:t,options:e}){return{}}const vg={$schema:"http://json-schema.org/draft-07/schema#",properties:{backgroundColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"},default:["ffb300","1e88e5","546e7a","6d4c41","00acc1","f4511e","5e35b1","43a047","757575","3949ab","039be5","7cb342","c0ca33","fb8c00","d81b60","8e24aa","e53935","00897b","fdd835"]},eyes:{type:"array",items:{type:"string",enum:["bulging","dizzy","eva","frame1","frame2","glow","happy","hearts","robocop","round","roundFrame01","roundFrame02","sensor","shade01"]},default:["bulging","dizzy","eva","frame1","frame2","glow","happy","hearts","robocop","round","roundFrame01","roundFrame02","sensor","shade01"]},mouth:{type:"array",items:{type:"string",enum:["bite","diagram","grill01","grill02","grill03","smile01","smile02","square01","square02"]},default:["bite","diagram","grill01","grill02","grill03","smile01","smile02","square01","square02"]}}},bg={title:"Bottts",creator:"Pablo Stanley",source:"https://bottts.com/",homepage:"https://twitter.com/pablostanley",license:{name:"Free for personal and commercial use",url:"https://bottts.com/"}},wg=({prng:t,options:e})=>{var n,r,s,i;const o=yg({prng:t,options:e}),a=_g({prng:t,options:e});return{attributes:{viewBox:"0 0 120 120",fill:"none","shape-rendering":"auto"},body:`<g transform="translate(22 68)">${(r=(n=o.mouth)===null||n===void 0?void 0:n.value(o,a))!==null&&r!==void 0?r:""}</g><g transform="translate(8 20)">${(i=(s=o.eyes)===null||s===void 0?void 0:s.value(o,a))!==null&&i!==void 0?i:""}</g>`,extra:()=>({...Object.entries(o).reduce((l,[c,u])=>(l[c]=u==null?void 0:u.name,l),{}),...Object.entries(a).reduce((l,[c,u])=>(l[`${c}Color`]=u,l),{})})}},Eg=Object.freeze(Object.defineProperty({__proto__:null,create:wg,meta:bg,schema:vg},Symbol.toStringTag,{value:"Module"}));function Cs(t){switch(t){case"svg":return"image/svg+xml";case"png":case"jpeg":case"webp":case"avif":return`image/${t}`;default:throw new Error(`Unsupported format: ${t}`)}}function Sg(t,e=512){let n=e;return t=t.replace(/<svg([^>]*)/,(r,s)=>{const i=s.match(/width="([^"]+)"/);return i&&(n=parseInt(i[1])),s.match(/width="([^"]+)"/)?s=s.replace(/width="([^"]+)"/,`width="${n}"`):s+=` width="${n}"`,s.match(/height="([^"]+)"/)?s=s.replace(/height="([^"]+)"/,`height="${n}"`):s+=` height="${n}"`,`<svg${s}`}),{svg:t,size:n}}const xg=t=>Pg(t,"jpeg");function Pg(t,e){const n=typeof t=="string"?t:t.toString();return{toDataUri:()=>bl(n,e),toArrayBuffer:()=>Cg(n,e)}}async function bl(t,e,n){return e==="svg"?`data:${Cs(e)};utf8,${encodeURIComponent(t)}`:(await wl(t,e)).toDataURL(Cs(e))}async function Cg(t,e,n){const r=await wl(t,e);return await new Promise((s,i)=>{r.toBlob(o=>{o?s(o.arrayBuffer()):i(new Error("Could not create blob"))},Cs(e))})}async function wl(t,e,n){const{svg:r,size:s}=Sg(t),i=document.createElement("canvas");i.width=s,i.height=s;const o=i.getContext("2d");if(o===null)throw new Error("Could not get canvas context");e==="jpeg"&&(o.fillStyle="white",o.fillRect(0,0,s,s));const a=document.createElement("img");return a.width=s,a.height=s,a.setAttribute("src",await bl(r,"svg")),new Promise((l,c)=>{a.onload=()=>{o.drawImage(a,0,0,s,s),l(i)},a.onerror=u=>c(u)})}class Ag{async generateAvatarByString(e){const n=hg(Eg,{seed:e}),r=await xg(n).toArrayBuffer(),s=new Uint8Array(r);return new File([s],`${e}.jpeg`,{type:"image/jpeg"})}}const kg={quizService:new Yp,avatarService:new Ag},El=Nu(qd);El.use(Xf).provide("container",kg).provide("notificationProvider",Hd);El.mount("#app");export{lh as g};
