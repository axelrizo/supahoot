var Sl=Object.defineProperty;var xl=(e,t,n)=>t in e?Sl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var tr=(e,t,n)=>xl(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ks(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const re={},an=[],it=()=>{},Pl=()=>!1,Sr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),As=e=>e.startsWith("onUpdate:"),Pe=Object.assign,Rs=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Cl=Object.prototype.hasOwnProperty,Y=(e,t)=>Cl.call(e,t),B=Array.isArray,ln=e=>xr(e)==="[object Map]",To=e=>xr(e)==="[object Set]",H=e=>typeof e=="function",me=e=>typeof e=="string",kt=e=>typeof e=="symbol",de=e=>e!==null&&typeof e=="object",Oo=e=>(de(e)||H(e))&&H(e.then)&&H(e.catch),$o=Object.prototype.toString,xr=e=>$o.call(e),kl=e=>xr(e).slice(8,-1),Io=e=>xr(e)==="[object Object]",Ts=e=>me(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Tn=ks(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Pr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Al=/-(\w)/g,Ct=Pr(e=>e.replace(Al,(t,n)=>n?n.toUpperCase():"")),Rl=/\B([A-Z])/g,zt=Pr(e=>e.replace(Rl,"-$1").toLowerCase()),jo=Pr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ur=Pr(e=>e?`on${jo(e)}`:""),Pt=(e,t)=>!Object.is(e,t),ur=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Lo=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},rs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ii;const Cr=()=>ii||(ii=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Os(e){if(B(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=me(r)?Il(r):Os(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(me(e)||de(e))return e}const Tl=/;(?![^(]*\))/g,Ol=/:([^]+)/,$l=/\/\*[^]*?\*\//g;function Il(e){const t={};return e.replace($l,"").split(Tl).forEach(n=>{if(n){const r=n.split(Ol);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function hn(e){let t="";if(me(e))t=e;else if(B(e))for(let n=0;n<e.length;n++){const r=hn(e[n]);r&&(t+=r+" ")}else if(de(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const jl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ll=ks(jl);function Mo(e){return!!e||e===""}const Do=e=>!!(e&&e.__v_isRef===!0),pe=e=>me(e)?e:e==null?"":B(e)||de(e)&&(e.toString===$o||!H(e.toString))?Do(e)?pe(e.value):JSON.stringify(e,No,2):String(e),No=(e,t)=>Do(t)?No(e,t.value):ln(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Fr(r,i)+" =>"]=s,n),{})}:To(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Fr(n))}:kt(t)?Fr(t):de(t)&&!B(t)&&!Io(t)?String(t):t,Fr=(e,t="")=>{var n;return kt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ue;class Ml{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ue,!t&&Ue&&(this.index=(Ue.scopes||(Ue.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ue;try{return Ue=this,t()}finally{Ue=n}}}on(){Ue=this}off(){Ue=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Dl(){return Ue}let oe;const zr=new WeakSet;class Uo{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ue&&Ue.active&&Ue.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,zr.has(this)&&(zr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||zo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,oi(this),Bo(this);const t=oe,n=Qe;oe=this,Qe=!0;try{return this.fn()}finally{qo(this),oe=t,Qe=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)js(t);this.deps=this.depsTail=void 0,oi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?zr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ss(this)&&this.run()}get dirty(){return ss(this)}}let Fo=0,On,$n;function zo(e,t=!1){if(e.flags|=8,t){e.next=$n,$n=e;return}e.next=On,On=e}function $s(){Fo++}function Is(){if(--Fo>0)return;if($n){let t=$n;for($n=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;On;){let t=On;for(On=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Bo(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function qo(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),js(r),Nl(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function ss(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ho(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ho(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Bn))return;e.globalVersion=Bn;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!ss(e)){e.flags&=-3;return}const n=oe,r=Qe;oe=e,Qe=!0;try{Bo(e);const s=e.fn(e._value);(t.version===0||Pt(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{oe=n,Qe=r,qo(e),e.flags&=-3}}function js(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)js(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Nl(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Qe=!0;const Vo=[];function At(){Vo.push(Qe),Qe=!1}function Rt(){const e=Vo.pop();Qe=e===void 0?!0:e}function oi(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=oe;oe=void 0;try{t()}finally{oe=n}}}let Bn=0;class Ul{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ls{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!oe||!Qe||oe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==oe)n=this.activeLink=new Ul(oe,this),oe.deps?(n.prevDep=oe.depsTail,oe.depsTail.nextDep=n,oe.depsTail=n):oe.deps=oe.depsTail=n,Ko(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=oe.depsTail,n.nextDep=void 0,oe.depsTail.nextDep=n,oe.depsTail=n,oe.deps===n&&(oe.deps=r)}return n}trigger(t){this.version++,Bn++,this.notify(t)}notify(t){$s();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Is()}}}function Ko(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Ko(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const is=new WeakMap,Dt=Symbol(""),os=Symbol(""),qn=Symbol("");function Ee(e,t,n){if(Qe&&oe){let r=is.get(e);r||is.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new Ls),s.map=r,s.key=n),s.track()}}function ht(e,t,n,r,s,i){const o=is.get(e);if(!o){Bn++;return}const a=l=>{l&&l.trigger()};if($s(),t==="clear")o.forEach(a);else{const l=B(e),c=l&&Ts(n);if(l&&n==="length"){const u=Number(r);o.forEach((d,f)=>{(f==="length"||f===qn||!kt(f)&&f>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(qn)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Dt)),ln(e)&&a(o.get(os)));break;case"delete":l||(a(o.get(Dt)),ln(e)&&a(o.get(os)));break;case"set":ln(e)&&a(o.get(Dt));break}}Is()}function Wt(e){const t=J(e);return t===e?t:(Ee(t,"iterate",qn),Ve(e)?t:t.map(Se))}function kr(e){return Ee(e=J(e),"iterate",qn),e}const Fl={__proto__:null,[Symbol.iterator](){return Br(this,Symbol.iterator,Se)},concat(...e){return Wt(this).concat(...e.map(t=>B(t)?Wt(t):t))},entries(){return Br(this,"entries",e=>(e[1]=Se(e[1]),e))},every(e,t){return ct(this,"every",e,t,void 0,arguments)},filter(e,t){return ct(this,"filter",e,t,n=>n.map(Se),arguments)},find(e,t){return ct(this,"find",e,t,Se,arguments)},findIndex(e,t){return ct(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ct(this,"findLast",e,t,Se,arguments)},findLastIndex(e,t){return ct(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ct(this,"forEach",e,t,void 0,arguments)},includes(...e){return qr(this,"includes",e)},indexOf(...e){return qr(this,"indexOf",e)},join(e){return Wt(this).join(e)},lastIndexOf(...e){return qr(this,"lastIndexOf",e)},map(e,t){return ct(this,"map",e,t,void 0,arguments)},pop(){return En(this,"pop")},push(...e){return En(this,"push",e)},reduce(e,...t){return ai(this,"reduce",e,t)},reduceRight(e,...t){return ai(this,"reduceRight",e,t)},shift(){return En(this,"shift")},some(e,t){return ct(this,"some",e,t,void 0,arguments)},splice(...e){return En(this,"splice",e)},toReversed(){return Wt(this).toReversed()},toSorted(e){return Wt(this).toSorted(e)},toSpliced(...e){return Wt(this).toSpliced(...e)},unshift(...e){return En(this,"unshift",e)},values(){return Br(this,"values",Se)}};function Br(e,t,n){const r=kr(e),s=r[t]();return r!==e&&!Ve(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const zl=Array.prototype;function ct(e,t,n,r,s,i){const o=kr(e),a=o!==e&&!Ve(e),l=o[t];if(l!==zl[t]){const d=l.apply(e,i);return a?Se(d):d}let c=n;o!==e&&(a?c=function(d,f){return n.call(this,Se(d),f,e)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,e)}));const u=l.call(o,c,r);return a&&s?s(u):u}function ai(e,t,n,r){const s=kr(e);let i=n;return s!==e&&(Ve(e)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,e)}):i=function(o,a,l){return n.call(this,o,Se(a),l,e)}),s[t](i,...r)}function qr(e,t,n){const r=J(e);Ee(r,"iterate",qn);const s=r[t](...n);return(s===-1||s===!1)&&Ns(n[0])?(n[0]=J(n[0]),r[t](...n)):s}function En(e,t,n=[]){At(),$s();const r=J(e)[t].apply(e,n);return Is(),Rt(),r}const Bl=ks("__proto__,__v_isRef,__isVue"),Wo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(kt));function ql(e){kt(e)||(e=String(e));const t=J(this);return Ee(t,"has",e),t.hasOwnProperty(e)}class Qo{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Xl:Zo:i?Yo:Jo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=B(t);if(!s){let l;if(o&&(l=Fl[n]))return l;if(n==="hasOwnProperty")return ql}const a=Reflect.get(t,n,xe(t)?t:r);return(kt(n)?Wo.has(n):Bl(n))||(s||Ee(t,"get",n),i)?a:xe(a)?o&&Ts(n)?a:a.value:de(a)?s?ea(a):Ar(a):a}}class Go extends Qo{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._isShallow){const l=Nt(i);if(!Ve(r)&&!Nt(r)&&(i=J(i),r=J(r)),!B(t)&&xe(i)&&!xe(r))return l?!1:(i.value=r,!0)}const o=B(t)&&Ts(n)?Number(n)<t.length:Y(t,n),a=Reflect.set(t,n,r,xe(t)?t:s);return t===J(s)&&(o?Pt(r,i)&&ht(t,"set",n,r):ht(t,"add",n,r)),a}deleteProperty(t,n){const r=Y(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&ht(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!kt(n)||!Wo.has(n))&&Ee(t,"has",n),r}ownKeys(t){return Ee(t,"iterate",B(t)?"length":Dt),Reflect.ownKeys(t)}}class Hl extends Qo{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Vl=new Go,Kl=new Hl,Wl=new Go(!0);const as=e=>e,nr=e=>Reflect.getPrototypeOf(e);function Ql(e,t,n){return function(...r){const s=this.__v_raw,i=J(s),o=ln(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...r),u=n?as:t?ls:Se;return!t&&Ee(i,"iterate",l?os:Dt),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function rr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Gl(e,t){const n={get(s){const i=this.__v_raw,o=J(i),a=J(s);e||(Pt(s,a)&&Ee(o,"get",s),Ee(o,"get",a));const{has:l}=nr(o),c=t?as:e?ls:Se;if(l.call(o,s))return c(i.get(s));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!e&&Ee(J(s),"iterate",Dt),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=J(i),a=J(s);return e||(Pt(s,a)&&Ee(o,"has",s),Ee(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=J(a),c=t?as:e?ls:Se;return!e&&Ee(l,"iterate",Dt),a.forEach((u,d)=>s.call(i,c(u),c(d),o))}};return Pe(n,e?{add:rr("add"),set:rr("set"),delete:rr("delete"),clear:rr("clear")}:{add(s){!t&&!Ve(s)&&!Nt(s)&&(s=J(s));const i=J(this);return nr(i).has.call(i,s)||(i.add(s),ht(i,"add",s,s)),this},set(s,i){!t&&!Ve(i)&&!Nt(i)&&(i=J(i));const o=J(this),{has:a,get:l}=nr(o);let c=a.call(o,s);c||(s=J(s),c=a.call(o,s));const u=l.call(o,s);return o.set(s,i),c?Pt(i,u)&&ht(o,"set",s,i):ht(o,"add",s,i),this},delete(s){const i=J(this),{has:o,get:a}=nr(i);let l=o.call(i,s);l||(s=J(s),l=o.call(i,s)),a&&a.call(i,s);const c=i.delete(s);return l&&ht(i,"delete",s,void 0),c},clear(){const s=J(this),i=s.size!==0,o=s.clear();return i&&ht(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Ql(s,e,t)}),n}function Ms(e,t){const n=Gl(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Y(n,s)&&s in r?n:r,s,i)}const Jl={get:Ms(!1,!1)},Yl={get:Ms(!1,!0)},Zl={get:Ms(!0,!1)};const Jo=new WeakMap,Yo=new WeakMap,Zo=new WeakMap,Xl=new WeakMap;function ec(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tc(e){return e.__v_skip||!Object.isExtensible(e)?0:ec(kl(e))}function Ar(e){return Nt(e)?e:Ds(e,!1,Vl,Jl,Jo)}function Xo(e){return Ds(e,!1,Wl,Yl,Yo)}function ea(e){return Ds(e,!0,Kl,Zl,Zo)}function Ds(e,t,n,r,s){if(!de(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=tc(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function cn(e){return Nt(e)?cn(e.__v_raw):!!(e&&e.__v_isReactive)}function Nt(e){return!!(e&&e.__v_isReadonly)}function Ve(e){return!!(e&&e.__v_isShallow)}function Ns(e){return e?!!e.__v_raw:!1}function J(e){const t=e&&e.__v_raw;return t?J(t):e}function nc(e){return!Y(e,"__v_skip")&&Object.isExtensible(e)&&Lo(e,"__v_skip",!0),e}const Se=e=>de(e)?Ar(e):e,ls=e=>de(e)?ea(e):e;function xe(e){return e?e.__v_isRef===!0:!1}function fe(e){return ta(e,!1)}function rc(e){return ta(e,!0)}function ta(e,t){return xe(e)?e:new sc(e,t)}class sc{constructor(t,n){this.dep=new Ls,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:J(t),this._value=n?t:Se(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Ve(t)||Nt(t);t=r?t:J(t),Pt(t,n)&&(this._rawValue=t,this._value=r?t:Se(t),this.dep.trigger())}}function we(e){return xe(e)?e.value:e}const ic={get:(e,t,n)=>t==="__v_raw"?e:we(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return xe(s)&&!xe(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function na(e){return cn(e)?e:new Proxy(e,ic)}class oc{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ls(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Bn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&oe!==this)return zo(this,!0),!0}get value(){const t=this.dep.track();return Ho(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ac(e,t,n=!1){let r,s;return H(e)?r=e:(r=e.get,s=e.set),new oc(r,s,n)}const sr={},pr=new WeakMap;let It;function lc(e,t=!1,n=It){if(n){let r=pr.get(n);r||pr.set(n,r=[]),r.push(e)}}function cc(e,t,n=re){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,c=S=>s?S:Ve(S)||s===!1||s===0?pt(S,1):pt(S);let u,d,f,h,y=!1,_=!1;if(xe(e)?(d=()=>e.value,y=Ve(e)):cn(e)?(d=()=>c(e),y=!0):B(e)?(_=!0,y=e.some(S=>cn(S)||Ve(S)),d=()=>e.map(S=>{if(xe(S))return S.value;if(cn(S))return c(S);if(H(S))return l?l(S,2):S()})):H(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){At();try{f()}finally{Rt()}}const S=It;It=u;try{return l?l(e,3,[h]):e(h)}finally{It=S}}:d=it,t&&s){const S=d,j=s===!0?1/0:s;d=()=>pt(S(),j)}const v=Dl(),C=()=>{u.stop(),v&&v.active&&Rs(v.effects,u)};if(i&&t){const S=t;t=(...j)=>{S(...j),C()}}let k=_?new Array(e.length).fill(sr):sr;const P=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(t){const j=u.run();if(s||y||(_?j.some((q,F)=>Pt(q,k[F])):Pt(j,k))){f&&f();const q=It;It=u;try{const F=[j,k===sr?void 0:_&&k[0]===sr?[]:k,h];l?l(t,3,F):t(...F),k=j}finally{It=q}}}else u.run()};return a&&a(P),u=new Uo(d),u.scheduler=o?()=>o(P,!1):P,h=S=>lc(S,!1,u),f=u.onStop=()=>{const S=pr.get(u);if(S){if(l)l(S,4);else for(const j of S)j();pr.delete(u)}},t?r?P(!0):k=u.run():o?o(P.bind(null,!0),!0):u.run(),C.pause=u.pause.bind(u),C.resume=u.resume.bind(u),C.stop=C,C}function pt(e,t=1/0,n){if(t<=0||!de(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,xe(e))pt(e.value,t,n);else if(B(e))for(let r=0;r<e.length;r++)pt(e[r],t,n);else if(To(e)||ln(e))e.forEach(r=>{pt(r,t,n)});else if(Io(e)){for(const r in e)pt(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&pt(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Jn(e,t,n,r){try{return r?e(...r):e()}catch(s){Rr(s,t,n)}}function ot(e,t,n,r){if(H(e)){const s=Jn(e,t,n,r);return s&&Oo(s)&&s.catch(i=>{Rr(i,t,n)}),s}if(B(e)){const s=[];for(let i=0;i<e.length;i++)s.push(ot(e[i],t,n,r));return s}}function Rr(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||re;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}a=a.parent}if(i){At(),Jn(i,null,10,[e,l,c]),Rt();return}}uc(e,n,s,r,o)}function uc(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const ke=[];let nt=-1;const un=[];let bt=null,nn=0;const ra=Promise.resolve();let gr=null;function sa(e){const t=gr||ra;return e?t.then(this?e.bind(this):e):t}function dc(e){let t=nt+1,n=ke.length;for(;t<n;){const r=t+n>>>1,s=ke[r],i=Hn(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function Us(e){if(!(e.flags&1)){const t=Hn(e),n=ke[ke.length-1];!n||!(e.flags&2)&&t>=Hn(n)?ke.push(e):ke.splice(dc(t),0,e),e.flags|=1,ia()}}function ia(){gr||(gr=ra.then(aa))}function fc(e){B(e)?un.push(...e):bt&&e.id===-1?bt.splice(nn+1,0,e):e.flags&1||(un.push(e),e.flags|=1),ia()}function li(e,t,n=nt+1){for(;n<ke.length;n++){const r=ke[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;ke.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function oa(e){if(un.length){const t=[...new Set(un)].sort((n,r)=>Hn(n)-Hn(r));if(un.length=0,bt){bt.push(...t);return}for(bt=t,nn=0;nn<bt.length;nn++){const n=bt[nn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}bt=null,nn=0}}const Hn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function aa(e){try{for(nt=0;nt<ke.length;nt++){const t=ke[nt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Jn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;nt<ke.length;nt++){const t=ke[nt];t&&(t.flags&=-2)}nt=-1,ke.length=0,oa(),gr=null,(ke.length||un.length)&&aa()}}let He=null,la=null;function mr(e){const t=He;return He=e,la=e&&e.type.__scopeId||null,t}function ca(e,t=He,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&yi(-1);const i=mr(t);let o;try{o=e(...s)}finally{mr(i),r._d&&yi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function ua(e,t){if(He===null)return e;const n=jr(He),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,o,a,l=re]=t[s];i&&(H(i)&&(i={mounted:i,updated:i}),i.deep&&pt(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Tt(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(At(),ot(l,n,8,[e.el,a,e,t]),Rt())}}const hc=Symbol("_vte"),pc=e=>e.__isTeleport;function Fs(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Fs(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Be(e,t){return H(e)?Pe({name:e.name},t,{setup:e}):e}function da(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function yr(e,t,n,r,s=!1){if(B(e)){e.forEach((y,_)=>yr(y,t&&(B(t)?t[_]:t),n,r,s));return}if(In(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&yr(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?jr(r.component):r.el,o=s?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===re?a.refs={}:a.refs,d=a.setupState,f=J(d),h=d===re?()=>!1:y=>Y(f,y);if(c!=null&&c!==l&&(me(c)?(u[c]=null,h(c)&&(d[c]=null)):xe(c)&&(c.value=null)),H(l))Jn(l,a,12,[o,u]);else{const y=me(l),_=xe(l);if(y||_){const v=()=>{if(e.f){const C=y?h(l)?d[l]:u[l]:l.value;s?B(C)&&Rs(C,i):B(C)?C.includes(i)||C.push(i):y?(u[l]=[i],h(l)&&(d[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else y?(u[l]=o,h(l)&&(d[l]=o)):_&&(l.value=o,e.k&&(u[e.k]=o))};o?(v.id=-1,De(v,n)):v()}}}Cr().requestIdleCallback;Cr().cancelIdleCallback;const In=e=>!!e.type.__asyncLoader,fa=e=>e.type.__isKeepAlive;function gc(e,t){ha(e,"a",t)}function mc(e,t){ha(e,"da",t)}function ha(e,t,n=Re){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Tr(t,r,n),n){let s=n.parent;for(;s&&s.parent;)fa(s.parent.vnode)&&yc(r,t,n,s),s=s.parent}}function yc(e,t,n,r){const s=Tr(t,e,r,!0);pa(()=>{Rs(r[t],s)},n)}function Tr(e,t,n=Re,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{At();const a=Yn(n),l=ot(t,n,e,o);return a(),Rt(),l});return r?s.unshift(i):s.push(i),i}}const gt=e=>(t,n=Re)=>{(!Kn||e==="sp")&&Tr(e,(...r)=>t(...r),n)},_c=gt("bm"),Bt=gt("m"),vc=gt("bu"),zs=gt("u"),bc=gt("bum"),pa=gt("um"),wc=gt("sp"),Ec=gt("rtg"),Sc=gt("rtc");function xc(e,t=Re){Tr("ec",e,t)}const Pc=Symbol.for("v-ndc");function jn(e,t,n,r){let s;const i=n,o=B(e);if(o||me(e)){const a=o&&cn(e);let l=!1;a&&(l=!Ve(e),e=kr(e)),s=new Array(e.length);for(let c=0,u=e.length;c<u;c++)s[c]=t(l?Se(e[c]):e[c],c,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,i)}else if(de(e))if(e[Symbol.iterator])s=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=t(e[u],u,l,i)}}else s=[];return s}const cs=e=>e?La(e)?jr(e):cs(e.parent):null,Ln=Pe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>cs(e.parent),$root:e=>cs(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ma(e),$forceUpdate:e=>e.f||(e.f=()=>{Us(e.update)}),$nextTick:e=>e.n||(e.n=sa.bind(e.proxy)),$watch:e=>Kc.bind(e)}),Hr=(e,t)=>e!==re&&!e.__isScriptSetup&&Y(e,t),Cc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(Hr(r,t))return o[t]=1,r[t];if(s!==re&&Y(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&Y(c,t))return o[t]=3,i[t];if(n!==re&&Y(n,t))return o[t]=4,n[t];us&&(o[t]=0)}}const u=Ln[t];let d,f;if(u)return t==="$attrs"&&Ee(e.attrs,"get",""),u(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==re&&Y(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,Y(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return Hr(s,t)?(s[t]=n,!0):r!==re&&Y(r,t)?(r[t]=n,!0):Y(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==re&&Y(e,o)||Hr(t,o)||(a=i[0])&&Y(a,o)||Y(r,o)||Y(Ln,o)||Y(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Y(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ci(e){return B(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let us=!0;function kc(e){const t=ma(e),n=e.proxy,r=e.ctx;us=!1,t.beforeCreate&&ui(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:y,activated:_,deactivated:v,beforeDestroy:C,beforeUnmount:k,destroyed:P,unmounted:S,render:j,renderTracked:q,renderTriggered:F,errorCaptured:ae,serverPrefetch:le,expose:ye,inheritAttrs:_e,components:Z,directives:he,filters:at}=t;if(c&&Ac(c,r,null),o)for(const te in o){const Q=o[te];H(Q)&&(r[te]=Q.bind(n))}if(s){const te=s.call(n,n);de(te)&&(e.data=Ar(te))}if(us=!0,i)for(const te in i){const Q=i[te],lt=H(Q)?Q.bind(n,n):H(Q.get)?Q.get.bind(n,n):it,mt=!H(Q)&&H(Q.set)?Q.set.bind(n):it,Je=Fe({get:lt,set:mt});Object.defineProperty(r,te,{enumerable:!0,configurable:!0,get:()=>Je.value,set:Te=>Je.value=Te})}if(a)for(const te in a)ga(a[te],r,n,te);if(l){const te=H(l)?l.call(n):l;Reflect.ownKeys(te).forEach(Q=>{Mn(Q,te[Q])})}u&&ui(u,e,"c");function ge(te,Q){B(Q)?Q.forEach(lt=>te(lt.bind(n))):Q&&te(Q.bind(n))}if(ge(_c,d),ge(Bt,f),ge(vc,h),ge(zs,y),ge(gc,_),ge(mc,v),ge(xc,ae),ge(Sc,q),ge(Ec,F),ge(bc,k),ge(pa,S),ge(wc,le),B(ye))if(ye.length){const te=e.exposed||(e.exposed={});ye.forEach(Q=>{Object.defineProperty(te,Q,{get:()=>n[Q],set:lt=>n[Q]=lt})})}else e.exposed||(e.exposed={});j&&e.render===it&&(e.render=j),_e!=null&&(e.inheritAttrs=_e),Z&&(e.components=Z),he&&(e.directives=he),le&&da(e)}function Ac(e,t,n=it){B(e)&&(e=ds(e));for(const r in e){const s=e[r];let i;de(s)?"default"in s?i=ue(s.from||r,s.default,!0):i=ue(s.from||r):i=ue(s),xe(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function ui(e,t,n){ot(B(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function ga(e,t,n,r){let s=r.includes(".")?Ta(n,r):()=>n[r];if(me(e)){const i=t[e];H(i)&&dr(s,i)}else if(H(e))dr(s,e.bind(n));else if(de(e))if(B(e))e.forEach(i=>ga(i,t,n,r));else{const i=H(e.handler)?e.handler.bind(n):t[e.handler];H(i)&&dr(s,i,e)}}function ma(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(c=>_r(l,c,o,!0)),_r(l,t,o)),de(t)&&i.set(t,l),l}function _r(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&_r(e,i,n,!0),s&&s.forEach(o=>_r(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=Rc[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Rc={data:di,props:fi,emits:fi,methods:An,computed:An,beforeCreate:Ce,created:Ce,beforeMount:Ce,mounted:Ce,beforeUpdate:Ce,updated:Ce,beforeDestroy:Ce,beforeUnmount:Ce,destroyed:Ce,unmounted:Ce,activated:Ce,deactivated:Ce,errorCaptured:Ce,serverPrefetch:Ce,components:An,directives:An,watch:Oc,provide:di,inject:Tc};function di(e,t){return t?e?function(){return Pe(H(e)?e.call(this,this):e,H(t)?t.call(this,this):t)}:t:e}function Tc(e,t){return An(ds(e),ds(t))}function ds(e){if(B(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ce(e,t){return e?[...new Set([].concat(e,t))]:t}function An(e,t){return e?Pe(Object.create(null),e,t):t}function fi(e,t){return e?B(e)&&B(t)?[...new Set([...e,...t])]:Pe(Object.create(null),ci(e),ci(t??{})):t}function Oc(e,t){if(!e)return t;if(!t)return e;const n=Pe(Object.create(null),e);for(const r in t)n[r]=Ce(e[r],t[r]);return n}function ya(){return{app:null,config:{isNativeTag:Pl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $c=0;function Ic(e,t){return function(r,s=null){H(r)||(r=Pe({},r)),s!=null&&!de(s)&&(s=null);const i=ya(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:$c++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:fu,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&H(u.install)?(o.add(u),u.install(c,...d)):H(u)&&(o.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||je(r,s);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),e(h,u,f),l=!0,c._container=u,u.__vue_app__=c,jr(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(ot(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=dn;dn=c;try{return u()}finally{dn=d}}};return c}}let dn=null;function Mn(e,t){if(Re){let n=Re.provides;const r=Re.parent&&Re.parent.provides;r===n&&(n=Re.provides=Object.create(r)),n[e]=t}}function ue(e,t,n=!1){const r=Re||He;if(r||dn){const s=dn?dn._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&H(t)?t.call(r&&r.proxy):t}}const _a={},va=()=>Object.create(_a),ba=e=>Object.getPrototypeOf(e)===_a;function jc(e,t,n,r=!1){const s={},i=va();e.propsDefaults=Object.create(null),wa(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:Xo(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Lc(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=J(s),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Or(e.emitsOptions,f))continue;const h=t[f];if(l)if(Y(i,f))h!==i[f]&&(i[f]=h,c=!0);else{const y=Ct(f);s[y]=fs(l,a,y,h,e,!1)}else h!==i[f]&&(i[f]=h,c=!0)}}}else{wa(e,t,s,i)&&(c=!0);let u;for(const d in a)(!t||!Y(t,d)&&((u=zt(d))===d||!Y(t,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=fs(l,a,d,void 0,e,!0)):delete s[d]);if(i!==a)for(const d in i)(!t||!Y(t,d))&&(delete i[d],c=!0)}c&&ht(e.attrs,"set","")}function wa(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Tn(l))continue;const c=t[l];let u;s&&Y(s,u=Ct(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Or(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=J(n),c=a||re;for(let u=0;u<i.length;u++){const d=i[u];n[d]=fs(s,l,d,c[d],e,!Y(c,d))}}return o}function fs(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=Y(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&H(l)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const u=Yn(s);r=c[n]=l.call(null,t),u()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===zt(n))&&(r=!0))}return r}const Mc=new WeakMap;function Ea(e,t,n=!1){const r=n?Mc:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!H(e)){const u=d=>{l=!0;const[f,h]=Ea(d,t,!0);Pe(o,f),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return de(e)&&r.set(e,an),an;if(B(i))for(let u=0;u<i.length;u++){const d=Ct(i[u]);hi(d)&&(o[d]=re)}else if(i)for(const u in i){const d=Ct(u);if(hi(d)){const f=i[u],h=o[d]=B(f)||H(f)?{type:f}:Pe({},f),y=h.type;let _=!1,v=!0;if(B(y))for(let C=0;C<y.length;++C){const k=y[C],P=H(k)&&k.name;if(P==="Boolean"){_=!0;break}else P==="String"&&(v=!1)}else _=H(y)&&y.name==="Boolean";h[0]=_,h[1]=v,(_||Y(h,"default"))&&a.push(d)}}const c=[o,a];return de(e)&&r.set(e,c),c}function hi(e){return e[0]!=="$"&&!Tn(e)}const Sa=e=>e[0]==="_"||e==="$stable",Bs=e=>B(e)?e.map(rt):[rt(e)],Dc=(e,t,n)=>{if(t._n)return t;const r=ca((...s)=>Bs(t(...s)),n);return r._c=!1,r},xa=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Sa(s))continue;const i=e[s];if(H(i))t[s]=Dc(s,i,r);else if(i!=null){const o=Bs(i);t[s]=()=>o}}},Pa=(e,t)=>{const n=Bs(t);e.slots.default=()=>n},Ca=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},Nc=(e,t,n)=>{const r=e.slots=va();if(e.vnode.shapeFlag&32){const s=t._;s?(Ca(r,t,n),n&&Lo(r,"_",s,!0)):xa(t,r)}else t&&Pa(e,t)},Uc=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=re;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:Ca(s,t,n):(i=!t.$stable,xa(t,s)),o=t}else t&&(Pa(e,t),o={default:1});if(i)for(const a in s)!Sa(a)&&o[a]==null&&delete s[a]},De=Xc;function Fc(e){return zc(e)}function zc(e,t){const n=Cr();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=it,insertStaticContent:y}=e,_=(p,g,m,b=null,x=null,E=null,O=void 0,T=null,R=!!g.dynamicChildren)=>{if(p===g)return;p&&!Sn(p,g)&&(b=w(p),Te(p,x,E,!0),p=null),g.patchFlag===-2&&(R=!1,g.dynamicChildren=null);const{type:A,ref:N,shapeFlag:I}=g;switch(A){case $r:v(p,g,m,b);break;case Ut:C(p,g,m,b);break;case Kr:p==null&&k(g,m,b,O);break;case Ae:Z(p,g,m,b,x,E,O,T,R);break;default:I&1?j(p,g,m,b,x,E,O,T,R):I&6?he(p,g,m,b,x,E,O,T,R):(I&64||I&128)&&A.process(p,g,m,b,x,E,O,T,R,M)}N!=null&&x&&yr(N,p&&p.ref,E,g||p,!g)},v=(p,g,m,b)=>{if(p==null)r(g.el=a(g.children),m,b);else{const x=g.el=p.el;g.children!==p.children&&c(x,g.children)}},C=(p,g,m,b)=>{p==null?r(g.el=l(g.children||""),m,b):g.el=p.el},k=(p,g,m,b)=>{[p.el,p.anchor]=y(p.children,g,m,b,p.el,p.anchor)},P=({el:p,anchor:g},m,b)=>{let x;for(;p&&p!==g;)x=f(p),r(p,m,b),p=x;r(g,m,b)},S=({el:p,anchor:g})=>{let m;for(;p&&p!==g;)m=f(p),s(p),p=m;s(g)},j=(p,g,m,b,x,E,O,T,R)=>{g.type==="svg"?O="svg":g.type==="math"&&(O="mathml"),p==null?q(g,m,b,x,E,O,T,R):le(p,g,x,E,O,T,R)},q=(p,g,m,b,x,E,O,T)=>{let R,A;const{props:N,shapeFlag:I,transition:D,dirs:z}=p;if(R=p.el=o(p.type,E,N&&N.is,N),I&8?u(R,p.children):I&16&&ae(p.children,R,null,b,x,Vr(p,E),O,T),z&&Tt(p,null,b,"created"),F(R,p,p.scopeId,O,b),N){for(const se in N)se!=="value"&&!Tn(se)&&i(R,se,null,N[se],E,b);"value"in N&&i(R,"value",null,N.value,E),(A=N.onVnodeBeforeMount)&&et(A,b,p)}z&&Tt(p,null,b,"beforeMount");const W=Bc(x,D);W&&D.beforeEnter(R),r(R,g,m),((A=N&&N.onVnodeMounted)||W||z)&&De(()=>{A&&et(A,b,p),W&&D.enter(R),z&&Tt(p,null,b,"mounted")},x)},F=(p,g,m,b,x)=>{if(m&&h(p,m),b)for(let E=0;E<b.length;E++)h(p,b[E]);if(x){let E=x.subTree;if(g===E||$a(E.type)&&(E.ssContent===g||E.ssFallback===g)){const O=x.vnode;F(p,O,O.scopeId,O.slotScopeIds,x.parent)}}},ae=(p,g,m,b,x,E,O,T,R=0)=>{for(let A=R;A<p.length;A++){const N=p[A]=T?wt(p[A]):rt(p[A]);_(null,N,g,m,b,x,E,O,T)}},le=(p,g,m,b,x,E,O)=>{const T=g.el=p.el;let{patchFlag:R,dynamicChildren:A,dirs:N}=g;R|=p.patchFlag&16;const I=p.props||re,D=g.props||re;let z;if(m&&Ot(m,!1),(z=D.onVnodeBeforeUpdate)&&et(z,m,g,p),N&&Tt(g,p,m,"beforeUpdate"),m&&Ot(m,!0),(I.innerHTML&&D.innerHTML==null||I.textContent&&D.textContent==null)&&u(T,""),A?ye(p.dynamicChildren,A,T,m,b,Vr(g,x),E):O||Q(p,g,T,null,m,b,Vr(g,x),E,!1),R>0){if(R&16)_e(T,I,D,m,x);else if(R&2&&I.class!==D.class&&i(T,"class",null,D.class,x),R&4&&i(T,"style",I.style,D.style,x),R&8){const W=g.dynamicProps;for(let se=0;se<W.length;se++){const X=W[se],Le=I[X],Oe=D[X];(Oe!==Le||X==="value")&&i(T,X,Le,Oe,x,m)}}R&1&&p.children!==g.children&&u(T,g.children)}else!O&&A==null&&_e(T,I,D,m,x);((z=D.onVnodeUpdated)||N)&&De(()=>{z&&et(z,m,g,p),N&&Tt(g,p,m,"updated")},b)},ye=(p,g,m,b,x,E,O)=>{for(let T=0;T<g.length;T++){const R=p[T],A=g[T],N=R.el&&(R.type===Ae||!Sn(R,A)||R.shapeFlag&70)?d(R.el):m;_(R,A,N,null,b,x,E,O,!0)}},_e=(p,g,m,b,x)=>{if(g!==m){if(g!==re)for(const E in g)!Tn(E)&&!(E in m)&&i(p,E,g[E],null,x,b);for(const E in m){if(Tn(E))continue;const O=m[E],T=g[E];O!==T&&E!=="value"&&i(p,E,T,O,x,b)}"value"in m&&i(p,"value",g.value,m.value,x)}},Z=(p,g,m,b,x,E,O,T,R)=>{const A=g.el=p?p.el:a(""),N=g.anchor=p?p.anchor:a("");let{patchFlag:I,dynamicChildren:D,slotScopeIds:z}=g;z&&(T=T?T.concat(z):z),p==null?(r(A,m,b),r(N,m,b),ae(g.children||[],m,N,x,E,O,T,R)):I>0&&I&64&&D&&p.dynamicChildren?(ye(p.dynamicChildren,D,m,x,E,O,T),(g.key!=null||x&&g===x.subTree)&&ka(p,g,!0)):Q(p,g,m,N,x,E,O,T,R)},he=(p,g,m,b,x,E,O,T,R)=>{g.slotScopeIds=T,p==null?g.shapeFlag&512?x.ctx.activate(g,m,b,O,R):at(g,m,b,x,E,O,R):Ke(p,g,R)},at=(p,g,m,b,x,E,O)=>{const T=p.component=ou(p,b,x);if(fa(p)&&(T.ctx.renderer=M),au(T,!1,O),T.asyncDep){if(x&&x.registerDep(T,ge,O),!p.el){const R=T.subTree=je(Ut);C(null,R,g,m)}}else ge(T,p,g,m,x,E,O)},Ke=(p,g,m)=>{const b=g.component=p.component;if(Yc(p,g,m))if(b.asyncDep&&!b.asyncResolved){te(b,g,m);return}else b.next=g,b.update();else g.el=p.el,b.vnode=g},ge=(p,g,m,b,x,E,O)=>{const T=()=>{if(p.isMounted){let{next:I,bu:D,u:z,parent:W,vnode:se}=p;{const Ze=Aa(p);if(Ze){I&&(I.el=se.el,te(p,I,O)),Ze.asyncDep.then(()=>{p.isUnmounted||T()});return}}let X=I,Le;Ot(p,!1),I?(I.el=se.el,te(p,I,O)):I=se,D&&ur(D),(Le=I.props&&I.props.onVnodeBeforeUpdate)&&et(Le,W,I,se),Ot(p,!0);const Oe=gi(p),Ye=p.subTree;p.subTree=Oe,_(Ye,Oe,d(Ye.el),w(Ye),p,x,E),I.el=Oe.el,X===null&&Zc(p,Oe.el),z&&De(z,x),(Le=I.props&&I.props.onVnodeUpdated)&&De(()=>et(Le,W,I,se),x)}else{let I;const{el:D,props:z}=g,{bm:W,m:se,parent:X,root:Le,type:Oe}=p,Ye=In(g);Ot(p,!1),W&&ur(W),!Ye&&(I=z&&z.onVnodeBeforeMount)&&et(I,X,g),Ot(p,!0);{Le.ce&&Le.ce._injectChildStyle(Oe);const Ze=p.subTree=gi(p);_(null,Ze,m,b,p,x,E),g.el=Ze.el}if(se&&De(se,x),!Ye&&(I=z&&z.onVnodeMounted)){const Ze=g;De(()=>et(I,X,Ze),x)}(g.shapeFlag&256||X&&In(X.vnode)&&X.vnode.shapeFlag&256)&&p.a&&De(p.a,x),p.isMounted=!0,g=m=b=null}};p.scope.on();const R=p.effect=new Uo(T);p.scope.off();const A=p.update=R.run.bind(R),N=p.job=R.runIfDirty.bind(R);N.i=p,N.id=p.uid,R.scheduler=()=>Us(N),Ot(p,!0),A()},te=(p,g,m)=>{g.component=p;const b=p.vnode.props;p.vnode=g,p.next=null,Lc(p,g.props,b,m),Uc(p,g.children,m),At(),li(p),Rt()},Q=(p,g,m,b,x,E,O,T,R=!1)=>{const A=p&&p.children,N=p?p.shapeFlag:0,I=g.children,{patchFlag:D,shapeFlag:z}=g;if(D>0){if(D&128){mt(A,I,m,b,x,E,O,T,R);return}else if(D&256){lt(A,I,m,b,x,E,O,T,R);return}}z&8?(N&16&&qe(A,x,E),I!==A&&u(m,I)):N&16?z&16?mt(A,I,m,b,x,E,O,T,R):qe(A,x,E,!0):(N&8&&u(m,""),z&16&&ae(I,m,b,x,E,O,T,R))},lt=(p,g,m,b,x,E,O,T,R)=>{p=p||an,g=g||an;const A=p.length,N=g.length,I=Math.min(A,N);let D;for(D=0;D<I;D++){const z=g[D]=R?wt(g[D]):rt(g[D]);_(p[D],z,m,null,x,E,O,T,R)}A>N?qe(p,x,E,!0,!1,I):ae(g,m,b,x,E,O,T,R,I)},mt=(p,g,m,b,x,E,O,T,R)=>{let A=0;const N=g.length;let I=p.length-1,D=N-1;for(;A<=I&&A<=D;){const z=p[A],W=g[A]=R?wt(g[A]):rt(g[A]);if(Sn(z,W))_(z,W,m,null,x,E,O,T,R);else break;A++}for(;A<=I&&A<=D;){const z=p[I],W=g[D]=R?wt(g[D]):rt(g[D]);if(Sn(z,W))_(z,W,m,null,x,E,O,T,R);else break;I--,D--}if(A>I){if(A<=D){const z=D+1,W=z<N?g[z].el:b;for(;A<=D;)_(null,g[A]=R?wt(g[A]):rt(g[A]),m,W,x,E,O,T,R),A++}}else if(A>D)for(;A<=I;)Te(p[A],x,E,!0),A++;else{const z=A,W=A,se=new Map;for(A=W;A<=D;A++){const Me=g[A]=R?wt(g[A]):rt(g[A]);Me.key!=null&&se.set(Me.key,A)}let X,Le=0;const Oe=D-W+1;let Ye=!1,Ze=0;const wn=new Array(Oe);for(A=0;A<Oe;A++)wn[A]=0;for(A=z;A<=I;A++){const Me=p[A];if(Le>=Oe){Te(Me,x,E,!0);continue}let Xe;if(Me.key!=null)Xe=se.get(Me.key);else for(X=W;X<=D;X++)if(wn[X-W]===0&&Sn(Me,g[X])){Xe=X;break}Xe===void 0?Te(Me,x,E,!0):(wn[Xe-W]=A+1,Xe>=Ze?Ze=Xe:Ye=!0,_(Me,g[Xe],m,null,x,E,O,T,R),Le++)}const ri=Ye?qc(wn):an;for(X=ri.length-1,A=Oe-1;A>=0;A--){const Me=W+A,Xe=g[Me],si=Me+1<N?g[Me+1].el:b;wn[A]===0?_(null,Xe,m,si,x,E,O,T,R):Ye&&(X<0||A!==ri[X]?Je(Xe,m,si,2):X--)}}},Je=(p,g,m,b,x=null)=>{const{el:E,type:O,transition:T,children:R,shapeFlag:A}=p;if(A&6){Je(p.component.subTree,g,m,b);return}if(A&128){p.suspense.move(g,m,b);return}if(A&64){O.move(p,g,m,M);return}if(O===Ae){r(E,g,m);for(let I=0;I<R.length;I++)Je(R[I],g,m,b);r(p.anchor,g,m);return}if(O===Kr){P(p,g,m);return}if(b!==2&&A&1&&T)if(b===0)T.beforeEnter(E),r(E,g,m),De(()=>T.enter(E),x);else{const{leave:I,delayLeave:D,afterLeave:z}=T,W=()=>r(E,g,m),se=()=>{I(E,()=>{W(),z&&z()})};D?D(E,W,se):se()}else r(E,g,m)},Te=(p,g,m,b=!1,x=!1)=>{const{type:E,props:O,ref:T,children:R,dynamicChildren:A,shapeFlag:N,patchFlag:I,dirs:D,cacheIndex:z}=p;if(I===-2&&(x=!1),T!=null&&yr(T,null,m,p,!0),z!=null&&(g.renderCache[z]=void 0),N&256){g.ctx.deactivate(p);return}const W=N&1&&D,se=!In(p);let X;if(se&&(X=O&&O.onVnodeBeforeUnmount)&&et(X,g,p),N&6)er(p.component,m,b);else{if(N&128){p.suspense.unmount(m,b);return}W&&Tt(p,null,g,"beforeUnmount"),N&64?p.type.remove(p,g,m,M,b):A&&!A.hasOnce&&(E!==Ae||I>0&&I&64)?qe(A,g,m,!1,!0):(E===Ae&&I&384||!x&&N&16)&&qe(R,g,m),b&&Vt(p)}(se&&(X=O&&O.onVnodeUnmounted)||W)&&De(()=>{X&&et(X,g,p),W&&Tt(p,null,g,"unmounted")},m)},Vt=p=>{const{type:g,el:m,anchor:b,transition:x}=p;if(g===Ae){Kt(m,b);return}if(g===Kr){S(p);return}const E=()=>{s(m),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(p.shapeFlag&1&&x&&!x.persisted){const{leave:O,delayLeave:T}=x,R=()=>O(m,E);T?T(p.el,E,R):R()}else E()},Kt=(p,g)=>{let m;for(;p!==g;)m=f(p),s(p),p=m;s(g)},er=(p,g,m)=>{const{bum:b,scope:x,job:E,subTree:O,um:T,m:R,a:A}=p;pi(R),pi(A),b&&ur(b),x.stop(),E&&(E.flags|=8,Te(O,p,g,m)),T&&De(T,g),De(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},qe=(p,g,m,b=!1,x=!1,E=0)=>{for(let O=E;O<p.length;O++)Te(p[O],g,m,b,x)},w=p=>{if(p.shapeFlag&6)return w(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=f(p.anchor||p.el),m=g&&g[hc];return m?f(m):g};let L=!1;const $=(p,g,m)=>{p==null?g._vnode&&Te(g._vnode,null,null,!0):_(g._vnode||null,p,g,null,null,null,m),g._vnode=p,L||(L=!0,li(),oa(),L=!1)},M={p:_,um:Te,m:Je,r:Vt,mt:at,mc:ae,pc:Q,pbc:ye,n:w,o:e};return{render:$,hydrate:void 0,createApp:Ic($)}}function Vr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ot({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Bc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ka(e,t,n=!1){const r=e.children,s=t.children;if(B(r)&&B(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=wt(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&ka(o,a)),a.type===$r&&(a.el=o.el)}}function qc(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=n[n.length-1],e[s]<c){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function Aa(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Aa(t)}function pi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Hc=Symbol.for("v-scx"),Vc=()=>ue(Hc);function dr(e,t,n){return Ra(e,t,n)}function Ra(e,t,n=re){const{immediate:r,deep:s,flush:i,once:o}=n,a=Pe({},n),l=t&&r||!t&&i!=="post";let c;if(Kn){if(i==="sync"){const h=Vc();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=it,h.resume=it,h.pause=it,h}}const u=Re;a.call=(h,y,_)=>ot(h,u,y,_);let d=!1;i==="post"?a.scheduler=h=>{De(h,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(h,y)=>{y?h():Us(h)}),a.augmentJob=h=>{t&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=cc(e,t,a);return Kn&&(c?c.push(f):l&&f()),f}function Kc(e,t,n){const r=this.proxy,s=me(e)?e.includes(".")?Ta(r,e):()=>r[e]:e.bind(r,r);let i;H(t)?i=t:(i=t.handler,n=t);const o=Yn(this),a=Ra(s,i.bind(r),n);return o(),a}function Ta(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Wc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ct(t)}Modifiers`]||e[`${zt(t)}Modifiers`];function Qc(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||re;let s=n;const i=t.startsWith("update:"),o=i&&Wc(r,t.slice(7));o&&(o.trim&&(s=n.map(u=>me(u)?u.trim():u)),o.number&&(s=n.map(rs)));let a,l=r[a=Ur(t)]||r[a=Ur(Ct(t))];!l&&i&&(l=r[a=Ur(zt(t))]),l&&ot(l,e,6,s);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ot(c,e,6,s)}}function Oa(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!H(e)){const l=c=>{const u=Oa(c,t,!0);u&&(a=!0,Pe(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(de(e)&&r.set(e,null),null):(B(i)?i.forEach(l=>o[l]=null):Pe(o,i),de(e)&&r.set(e,o),o)}function Or(e,t){return!e||!Sr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Y(e,t[0].toLowerCase()+t.slice(1))||Y(e,zt(t))||Y(e,t))}function gi(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:y,inheritAttrs:_}=e,v=mr(e);let C,k;try{if(n.shapeFlag&4){const S=s||r,j=S;C=rt(c.call(j,S,u,d,h,f,y)),k=a}else{const S=t;C=rt(S.length>1?S(d,{attrs:a,slots:o,emit:l}):S(d,null)),k=t.props?a:Gc(a)}}catch(S){Dn.length=0,Rr(S,e,1),C=je(Ut)}let P=C;if(k&&_!==!1){const S=Object.keys(k),{shapeFlag:j}=P;S.length&&j&7&&(i&&S.some(As)&&(k=Jc(k,i)),P=pn(P,k,!1,!0))}return n.dirs&&(P=pn(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&Fs(P,n.transition),C=P,mr(v),C}const Gc=e=>{let t;for(const n in e)(n==="class"||n==="style"||Sr(n))&&((t||(t={}))[n]=e[n]);return t},Jc=(e,t)=>{const n={};for(const r in e)(!As(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Yc(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?mi(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==r[f]&&!Or(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?mi(r,o,c):!0:!!o;return!1}function mi(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Or(n,i))return!0}return!1}function Zc({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const $a=e=>e.__isSuspense;function Xc(e,t){t&&t.pendingBranch?B(e)?t.effects.push(...e):t.effects.push(e):fc(e)}const Ae=Symbol.for("v-fgt"),$r=Symbol.for("v-txt"),Ut=Symbol.for("v-cmt"),Kr=Symbol.for("v-stc"),Dn=[];let ze=null;function ee(e=!1){Dn.push(ze=e?null:[])}function eu(){Dn.pop(),ze=Dn[Dn.length-1]||null}let Vn=1;function yi(e,t=!1){Vn+=e,e<0&&ze&&t&&(ze.hasOnce=!0)}function Ia(e){return e.dynamicChildren=Vn>0?ze||an:null,eu(),Vn>0&&ze&&ze.push(e),e}function ce(e,t,n,r,s,i){return Ia(U(e,t,n,r,s,i,!0))}function Ir(e,t,n,r,s){return Ia(je(e,t,n,r,s,!0))}function vr(e){return e?e.__v_isVNode===!0:!1}function Sn(e,t){return e.type===t.type&&e.key===t.key}const ja=({key:e})=>e??null,fr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?me(e)||xe(e)||H(e)?{i:He,r:e,k:t,f:!!n}:e:null);function U(e,t=null,n=null,r=0,s=null,i=e===Ae?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ja(t),ref:t&&fr(t),scopeId:la,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:He};return a?(Hs(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=me(n)?8:16),Vn>0&&!o&&ze&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ze.push(l),l}const je=tu;function tu(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Pc)&&(e=Ut),vr(e)){const a=pn(e,t,!0);return n&&Hs(a,n),Vn>0&&!i&&ze&&(a.shapeFlag&6?ze[ze.indexOf(e)]=a:ze.push(a)),a.patchFlag=-2,a}if(du(e)&&(e=e.__vccOpts),t){t=nu(t);let{class:a,style:l}=t;a&&!me(a)&&(t.class=hn(a)),de(l)&&(Ns(l)&&!B(l)&&(l=Pe({},l)),t.style=Os(l))}const o=me(e)?1:$a(e)?128:pc(e)?64:de(e)?4:H(e)?2:0;return U(e,t,n,r,s,o,i,!0)}function nu(e){return e?Ns(e)||ba(e)?Pe({},e):e:null}function pn(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=e,c=t?ru(s||{},t):s,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&ja(c),ref:t&&t.ref?n&&i?B(i)?i.concat(fr(t)):[i,fr(t)]:fr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ae?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&pn(e.ssContent),ssFallback:e.ssFallback&&pn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Fs(u,l.clone(u)),u}function hs(e=" ",t=0){return je($r,null,e,t)}function qs(e="",t=!1){return t?(ee(),Ir(Ut,null,e)):je(Ut,null,e)}function rt(e){return e==null||typeof e=="boolean"?je(Ut):B(e)?je(Ae,null,e.slice()):vr(e)?wt(e):je($r,null,String(e))}function wt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:pn(e)}function Hs(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(B(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Hs(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!ba(t)?t._ctx=He:s===3&&He&&(He.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else H(t)?(t={default:t,_ctx:He},n=32):(t=String(t),r&64?(n=16,t=[hs(t)]):n=8);e.children=t,e.shapeFlag|=n}function ru(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=hn([t.class,r.class]));else if(s==="style")t.style=Os([t.style,r.style]);else if(Sr(s)){const i=t[s],o=r[s];o&&i!==o&&!(B(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function et(e,t,n,r=null){ot(e,t,7,[n,r])}const su=ya();let iu=0;function ou(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||su,i={uid:iu++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ml(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ea(r,s),emitsOptions:Oa(r,s),emit:null,emitted:null,propsDefaults:re,inheritAttrs:r.inheritAttrs,ctx:re,data:re,props:re,attrs:re,slots:re,refs:re,setupState:re,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Qc.bind(null,i),e.ce&&e.ce(i),i}let Re=null,br,ps;{const e=Cr(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};br=t("__VUE_INSTANCE_SETTERS__",n=>Re=n),ps=t("__VUE_SSR_SETTERS__",n=>Kn=n)}const Yn=e=>{const t=Re;return br(e),e.scope.on(),()=>{e.scope.off(),br(t)}},_i=()=>{Re&&Re.scope.off(),br(null)};function La(e){return e.vnode.shapeFlag&4}let Kn=!1;function au(e,t=!1,n=!1){t&&ps(t);const{props:r,children:s}=e.vnode,i=La(e);jc(e,r,i,t),Nc(e,s,n);const o=i?lu(e,t):void 0;return t&&ps(!1),o}function lu(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Cc);const{setup:r}=n;if(r){At();const s=e.setupContext=r.length>1?uu(e):null,i=Yn(e),o=Jn(r,e,0,[e.props,s]),a=Oo(o);if(Rt(),i(),(a||e.sp)&&!In(e)&&da(e),a){if(o.then(_i,_i),t)return o.then(l=>{vi(e,l)}).catch(l=>{Rr(l,e,0)});e.asyncDep=o}else vi(e,o)}else Ma(e)}function vi(e,t,n){H(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:de(t)&&(e.setupState=na(t)),Ma(e)}function Ma(e,t,n){const r=e.type;e.render||(e.render=r.render||it);{const s=Yn(e);At();try{kc(e)}finally{Rt(),s()}}}const cu={get(e,t){return Ee(e,"get",""),e[t]}};function uu(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,cu),slots:e.slots,emit:e.emit,expose:t}}function jr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(na(nc(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ln)return Ln[n](e)},has(t,n){return n in t||n in Ln}})):e.proxy}function du(e){return H(e)&&"__vccOpts"in e}const Fe=(e,t)=>ac(e,t,Kn);function Ie(e,t,n){const r=arguments.length;return r===2?de(t)&&!B(t)?vr(t)?je(e,null,[t]):je(e,t):je(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&vr(n)&&(n=[n]),je(e,t,n))}const fu="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gs;const bi=typeof window<"u"&&window.trustedTypes;if(bi)try{gs=bi.createPolicy("vue",{createHTML:e=>e})}catch{}const Da=gs?e=>gs.createHTML(e):e=>e,hu="http://www.w3.org/2000/svg",pu="http://www.w3.org/1998/Math/MathML",dt=typeof document<"u"?document:null,wi=dt&&dt.createElement("template"),gu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?dt.createElementNS(hu,e):t==="mathml"?dt.createElementNS(pu,e):n?dt.createElement(e,{is:n}):dt.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>dt.createTextNode(e),createComment:e=>dt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>dt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{wi.innerHTML=Da(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=wi.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},mu=Symbol("_vtc");function yu(e,t,n){const r=e[mu];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ei=Symbol("_vod"),_u=Symbol("_vsh"),vu=Symbol(""),bu=/(^|;)\s*display\s*:/;function wu(e,t,n){const r=e.style,s=me(n);let i=!1;if(n&&!s){if(t)if(me(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&hr(r,a,"")}else for(const o in t)n[o]==null&&hr(r,o,"");for(const o in n)o==="display"&&(i=!0),hr(r,o,n[o])}else if(s){if(t!==n){const o=r[vu];o&&(n+=";"+o),r.cssText=n,i=bu.test(n)}}else t&&e.removeAttribute("style");Ei in e&&(e[Ei]=i?r.display:"",e[_u]&&(r.display="none"))}const Si=/\s*!important$/;function hr(e,t,n){if(B(n))n.forEach(r=>hr(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Eu(e,t);Si.test(n)?e.setProperty(zt(r),n.replace(Si,""),"important"):e[r]=n}}const xi=["Webkit","Moz","ms"],Wr={};function Eu(e,t){const n=Wr[t];if(n)return n;let r=Ct(t);if(r!=="filter"&&r in e)return Wr[t]=r;r=jo(r);for(let s=0;s<xi.length;s++){const i=xi[s]+r;if(i in e)return Wr[t]=i}return t}const Pi="http://www.w3.org/1999/xlink";function Ci(e,t,n,r,s,i=Ll(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Pi,t.slice(6,t.length)):e.setAttributeNS(Pi,t,n):n==null||i&&!Mo(n)?e.removeAttribute(t):e.setAttribute(t,i?"":kt(n)?String(n):n)}function ki(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Da(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Mo(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(s||t)}function rn(e,t,n,r){e.addEventListener(t,n,r)}function Su(e,t,n,r){e.removeEventListener(t,n,r)}const Ai=Symbol("_vei");function xu(e,t,n,r,s=null){const i=e[Ai]||(e[Ai]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=Pu(t);if(r){const c=i[t]=Au(r,s);rn(e,a,c,l)}else o&&(Su(e,a,o,l),i[t]=void 0)}}const Ri=/(?:Once|Passive|Capture)$/;function Pu(e){let t;if(Ri.test(e)){t={};let r;for(;r=e.match(Ri);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):zt(e.slice(2)),t]}let Qr=0;const Cu=Promise.resolve(),ku=()=>Qr||(Cu.then(()=>Qr=0),Qr=Date.now());function Au(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ot(Ru(r,n.value),t,5,[r])};return n.value=e,n.attached=ku(),n}function Ru(e,t){if(B(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Ti=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Tu=(e,t,n,r,s,i)=>{const o=s==="svg";t==="class"?yu(e,r,o):t==="style"?wu(e,n,r):Sr(t)?As(t)||xu(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ou(e,t,r,o))?(ki(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ci(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!me(r))?ki(e,Ct(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Ci(e,t,r,o))};function Ou(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ti(t)&&H(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Ti(t)&&me(n)?!1:t in e}const Oi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return B(t)?n=>ur(t,n):t};function $u(e){e.target.composing=!0}function $i(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Gr=Symbol("_assign"),Na={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[Gr]=Oi(s);const i=r||s.props&&s.props.type==="number";rn(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=rs(a)),e[Gr](a)}),n&&rn(e,"change",()=>{e.value=e.value.trim()}),t||(rn(e,"compositionstart",$u),rn(e,"compositionend",$i),rn(e,"change",$i))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(e[Gr]=Oi(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?rs(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===l)||(e.value=l))}},Iu=["ctrl","shift","alt","meta"],ju={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Iu.some(n=>e[`${n}Key`]&&!t.includes(n))},Lu=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<t.length;o++){const a=ju[t[o]];if(a&&a(s,t))return}return e(s,...i)})},Mu=Pe({patchProp:Tu},gu);let Ii;function Du(){return Ii||(Ii=Fc(Mu))}const Nu=(...e)=>{const t=Du().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Fu(r);if(!s)return;const i=t._component;!H(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,Uu(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function Uu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Fu(e){return me(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const sn=typeof document<"u";function Ua(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function zu(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Ua(e.default)}const G=Object.assign;function Jr(e,t){const n={};for(const r in t){const s=t[r];n[r]=Ge(s)?s.map(e):e(s)}return n}const Nn=()=>{},Ge=Array.isArray,Fa=/#/g,Bu=/&/g,qu=/\//g,Hu=/=/g,Vu=/\?/g,za=/\+/g,Ku=/%5B/g,Wu=/%5D/g,Ba=/%5E/g,Qu=/%60/g,qa=/%7B/g,Gu=/%7C/g,Ha=/%7D/g,Ju=/%20/g;function Vs(e){return encodeURI(""+e).replace(Gu,"|").replace(Ku,"[").replace(Wu,"]")}function Yu(e){return Vs(e).replace(qa,"{").replace(Ha,"}").replace(Ba,"^")}function ms(e){return Vs(e).replace(za,"%2B").replace(Ju,"+").replace(Fa,"%23").replace(Bu,"%26").replace(Qu,"`").replace(qa,"{").replace(Ha,"}").replace(Ba,"^")}function Zu(e){return ms(e).replace(Hu,"%3D")}function Xu(e){return Vs(e).replace(Fa,"%23").replace(Vu,"%3F")}function ed(e){return e==null?"":Xu(e).replace(qu,"%2F")}function Wn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const td=/\/$/,nd=e=>e.replace(td,"");function Yr(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),s=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=od(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Wn(o)}}function rd(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ji(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function sd(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&gn(t.matched[r],n.matched[s])&&Va(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function gn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Va(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!id(e[n],t[n]))return!1;return!0}function id(e,t){return Ge(e)?Li(e,t):Ge(t)?Li(t,e):e===t}function Li(e,t){return Ge(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function od(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const yt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Qn;(function(e){e.pop="pop",e.push="push"})(Qn||(Qn={}));var Un;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Un||(Un={}));function ad(e){if(!e)if(sn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),nd(e)}const ld=/^[^#]+#/;function cd(e,t){return e.replace(ld,"#")+t}function ud(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Lr=()=>({left:window.scrollX,top:window.scrollY});function dd(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=ud(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Mi(e,t){return(history.state?history.state.position-t:-1)+e}const ys=new Map;function fd(e,t){ys.set(e,t)}function hd(e){const t=ys.get(e);return ys.delete(e),t}let pd=()=>location.protocol+"//"+location.host;function Ka(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),ji(l,"")}return ji(n,e)+r+s}function gd(e,t,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const h=Ka(e,location),y=n.value,_=t.value;let v=0;if(f){if(n.value=h,t.value=f,o&&o===y){o=null;return}v=_?f.position-_.position:0}else r(h);s.forEach(C=>{C(n.value,y,{delta:v,type:Qn.pop,direction:v?v>0?Un.forward:Un.back:Un.unknown})})};function l(){o=n.value}function c(f){s.push(f);const h=()=>{const y=s.indexOf(f);y>-1&&s.splice(y,1)};return i.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(G({},f.state,{scroll:Lr()}),"")}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function Di(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Lr():null}}function md(e){const{history:t,location:n}=window,r={value:Ka(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const d=e.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:pd()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=G({},t.state,Di(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=G({},s.value,t.state,{forward:l,scroll:Lr()});i(u.current,u,!0);const d=G({},Di(r.value,l,null),{position:u.position+1},c);i(l,d,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function yd(e){e=ad(e);const t=md(e),n=gd(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=G({location:"",base:e,go:r,createHref:cd.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function _d(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),yd(e)}function vd(e){return typeof e=="string"||e&&typeof e=="object"}function Wa(e){return typeof e=="string"||typeof e=="symbol"}const Qa=Symbol("");var Ni;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ni||(Ni={}));function mn(e,t){return G(new Error,{type:e,[Qa]:!0},t)}function ut(e,t){return e instanceof Error&&Qa in e&&(t==null||!!(e.type&t))}const Ui="[^/]+?",bd={sensitive:!1,strict:!1,start:!0,end:!0},wd=/[.+*?^${}()[\]/\\]/g;function Ed(e,t){const n=G({},bd,t),r=[];let s=n.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(s+="/"),s+=f.value.replace(wd,"\\$&"),h+=40;else if(f.type===1){const{value:y,repeatable:_,optional:v,regexp:C}=f;i.push({name:y,repeatable:_,optional:v});const k=C||Ui;if(k!==Ui){h+=10;try{new RegExp(`(${k})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${y}" (${k}): `+S.message)}}let P=_?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;d||(P=v&&c.length<2?`(?:/${P})`:"/"+P),v&&(P+="?"),s+=P,h+=20,v&&(h+=-8),_&&(h+=-20),k===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",y=i[f-1];d[y.name]=h&&y.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:y,repeatable:_,optional:v}=h,C=y in c?c[y]:"";if(Ge(C)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const k=Ge(C)?C.join("/"):C;if(!k)if(v)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${y}"`);u+=k}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Sd(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Ga(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=Sd(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Fi(r))return 1;if(Fi(s))return-1}return s.length-r.length}function Fi(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const xd={type:0,value:""},Pd=/[a-zA-Z0-9_]/;function Cd(e){if(!e)return[[]];if(e==="/")return[[xd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",u="";function d(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:Pd.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),d(),o(),s}function kd(e,t,n){const r=Ed(Cd(e.path),n),s=G(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Ad(e,t){const n=[],r=new Map;t=Hi({strict:!1,end:!0,sensitive:!1},t);function s(d){return r.get(d)}function i(d,f,h){const y=!h,_=Bi(d);_.aliasOf=h&&h.record;const v=Hi(t,d),C=[_];if("alias"in d){const S=typeof d.alias=="string"?[d.alias]:d.alias;for(const j of S)C.push(Bi(G({},_,{components:h?h.record.components:_.components,path:j,aliasOf:h?h.record:_})))}let k,P;for(const S of C){const{path:j}=S;if(f&&j[0]!=="/"){const q=f.record.path,F=q[q.length-1]==="/"?"":"/";S.path=f.record.path+(j&&F+j)}if(k=kd(S,f,v),h?h.alias.push(k):(P=P||k,P!==k&&P.alias.push(k),y&&d.name&&!qi(k)&&o(d.name)),Ja(k)&&l(k),_.children){const q=_.children;for(let F=0;F<q.length;F++)i(q[F],k,h&&h.children[F])}h=h||k}return P?()=>{o(P)}:Nn}function o(d){if(Wa(d)){const f=r.get(d);f&&(r.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=Od(d,n);n.splice(f,0,d),d.record.name&&!qi(d)&&r.set(d.record.name,d)}function c(d,f){let h,y={},_,v;if("name"in d&&d.name){if(h=r.get(d.name),!h)throw mn(1,{location:d});v=h.record.name,y=G(zi(f.params,h.keys.filter(P=>!P.optional).concat(h.parent?h.parent.keys.filter(P=>P.optional):[]).map(P=>P.name)),d.params&&zi(d.params,h.keys.map(P=>P.name))),_=h.stringify(y)}else if(d.path!=null)_=d.path,h=n.find(P=>P.re.test(_)),h&&(y=h.parse(_),v=h.record.name);else{if(h=f.name?r.get(f.name):n.find(P=>P.re.test(f.path)),!h)throw mn(1,{location:d,currentLocation:f});v=h.record.name,y=G({},f.params,d.params),_=h.stringify(y)}const C=[];let k=h;for(;k;)C.unshift(k.record),k=k.parent;return{name:v,path:_,params:y,matched:C,meta:Td(C)}}e.forEach(d=>i(d));function u(){n.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function zi(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Bi(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Rd(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Rd(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function qi(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Td(e){return e.reduce((t,n)=>G(t,n.meta),{})}function Hi(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Od(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;Ga(e,t[i])<0?r=i:n=i+1}const s=$d(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function $d(e){let t=e;for(;t=t.parent;)if(Ja(t)&&Ga(e,t)===0)return t}function Ja({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Id(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(za," "),o=i.indexOf("="),a=Wn(o<0?i:i.slice(0,o)),l=o<0?null:Wn(i.slice(o+1));if(a in t){let c=t[a];Ge(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Vi(e){let t="";for(let n in e){const r=e[n];if(n=Zu(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ge(r)?r.map(i=>i&&ms(i)):[r&&ms(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function jd(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Ge(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const Ld=Symbol(""),Ki=Symbol(""),Mr=Symbol(""),Ks=Symbol(""),_s=Symbol("");function xn(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Et(e,t,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(mn(4,{from:n,to:t})):f instanceof Error?l(f):vd(f)?l(mn(2,{from:t,to:f})):(o&&r.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),a())},u=i(()=>e.call(r&&r.instances[s],t,n,c));let d=Promise.resolve(u);e.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function Zr(e,t,n,r,s=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Ua(l)){const u=(l.__vccOpts||l)[t];u&&i.push(Et(u,n,r,o,a,s))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=zu(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[t];return h&&Et(h,n,r,o,a,s)()}))}}return i}function Wi(e){const t=ue(Mr),n=ue(Ks),r=Fe(()=>{const l=we(e.to);return t.resolve(l)}),s=Fe(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(gn.bind(null,u));if(f>-1)return f;const h=Qi(l[c-2]);return c>1&&Qi(u)===h&&d[d.length-1].path!==h?d.findIndex(gn.bind(null,l[c-2])):f}),i=Fe(()=>s.value>-1&&Ud(n.params,r.value.params)),o=Fe(()=>s.value>-1&&s.value===n.matched.length-1&&Va(n.params,r.value.params));function a(l={}){if(Nd(l)){const c=t[we(e.replace)?"replace":"push"](we(e.to)).catch(Nn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:Fe(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function Md(e){return e.length===1?e[0]:e}const Dd=Be({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Wi,setup(e,{slots:t}){const n=Ar(Wi(e)),{options:r}=ue(Mr),s=Fe(()=>({[Gi(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Gi(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&Md(t.default(n));return e.custom?i:Ie("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Ya=Dd;function Nd(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ud(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Ge(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Qi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Gi=(e,t,n)=>e??t??n,Fd=Be({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=ue(_s),s=Fe(()=>e.route||r.value),i=ue(Ki,0),o=Fe(()=>{let c=we(i);const{matched:u}=s.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=Fe(()=>s.value.matched[o.value]);Mn(Ki,Fe(()=>o.value+1)),Mn(Ld,a),Mn(_s,s);const l=fe();return dr(()=>[l.value,a.value,e.name],([c,u,d],[f,h,y])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!gn(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=s.value,u=e.name,d=a.value,f=d&&d.components[u];if(!f)return Ji(n.default,{Component:f,route:c});const h=d.props[u],y=h?h===!0?c.params:typeof h=="function"?h(c):h:null,v=Ie(f,G({},y,t,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Ji(n.default,{Component:v,route:c})||v}}});function Ji(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Ws=Fd;function zd(e){const t=Ad(e.routes,e),n=e.parseQuery||Id,r=e.stringifyQuery||Vi,s=e.history,i=xn(),o=xn(),a=xn(),l=rc(yt);let c=yt;sn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Jr.bind(null,w=>""+w),d=Jr.bind(null,ed),f=Jr.bind(null,Wn);function h(w,L){let $,M;return Wa(w)?($=t.getRecordMatcher(w),M=L):M=w,t.addRoute(M,$)}function y(w){const L=t.getRecordMatcher(w);L&&t.removeRoute(L)}function _(){return t.getRoutes().map(w=>w.record)}function v(w){return!!t.getRecordMatcher(w)}function C(w,L){if(L=G({},L||l.value),typeof w=="string"){const m=Yr(n,w,L.path),b=t.resolve({path:m.path},L),x=s.createHref(m.fullPath);return G(m,b,{params:f(b.params),hash:Wn(m.hash),redirectedFrom:void 0,href:x})}let $;if(w.path!=null)$=G({},w,{path:Yr(n,w.path,L.path).path});else{const m=G({},w.params);for(const b in m)m[b]==null&&delete m[b];$=G({},w,{params:d(m)}),L.params=d(L.params)}const M=t.resolve($,L),ne=w.hash||"";M.params=u(f(M.params));const p=rd(r,G({},w,{hash:Yu(ne),path:M.path})),g=s.createHref(p);return G({fullPath:p,hash:ne,query:r===Vi?jd(w.query):w.query||{}},M,{redirectedFrom:void 0,href:g})}function k(w){return typeof w=="string"?Yr(n,w,l.value.path):G({},w)}function P(w,L){if(c!==w)return mn(8,{from:L,to:w})}function S(w){return F(w)}function j(w){return S(G(k(w),{replace:!0}))}function q(w){const L=w.matched[w.matched.length-1];if(L&&L.redirect){const{redirect:$}=L;let M=typeof $=="function"?$(w):$;return typeof M=="string"&&(M=M.includes("?")||M.includes("#")?M=k(M):{path:M},M.params={}),G({query:w.query,hash:w.hash,params:M.path!=null?{}:w.params},M)}}function F(w,L){const $=c=C(w),M=l.value,ne=w.state,p=w.force,g=w.replace===!0,m=q($);if(m)return F(G(k(m),{state:typeof m=="object"?G({},ne,m.state):ne,force:p,replace:g}),L||$);const b=$;b.redirectedFrom=L;let x;return!p&&sd(r,M,$)&&(x=mn(16,{to:b,from:M}),Je(M,M,!0,!1)),(x?Promise.resolve(x):ye(b,M)).catch(E=>ut(E)?ut(E,2)?E:mt(E):Q(E,b,M)).then(E=>{if(E){if(ut(E,2))return F(G({replace:g},k(E.to),{state:typeof E.to=="object"?G({},ne,E.to.state):ne,force:p}),L||b)}else E=Z(b,M,!0,g,ne);return _e(b,M,E),E})}function ae(w,L){const $=P(w,L);return $?Promise.reject($):Promise.resolve()}function le(w){const L=Kt.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(w):w()}function ye(w,L){let $;const[M,ne,p]=Bd(w,L);$=Zr(M.reverse(),"beforeRouteLeave",w,L);for(const m of M)m.leaveGuards.forEach(b=>{$.push(Et(b,w,L))});const g=ae.bind(null,w,L);return $.push(g),qe($).then(()=>{$=[];for(const m of i.list())$.push(Et(m,w,L));return $.push(g),qe($)}).then(()=>{$=Zr(ne,"beforeRouteUpdate",w,L);for(const m of ne)m.updateGuards.forEach(b=>{$.push(Et(b,w,L))});return $.push(g),qe($)}).then(()=>{$=[];for(const m of p)if(m.beforeEnter)if(Ge(m.beforeEnter))for(const b of m.beforeEnter)$.push(Et(b,w,L));else $.push(Et(m.beforeEnter,w,L));return $.push(g),qe($)}).then(()=>(w.matched.forEach(m=>m.enterCallbacks={}),$=Zr(p,"beforeRouteEnter",w,L,le),$.push(g),qe($))).then(()=>{$=[];for(const m of o.list())$.push(Et(m,w,L));return $.push(g),qe($)}).catch(m=>ut(m,8)?m:Promise.reject(m))}function _e(w,L,$){a.list().forEach(M=>le(()=>M(w,L,$)))}function Z(w,L,$,M,ne){const p=P(w,L);if(p)return p;const g=L===yt,m=sn?history.state:{};$&&(M||g?s.replace(w.fullPath,G({scroll:g&&m&&m.scroll},ne)):s.push(w.fullPath,ne)),l.value=w,Je(w,L,$,g),mt()}let he;function at(){he||(he=s.listen((w,L,$)=>{if(!er.listening)return;const M=C(w),ne=q(M);if(ne){F(G(ne,{replace:!0,force:!0}),M).catch(Nn);return}c=M;const p=l.value;sn&&fd(Mi(p.fullPath,$.delta),Lr()),ye(M,p).catch(g=>ut(g,12)?g:ut(g,2)?(F(G(k(g.to),{force:!0}),M).then(m=>{ut(m,20)&&!$.delta&&$.type===Qn.pop&&s.go(-1,!1)}).catch(Nn),Promise.reject()):($.delta&&s.go(-$.delta,!1),Q(g,M,p))).then(g=>{g=g||Z(M,p,!1),g&&($.delta&&!ut(g,8)?s.go(-$.delta,!1):$.type===Qn.pop&&ut(g,20)&&s.go(-1,!1)),_e(M,p,g)}).catch(Nn)}))}let Ke=xn(),ge=xn(),te;function Q(w,L,$){mt(w);const M=ge.list();return M.length?M.forEach(ne=>ne(w,L,$)):console.error(w),Promise.reject(w)}function lt(){return te&&l.value!==yt?Promise.resolve():new Promise((w,L)=>{Ke.add([w,L])})}function mt(w){return te||(te=!w,at(),Ke.list().forEach(([L,$])=>w?$(w):L()),Ke.reset()),w}function Je(w,L,$,M){const{scrollBehavior:ne}=e;if(!sn||!ne)return Promise.resolve();const p=!$&&hd(Mi(w.fullPath,0))||(M||!$)&&history.state&&history.state.scroll||null;return sa().then(()=>ne(w,L,p)).then(g=>g&&dd(g)).catch(g=>Q(g,w,L))}const Te=w=>s.go(w);let Vt;const Kt=new Set,er={currentRoute:l,listening:!0,addRoute:h,removeRoute:y,clearRoutes:t.clearRoutes,hasRoute:v,getRoutes:_,resolve:C,options:e,push:S,replace:j,go:Te,back:()=>Te(-1),forward:()=>Te(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ge.add,isReady:lt,install(w){const L=this;w.component("RouterLink",Ya),w.component("RouterView",Ws),w.config.globalProperties.$router=L,Object.defineProperty(w.config.globalProperties,"$route",{enumerable:!0,get:()=>we(l)}),sn&&!Vt&&l.value===yt&&(Vt=!0,S(s.location).catch(ne=>{}));const $={};for(const ne in yt)Object.defineProperty($,ne,{get:()=>l.value[ne],enumerable:!0});w.provide(Mr,L),w.provide(Ks,Xo($)),w.provide(_s,l);const M=w.unmount;Kt.add(w),w.unmount=function(){Kt.delete(w),Kt.size<1&&(c=yt,he&&he(),he=null,l.value=yt,Vt=!1,te=!1),M()}}};function qe(w){return w.reduce((L,$)=>L.then(()=>le($)),Promise.resolve())}return er}function Bd(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>gn(c,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>gn(c,l))||s.push(l))}return[n,r,s]}function Zn(){return ue(Mr)}function Dr(e){return ue(Ks)}const qd=Be({__name:"App",setup(e){return(t,n)=>(ee(),Ir(we(Ws)))}}),Hd={showNotification:e=>alert(e)},Vd=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},Kd={};function Wd(e,t){return ee(),ce("div")}const Qd=Vd(Kd,[["render",Wd]]);/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 *  2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var st=function(){return st=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},st.apply(this,arguments)};var Ft;(function(e){var t=function(){function o(a,l,c,u){if(this.version=a,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version value out of range");if(u<-1||u>7)throw new RangeError("Mask value out of range");this.size=a*4+17;for(var d=[],f=0;f<this.size;f++)d.push(!1);for(var f=0;f<this.size;f++)this.modules.push(d.slice()),this.isFunction.push(d.slice());this.drawFunctionPatterns();var h=this.addEccAndInterleave(c);if(this.drawCodewords(h),u==-1)for(var y=1e9,f=0;f<8;f++){this.applyMask(f),this.drawFormatBits(f);var _=this.getPenaltyScore();_<y&&(u=f,y=_),this.applyMask(f)}s(0<=u&&u<=7),this.mask=u,this.applyMask(u),this.drawFormatBits(u),this.isFunction=[]}return o.encodeText=function(a,l){var c=e.QrSegment.makeSegments(a);return o.encodeSegments(c,l)},o.encodeBinary=function(a,l){var c=e.QrSegment.makeBytes(a);return o.encodeSegments([c],l)},o.encodeSegments=function(a,l,c,u,d,f){if(c===void 0&&(c=1),u===void 0&&(u=40),d===void 0&&(d=-1),f===void 0&&(f=!0),!(o.MIN_VERSION<=c&&c<=u&&u<=o.MAX_VERSION)||d<-1||d>7)throw new RangeError("Invalid value");var h,y;for(h=c;;h++){var _=o.getNumDataCodewords(h,l)*8,v=i.getTotalBits(a,h);if(v<=_){y=v;break}if(h>=u)throw new RangeError("Data too long")}for(var C=0,k=[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH];C<k.length;C++){var P=k[C];f&&y<=o.getNumDataCodewords(h,P)*8&&(l=P)}for(var S=[],j=0,q=a;j<q.length;j++){var F=q[j];n(F.mode.modeBits,4,S),n(F.numChars,F.mode.numCharCountBits(h),S);for(var ae=0,le=F.getData();ae<le.length;ae++){var ye=le[ae];S.push(ye)}}s(S.length==y);var _e=o.getNumDataCodewords(h,l)*8;s(S.length<=_e),n(0,Math.min(4,_e-S.length),S),n(0,(8-S.length%8)%8,S),s(S.length%8==0);for(var Z=236;S.length<_e;Z^=253)n(Z,8,S);for(var he=[];he.length*8<S.length;)he.push(0);return S.forEach(function(at,Ke){return he[Ke>>>3]|=at<<7-(Ke&7)}),new o(h,l,he,d)},o.prototype.getModule=function(a,l){return 0<=a&&a<this.size&&0<=l&&l<this.size&&this.modules[l][a]},o.prototype.getModules=function(){return this.modules},o.prototype.drawFunctionPatterns=function(){for(var a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var l=this.getAlignmentPatternPositions(),c=l.length,a=0;a<c;a++)for(var u=0;u<c;u++)a==0&&u==0||a==0&&u==c-1||a==c-1&&u==0||this.drawAlignmentPattern(l[a],l[u]);this.drawFormatBits(0),this.drawVersion()},o.prototype.drawFormatBits=function(a){for(var l=this.errorCorrectionLevel.formatBits<<3|a,c=l,u=0;u<10;u++)c=c<<1^(c>>>9)*1335;var d=(l<<10|c)^21522;s(d>>>15==0);for(var u=0;u<=5;u++)this.setFunctionModule(8,u,r(d,u));this.setFunctionModule(8,7,r(d,6)),this.setFunctionModule(8,8,r(d,7)),this.setFunctionModule(7,8,r(d,8));for(var u=9;u<15;u++)this.setFunctionModule(14-u,8,r(d,u));for(var u=0;u<8;u++)this.setFunctionModule(this.size-1-u,8,r(d,u));for(var u=8;u<15;u++)this.setFunctionModule(8,this.size-15+u,r(d,u));this.setFunctionModule(8,this.size-8,!0)},o.prototype.drawVersion=function(){if(!(this.version<7)){for(var a=this.version,l=0;l<12;l++)a=a<<1^(a>>>11)*7973;var c=this.version<<12|a;s(c>>>18==0);for(var l=0;l<18;l++){var u=r(c,l),d=this.size-11+l%3,f=Math.floor(l/3);this.setFunctionModule(d,f,u),this.setFunctionModule(f,d,u)}}},o.prototype.drawFinderPattern=function(a,l){for(var c=-4;c<=4;c++)for(var u=-4;u<=4;u++){var d=Math.max(Math.abs(u),Math.abs(c)),f=a+u,h=l+c;0<=f&&f<this.size&&0<=h&&h<this.size&&this.setFunctionModule(f,h,d!=2&&d!=4)}},o.prototype.drawAlignmentPattern=function(a,l){for(var c=-2;c<=2;c++)for(var u=-2;u<=2;u++)this.setFunctionModule(a+u,l+c,Math.max(Math.abs(u),Math.abs(c))!=1)},o.prototype.setFunctionModule=function(a,l,c){this.modules[l][a]=c,this.isFunction[l][a]=!0},o.prototype.addEccAndInterleave=function(a){var l=this.version,c=this.errorCorrectionLevel;if(a.length!=o.getNumDataCodewords(l,c))throw new RangeError("Invalid argument");for(var u=o.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l],d=o.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l],f=Math.floor(o.getNumRawDataModules(l)/8),h=u-f%u,y=Math.floor(f/u),_=[],v=o.reedSolomonComputeDivisor(d),C=0,k=0;C<u;C++){var P=a.slice(k,k+y-d+(C<h?0:1));k+=P.length;var S=o.reedSolomonComputeRemainder(P,v);C<h&&P.push(0),_.push(P.concat(S))}for(var j=[],q=function(F){_.forEach(function(ae,le){(F!=y-d||le>=h)&&j.push(ae[F])})},C=0;C<_[0].length;C++)q(C);return s(j.length==f),j},o.prototype.drawCodewords=function(a){if(a.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var l=0,c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(var u=0;u<this.size;u++)for(var d=0;d<2;d++){var f=c-d,h=(c+1&2)==0,y=h?this.size-1-u:u;!this.isFunction[y][f]&&l<a.length*8&&(this.modules[y][f]=r(a[l>>>3],7-(l&7)),l++)}}s(l==a.length*8)},o.prototype.applyMask=function(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(var l=0;l<this.size;l++)for(var c=0;c<this.size;c++){var u=void 0;switch(a){case 0:u=(c+l)%2==0;break;case 1:u=l%2==0;break;case 2:u=c%3==0;break;case 3:u=(c+l)%3==0;break;case 4:u=(Math.floor(c/3)+Math.floor(l/2))%2==0;break;case 5:u=c*l%2+c*l%3==0;break;case 6:u=(c*l%2+c*l%3)%2==0;break;case 7:u=((c+l)%2+c*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][c]&&u&&(this.modules[l][c]=!this.modules[l][c])}},o.prototype.getPenaltyScore=function(){for(var a=0,l=0;l<this.size;l++){for(var c=!1,u=0,d=[0,0,0,0,0,0,0],f=0;f<this.size;f++)this.modules[l][f]==c?(u++,u==5?a+=o.PENALTY_N1:u>5&&a++):(this.finderPenaltyAddHistory(u,d),c||(a+=this.finderPenaltyCountPatterns(d)*o.PENALTY_N3),c=this.modules[l][f],u=1);a+=this.finderPenaltyTerminateAndCount(c,u,d)*o.PENALTY_N3}for(var f=0;f<this.size;f++){for(var c=!1,h=0,d=[0,0,0,0,0,0,0],l=0;l<this.size;l++)this.modules[l][f]==c?(h++,h==5?a+=o.PENALTY_N1:h>5&&a++):(this.finderPenaltyAddHistory(h,d),c||(a+=this.finderPenaltyCountPatterns(d)*o.PENALTY_N3),c=this.modules[l][f],h=1);a+=this.finderPenaltyTerminateAndCount(c,h,d)*o.PENALTY_N3}for(var l=0;l<this.size-1;l++)for(var f=0;f<this.size-1;f++){var y=this.modules[l][f];y==this.modules[l][f+1]&&y==this.modules[l+1][f]&&y==this.modules[l+1][f+1]&&(a+=o.PENALTY_N2)}for(var _=0,v=0,C=this.modules;v<C.length;v++){var k=C[v];_=k.reduce(function(j,q){return j+(q?1:0)},_)}var P=this.size*this.size,S=Math.ceil(Math.abs(_*20-P*10)/P)-1;return s(0<=S&&S<=9),a+=S*o.PENALTY_N4,s(0<=a&&a<=2568888),a},o.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var a=Math.floor(this.version/7)+2,l=Math.floor((this.version*8+a*3+5)/(a*4-4))*2,c=[6],u=this.size-7;c.length<a;u-=l)c.splice(1,0,u);return c},o.getNumRawDataModules=function(a){if(a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version number out of range");var l=(16*a+128)*a+64;if(a>=2){var c=Math.floor(a/7)+2;l-=(25*c-10)*c-55,a>=7&&(l-=36)}return s(208<=l&&l<=29648),l},o.getNumDataCodewords=function(a,l){return Math.floor(o.getNumRawDataModules(a)/8)-o.ECC_CODEWORDS_PER_BLOCK[l.ordinal][a]*o.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][a]},o.reedSolomonComputeDivisor=function(a){if(a<1||a>255)throw new RangeError("Degree out of range");for(var l=[],c=0;c<a-1;c++)l.push(0);l.push(1);for(var u=1,c=0;c<a;c++){for(var d=0;d<l.length;d++)l[d]=o.reedSolomonMultiply(l[d],u),d+1<l.length&&(l[d]^=l[d+1]);u=o.reedSolomonMultiply(u,2)}return l},o.reedSolomonComputeRemainder=function(a,l){for(var c=l.map(function(y){return 0}),u=function(y){var _=y^c.shift();c.push(0),l.forEach(function(v,C){return c[C]^=o.reedSolomonMultiply(v,_)})},d=0,f=a;d<f.length;d++){var h=f[d];u(h)}return c},o.reedSolomonMultiply=function(a,l){if(a>>>8||l>>>8)throw new RangeError("Byte out of range");for(var c=0,u=7;u>=0;u--)c=c<<1^(c>>>7)*285,c^=(l>>>u&1)*a;return s(c>>>8==0),c},o.prototype.finderPenaltyCountPatterns=function(a){var l=a[1];s(l<=this.size*3);var c=l>0&&a[2]==l&&a[3]==l*3&&a[4]==l&&a[5]==l;return(c&&a[0]>=l*4&&a[6]>=l?1:0)+(c&&a[6]>=l*4&&a[0]>=l?1:0)},o.prototype.finderPenaltyTerminateAndCount=function(a,l,c){return a&&(this.finderPenaltyAddHistory(l,c),l=0),l+=this.size,this.finderPenaltyAddHistory(l,c),this.finderPenaltyCountPatterns(c)},o.prototype.finderPenaltyAddHistory=function(a,l){l[0]==0&&(a+=this.size),l.pop(),l.unshift(a)},o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o}();e.QrCode=t;function n(o,a,l){if(a<0||a>31||o>>>a)throw new RangeError("Value out of range");for(var c=a-1;c>=0;c--)l.push(o>>>c&1)}function r(o,a){return(o>>>a&1)!=0}function s(o){if(!o)throw new Error("Assertion error")}var i=function(){function o(a,l,c){if(this.mode=a,this.numChars=l,this.bitData=c,l<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}return o.makeBytes=function(a){for(var l=[],c=0,u=a;c<u.length;c++){var d=u[c];n(d,8,l)}return new o(o.Mode.BYTE,a.length,l)},o.makeNumeric=function(a){if(!o.isNumeric(a))throw new RangeError("String contains non-numeric characters");for(var l=[],c=0;c<a.length;){var u=Math.min(a.length-c,3);n(parseInt(a.substring(c,c+u),10),u*3+1,l),c+=u}return new o(o.Mode.NUMERIC,a.length,l)},o.makeAlphanumeric=function(a){if(!o.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");var l=[],c;for(c=0;c+2<=a.length;c+=2){var u=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c))*45;u+=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c+1)),n(u,11,l)}return c<a.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c)),6,l),new o(o.Mode.ALPHANUMERIC,a.length,l)},o.makeSegments=function(a){return a==""?[]:o.isNumeric(a)?[o.makeNumeric(a)]:o.isAlphanumeric(a)?[o.makeAlphanumeric(a)]:[o.makeBytes(o.toUtf8ByteArray(a))]},o.makeEci=function(a){var l=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)n(a,8,l);else if(a<16384)n(2,2,l),n(a,14,l);else if(a<1e6)n(6,3,l),n(a,21,l);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,l)},o.isNumeric=function(a){return o.NUMERIC_REGEX.test(a)},o.isAlphanumeric=function(a){return o.ALPHANUMERIC_REGEX.test(a)},o.prototype.getData=function(){return this.bitData.slice()},o.getTotalBits=function(a,l){for(var c=0,u=0,d=a;u<d.length;u++){var f=d[u],h=f.mode.numCharCountBits(l);if(f.numChars>=1<<h)return 1/0;c+=4+h+f.bitData.length}return c},o.toUtf8ByteArray=function(a){a=encodeURI(a);for(var l=[],c=0;c<a.length;c++)a.charAt(c)!="%"?l.push(a.charCodeAt(c)):(l.push(parseInt(a.substring(c+1,c+3),16)),c+=2);return l},o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",o}();e.QrSegment=i})(Ft||(Ft={}));(function(e){(function(t){var n=function(){function r(s,i){this.ordinal=s,this.formatBits=i}return r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),r}();t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Ft||(Ft={}));(function(e){(function(t){var n=function(){function r(s,i){this.modeBits=s,this.numBitsCharCount=i}return r.prototype.numCharCountBits=function(s){return this.numBitsCharCount[Math.floor((s+7)/17)]},r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),r}();t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Ft||(Ft={}));var on=Ft,Qs="L",Gs={L:on.QrCode.Ecc.LOW,M:on.QrCode.Ecc.MEDIUM,Q:on.QrCode.Ecc.QUARTILE,H:on.QrCode.Ecc.HIGH},Gd=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function Js(e){return e in Gs}function Za(e,t){t===void 0&&(t=0);var n=[];return e.forEach(function(r,s){var i=null;r.forEach(function(o,a){if(!o&&i!==null){n.push("M".concat(i+t," ").concat(s+t,"h").concat(a-i,"v1H").concat(i+t,"z")),i=null;return}if(a===r.length-1){if(!o)return;i===null?n.push("M".concat(a+t,",").concat(s+t," h1v1H").concat(a+t,"z")):n.push("M".concat(i+t,",").concat(s+t," h").concat(a+1-i,"v1H").concat(i+t,"z"));return}o&&i===null&&(i=a)})}),n.join("")}function Xa(e,t,n,r){var s=r.width,i=r.height,o=r.x,a=r.y,l=e.length+n*2,c=Math.floor(t*.1),u=l/t,d=(s||c)*u,f=(i||c)*u,h=o==null?e.length/2-d/2:o*u,y=a==null?e.length/2-f/2:a*u,_=null;if(r.excavate){var v=Math.floor(h),C=Math.floor(y),k=Math.ceil(d+h-v),P=Math.ceil(f+y-C);_={x:v,y:C,w:k,h:P}}return{x:h,y,h:f,w:d,excavation:_}}function el(e,t){return e.slice().map(function(n,r){return r<t.y||r>=t.y+t.h?n:n.map(function(s,i){return i<t.x||i>=t.x+t.w?s:!1})})}var Ys={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:Qs,validator:function(e){return Js(e)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(e){return["linear","radial"].indexOf(e)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},Jd=st(st({},Ys),{renderAs:{type:String,required:!1,default:"canvas",validator:function(e){return["canvas","svg"].indexOf(e)>-1}}}),Yd=Be({name:"QRCodeSvg",props:Ys,setup:function(e){var t=fe(0),n=fe(""),r,s=function(){var o=e.value,a=e.level,l=e.margin,c=l>>>0,u=Js(a)?a:Qs,d=on.QrCode.encodeText(o,Gs[u]).getModules();if(t.value=d.length+c*2,e.imageSettings.src){var f=Xa(d,e.size,c,e.imageSettings);r={x:f.x+c,y:f.y+c,width:f.w,height:f.h},f.excavation&&(d=el(d,f.excavation))}n.value=Za(d,c)},i=function(){if(!e.gradient)return null;var o=e.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return Ie(e.gradientType==="linear"?"linearGradient":"radialGradient",st({id:"qr-gradient"},o),[Ie("stop",{offset:"0%",style:{stopColor:e.gradientStartColor}}),Ie("stop",{offset:"100%",style:{stopColor:e.gradientEndColor}})])};return s(),zs(s),function(){return Ie("svg",{width:e.size,height:e.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(t.value," ").concat(t.value)},[Ie("defs",{},[i()]),Ie("rect",{width:"100%",height:"100%",fill:e.background}),Ie("path",{fill:e.gradient?"url(#qr-gradient)":e.foreground,d:n.value}),e.imageSettings.src&&Ie("image",st({href:e.imageSettings.src},r))])}}}),Zd=Be({name:"QRCodeCanvas",props:Ys,setup:function(e,t){var n=fe(null),r=fe(null),s=function(){var o=e.value,a=e.level,l=e.size,c=e.margin,u=e.background,d=e.foreground,f=e.gradient,h=e.gradientType,y=e.gradientStartColor,_=e.gradientEndColor,v=c>>>0,C=Js(a)?a:Qs,k=n.value;if(k){var P=k.getContext("2d");if(P){var S=on.QrCode.encodeText(o,Gs[C]).getModules(),j=S.length+v*2,q=r.value,F={x:0,y:0,width:0,height:0},ae=e.imageSettings.src&&q!=null&&q.naturalWidth!==0&&q.naturalHeight!==0;if(ae){var le=Xa(S,e.size,v,e.imageSettings);F={x:le.x+v,y:le.y+v,width:le.w,height:le.h},le.excavation&&(S=el(S,le.excavation))}var ye=window.devicePixelRatio||1,_e=l/j*ye;if(k.height=k.width=l*ye,P.scale(_e,_e),P.fillStyle=u,P.fillRect(0,0,j,j),f){var Z=void 0;h==="linear"?Z=P.createLinearGradient(0,0,j,j):Z=P.createRadialGradient(j/2,j/2,0,j/2,j/2,j/2),Z.addColorStop(0,y),Z.addColorStop(1,_),P.fillStyle=Z}else P.fillStyle=d;Gd?P.fill(new Path2D(Za(S,v))):S.forEach(function(he,at){he.forEach(function(Ke,ge){Ke&&P.fillRect(ge+v,at+v,1,1)})}),ae&&P.drawImage(q,F.x,F.y,F.width,F.height)}}};Bt(s),zs(s);var i=t.attrs.style;return function(){return Ie(Ae,[Ie("canvas",st(st({},t.attrs),{ref:n,style:st(st({},i),{width:"".concat(e.size,"px"),height:"".concat(e.size,"px")})})),e.imageSettings.src&&Ie("img",{ref:r,src:e.imageSettings.src,style:{display:"none"},onLoad:s})])}}}),Xd=Be({name:"Qrcode",render:function(){var e=this.$props,t=e.renderAs,n=e.value,r=e.size,s=e.margin,i=e.level,o=e.background,a=e.foreground,l=e.imageSettings,c=e.gradient,u=e.gradientType,d=e.gradientStartColor,f=e.gradientEndColor;return Ie(t==="svg"?Yd:Zd,{value:n,size:r,margin:s,level:i,background:o,foreground:a,imageSettings:l,gradient:c,gradientType:u,gradientStartColor:d,gradientEndColor:f})},props:Jd});const ef={class:"p-4"},tf={key:0,"data-testid":"lobby-stage"},nf={class:"flex items-center justify-between"},rf={"data-testid":"lobby-id",class:"text-4xl p-2 font-bold"},sf={class:"grid grid-cols-2 gap-4 p-4 items-center justify-items-center"},of={class:"container gap-4"},af=["src"],lf={"data-testid":"username"},cf={key:1,"data-testid":"before-answer-stage",class:"flex justify-center items-center flex-col h-screen gap-4"},uf={"data-testid":"question-title",class:"text-6xl p-2"},df={"data-testid":"time-left",class:"text-4xl p-2"},ff={key:2,"data-testid":"answering-stage",class:"flex justify-center items-center flex-col h-screen gap-4"},hf={"data-testid":"question-title",class:"text-6xl p-2"},pf={"data-testid":"time-left",class:"text-4xl p-2"},gf={class:"grid grid-cols-2 gap-4"},mf={key:3,"data-testid":"statistics-stage"},yf={"data-testid":"question-title",class:"flex gap-8 justify-between items-center pb-16"},_f={class:"text-3xl"},vf={class:"grid grid-cols-2 gap-4"},bf=["data-is-correct"],wf={"data-testid":"player-count",class:"text-4xl font-bold pr-8 pl-2"},Yi=1e3,Zi=10,Xi=20,Ef=Be({__name:"AdminLobby",props:{timeToStartAnswering:Number,timeToAnswer:Number},setup(e){const t=ue("container"),n=ue("notificationProvider"),r=Dr(),s=Zn(),i=parseInt(r.params.lobbyId),o=parseInt(r.params.quizId),a=s.resolve({name:"player-lobby"}).href,l=new URL(location.origin+a).toString(),c=fe("lobby"),u=fe([]),d=fe(null),f=fe(null),h=fe(0),y=fe(e.timeToStartAnswering||Zi),_=fe(e.timeToAnswer||Xi),v=Fe(()=>!d.value||c.value!=="statistics"?[]:d.value.questions[h.value].answers.map(q=>{var F,ae;return{...q,playerCount:(ae=(F=f.value)==null?void 0:F.find(le=>le.answerId===q.id))==null?void 0:ae.playerCount}})),C=Fe(()=>h.value<d.value.questions.length-1),k=()=>{const q=setInterval(()=>{if(_.value===0){clearInterval(q),c.value="statistics",t.quizService.getPlayerCountPerAnswerInQuestionByLobbyIdAndQuestionId(i,d.value.questions[h.value].id).then(F=>{f.value=F}),t.quizService.updateAnsweringCountdown(i,_.value--);return}t.quizService.updateAnsweringCountdown(i,_.value--)},Yi)},P=()=>{const q=setInterval(()=>{if(y.value===0){k(),clearInterval(q),c.value="answering",t.quizService.updateCountdownBeforeAnswer(i,y.value--);return}t.quizService.updateCountdownBeforeAnswer(i,y.value--)},Yi)},S=async()=>{try{await t.quizService.startQuiz(i),await t.quizService.stopListeningForNewPlayers(i),c.value="before-answer",t.quizService.sendQuestion(i,d.value.questions[h.value]),P()}catch(q){q instanceof Error&&n.showNotification("Error: "+q.message)}},j=async()=>{h.value++,t.quizService.sendQuestion(i,d.value.questions[h.value]),c.value="before-answer",y.value=e.timeToStartAnswering||Zi,_.value=e.timeToAnswer||Xi,P()};return Bt(async()=>{t.quizService.startListeningForNewPlayers(i,q=>{u.value.push(q)}),u.value=await t.quizService.getPlayersByLobby(i),d.value=await t.quizService.getQuizWithQuestionsAndAnswersByQuizId(o)}),(q,F)=>{var ae,le,ye,_e;return ee(),ce("div",ef,[c.value==="lobby"?(ee(),ce("div",tf,[U("div",nf,[U("div",rf,"Lobby ID: "+pe(we(i)),1),U("button",{class:"btn btn-primary btn-xl","data-testid":"initialize-quiz",onClick:S}," Initialize quiz ")]),U("div",sf,[je(Xd,{value:we(l),size:500,"data-testid":"qr-code"},null,8,["value"]),U("div",of,[(ee(!0),ce(Ae,null,jn(u.value,Z=>(ee(),ce("div",{"data-testid":"player",key:Z.id,class:"flex items-center flex-col justify-between"},[U("img",{"data-testid":"avatar",class:"w-15",src:Z.image},null,8,af),U("p",lf,pe(Z.username),1)]))),128))])])])):c.value==="before-answer"?(ee(),ce("div",cf,[U("div",uf,pe((ae=d.value)==null?void 0:ae.questions[h.value].title),1),U("div",df," Time left: "+pe(y.value),1)])):c.value==="answering"?(ee(),ce("div",ff,[U("div",hf,pe((le=d.value)==null?void 0:le.questions[h.value].title),1),U("div",pf,"Time left: "+pe(_.value),1),U("div",gf,[(ee(!0),ce(Ae,null,jn((ye=d.value)==null?void 0:ye.questions[h.value].answers,(Z,he)=>(ee(),ce("div",{key:Z.id,"data-testid":"answer"},[U("div",{"data-testid":"answer-title",class:hn(["w-full text-3xl h-full p-4 rounded-lg",["bg-primary","bg-secondary text-black","bg-accent text-black","bg-info text-black"][he%4]])},pe(Z.title),3)]))),128))])])):c.value==="statistics"?(ee(),ce("div",mf,[U("div",yf,[U("div",_f,pe((_e=d.value)==null?void 0:_e.questions[h.value].title),1),C.value?(ee(),ce("button",{key:0,"data-testid":"next-question",onClick:j,class:"btn btn-primary btn-xl"}," Next question ")):(ee(),Ir(we(Ya),{key:1,"data-testid":"awards-button",class:"btn btn-primary btn-xl",to:{name:"admin-awards",params:{quizId:we(o),lobbyId:we(i)}}},{default:ca(()=>F[0]||(F[0]=[hs(" Awards ")])),_:1},8,["to"]))]),U("div",vf,[(ee(!0),ce(Ae,null,jn(v.value,(Z,he)=>(ee(),ce("div",{key:Z.id,"data-testid":"answer","data-is-correct":Z.isCorrect},[U("div",{"data-testid":"answer-title",class:hn(["w-full text-3xl h-full p-4 rounded-lg flex items-center",[["bg-primary","bg-secondary text-black","bg-accent text-black","bg-info text-black"][he%4],Z.isCorrect?"font-black border-white border-4":""]])},[U("div",wf,pe(Z.playerCount||0),1),hs(" "+pe(Z.title),1)],2)],8,bf))),128))])])):qs("",!0)])}}}),Sf={class:"list"},xf={"data-testid":"quiz-title"},Pf=["onClick"],Cf=Be({__name:"AdminView",setup(e){const{quizService:t}=ue("container"),{showNotification:n}=ue("notificationProvider"),r=Zn(),s=fe([]);Bt(async()=>{s.value=await t.getQuizzes()});const i=async o=>{try{const a=await t.createLobby(o);r.push({name:"admin-lobby",params:{lobbyId:a.id,quizId:o}})}catch{n("Error: Failed to create lobby")}};return(o,a)=>(ee(),ce("div",null,[a[0]||(a[0]=U("h2",{class:"text-3xl p-2 font-bold"},"Quizzes",-1)),U("ul",Sf,[(ee(!0),ce(Ae,null,jn(s.value,l=>(ee(),ce("li",{class:"list-row flex items-center",key:l.id},[U("h1",xf,pe(l.name),1),U("button",{class:"btn btn-primary","data-testid":"initialize-quiz-button",onClick:c=>i(l.id)}," Initialize ",8,Pf)]))),128))])]))}}),kf={class:"flex items-center justify-center flex-col gap-10 h-screen"},Af=Be({__name:"HomeView",setup(e){const t=Zn(),n=ue("container"),r=ue("notificationProvider"),s=fe(""),i=async()=>{if(isNaN(parseInt(s.value))){r.showNotification("Error: Invalid lobby id");return}try{const o=await n.quizService.getQuizByLobbyId(parseInt(s.value));await t.push({name:"player-lobby",params:{lobbyId:s.value,quizId:o.id}})}catch(o){o instanceof Error&&r.showNotification(`Error: ${o.message}`)}};return(o,a)=>(ee(),ce("div",kf,[a[2]||(a[2]=U("p",{class:"text-6xl"},"SupaHoot!",-1)),U("form",{class:"flex flex-col gap-4","data-testid":"join-lobby-form",onSubmit:i},[ua(U("input",{type:"text",class:"input","data-testid":"join-lobby-input","onUpdate:modelValue":a[0]||(a[0]=l=>s.value=l)},null,512),[[Na,s.value]]),a[1]||(a[1]=U("input",{type:"submit",value:"Join Lobby",class:"btn btn-lg btn-primary"},null,-1))],32)]))}}),Rf={key:0,class:"flex items-center justify-center flex-col h-screen"},Tf=["src"],Of={"data-testid":"player-username",class:"text-2xl"},$f=Be({__name:"PlayerLobbyBeforeQuizStarts",setup(e){const t=Zn(),n=Dr(),r=parseInt(n.params.lobbyId),s=parseInt(n.params.quizId),i=ue("container"),o=ue("notificationProvider"),{player:a}=ue("playerProvider");return a||(o.showNotification("Error: Player not found"),t.push({name:"home"})),Bt(()=>{i.quizService.listenQuizStart(r,()=>{t.push({name:"player-quiz",params:{quizId:s,lobbyId:r}})})}),(l,c)=>we(a)?(ee(),ce("div",Rf,[c[0]||(c[0]=U("div",{class:"text-xl pb-20"},"Waiting more players...",-1)),U("img",{src:we(a).image,"data-testid":"player-avatar",class:"aspect-square w-40"},null,8,Tf),U("span",Of,pe(we(a).username),1)])):qs("",!0)}}),If={player:null},jf=Be({__name:"PlayerProviders",setup(e){return Mn("playerProvider",If),(t,n)=>(ee(),Ir(we(Ws)))}}),Lf={"data-testid":"player-section",class:"flex items-center justify-between px-4 fixed w-screen bottom-0 text-black bg-white h-12"},Mf={class:"flex items-center gap-4"},Df=["src"],Nf={"data-testid":"username",class:"text-2xl truncate w-48"},Uf={"data-testid":"points",class:"bg-gray-800 text-white px-4 rounded-field"},Ff={key:0,"data-testid":"before-answer-stage",class:"h-screen flex flex-col items-center justify-center gap-4"},zf={"data-testid":"question-title",class:"text-3xl font-black"},Bf={"data-testid":"time-left",class:"text-xl"},qf={key:1,"data-testid":"answering-stage",class:"h-screen flex flex-col items-center justify-center gap-4"},Hf={"data-testid":"question-title",class:"text-3xl font-black"},Vf={"data-testid":"time-left",class:"text-xl"},Kf=["onClick"],Wf={key:2,"data-testid":"player-points-stage",class:"flex flex-col h-screen items-center justify-center gap-4"},Qf={"data-testid":"points",class:"text-5xl"},Gf=Be({__name:"PlayerQuizView",setup(e){const t=Dr(),n=parseInt(t.params.lobbyId),r=ue("playerProvider"),s=ue("container"),i=fe(null),o=fe(0),a=fe(0),l=fe("before-answer"),c=fe(0),u=fe(0),d=async f=>{if(l.value="player-points",!i.value)return;const h=await s.quizService.sendAnswer(n,r.player.id,i.value.id,f);h&&(u.value=h.points,c.value=h.points+c.value)};return Bt(()=>{s.quizService.listenQuestion(n,f=>{i.value=f,l.value="before-answer",u.value=0}),s.quizService.listenUpdateCountdownBeforeAnswer(n,f=>{o.value=f,f===0&&(l.value="answering")}),s.quizService.listenUpdateAnsweringCountdown(n,f=>{a.value=f,f===0&&(l.value="player-points")})}),(f,h)=>{var y,_,v,C,k;return ee(),ce("div",null,[U("div",Lf,[U("div",Mf,[U("img",{"data-testid":"image",src:(y=we(r).player)==null?void 0:y.image,class:"aspect-square w-10"},null,8,Df),U("div",Nf,pe((_=we(r).player)==null?void 0:_.username),1)]),U("div",Uf,pe(c.value),1)]),l.value==="before-answer"?(ee(),ce("div",Ff,[U("div",zf,pe((v=i.value)==null?void 0:v.title),1),U("div",Bf,pe(o.value),1)])):l.value==="answering"?(ee(),ce("div",qf,[U("div",Hf,pe((C=i.value)==null?void 0:C.title),1),U("div",Vf,pe(a.value),1),(ee(!0),ce(Ae,null,jn((k=i.value)==null?void 0:k.answers,(P,S)=>(ee(),ce("div",{class:"flex flex-col gap-2 w-full px-2","data-testid":"answer",key:P.id},[U("button",{"data-testid":"answer-button",onClick:j=>d(P.id),class:hn(["p-3 rounded-lg text-lg",["bg-primary","bg-secondary text-black","bg-accent text-black","bg-info text-black"][S%4]])},pe(P.title),11,Kf)]))),128))])):l.value==="player-points"?(ee(),ce("div",Wf,[h[0]||(h[0]=U("div",{class:"text-2xl font-black"},"You've obtained",-1)),U("div",Qf,pe(u.value),1),h[1]||(h[1]=U("div",{class:"text-2xl font-black"},"points!",-1))])):qs("",!0)])}}}),eo={fileToDataURL(e){return new Promise((t,n)=>{const r=new FileReader;r.onloadend=s=>t(r.result),r.onerror=s=>n(r.error),r.onabort=s=>n(new Error("Read aborted")),r.readAsDataURL(e)})}},Jf={class:"flex items-center justify-center flex-col gap-10 h-screen"},Yf=["src"],Zf=Be({__name:"PlayersLobby",setup(e){const t=ue("container"),n=ue("notificationProvider"),r=ue("playerProvider"),s=Dr(),i=Zn(),o=parseInt(s.params.lobbyId),a=parseInt(s.params.quizId),l=fe(""),c=fe(null),u=fe(""),d=async()=>{if(l.value.length<4){n.showNotification("Error: Username should be at least 4 characters long");return}try{r.player=await t.quizService.createPlayerByLobbyId(o,l.value,c.value),await i.push({name:"player-lobby-before-quiz-starts",params:{lobbyId:o,quizId:a}})}catch{n.showNotification("Error: Failed to create player")}},f=async h=>{const y=await t.avatarService.generateAvatarByString(l.value);c.value=y,u.value=await eo.fileToDataURL(y)};return Bt(async()=>{const h=await t.avatarService.generateAvatarByString(crypto.randomUUID());u.value=await eo.fileToDataURL(h)}),(h,y)=>(ee(),ce("div",Jf,[U("form",{onSubmit:Lu(d,["prevent"]),"data-testid":"player-form",class:"flex flex-col items-center gap-4"},[U("img",{"data-testid":"player-avatar",class:"aspect-square w-32",src:u.value},null,8,Yf),ua(U("input",{type:"text",onInput:f,"onUpdate:modelValue":y[0]||(y[0]=_=>l.value=_),"data-testid":"player-username-input",class:"input"},null,544),[[Na,l.value]]),y[1]||(y[1]=U("input",{type:"submit","data-testid":"player-submit",class:"btn btn-lg btn-primary w-full"},null,-1))],32)]))}}),Xf=zd({history:_d("/supahoot/"),routes:[{path:"/admin",name:"admin",component:Cf},{path:"/admin/quiz/:quizId/lobby/:lobbyId",name:"admin-lobby",component:Ef},{path:"/admin/quiz/:quizId/lobby/:lobbyId/awards",name:"admin-awards",component:Qd},{path:"/",name:"home",component:Af},{path:"/quiz/:quizId/lobby/:lobbyId",component:jf,children:[{path:"",name:"player-lobby",component:Zf},{path:"before-start",name:"player-lobby-before-quiz-starts",component:$f},{path:"quiz-started",name:"player-quiz",component:Gf}]}]}),eh="modulepreload",th=function(e){return"/supahoot/"+e},to={},yn=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=th(l),l in to)return;to[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":eh,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},nh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>yn(async()=>{const{default:r}=await Promise.resolve().then(()=>vn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Zs extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class rh extends Zs{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class sh extends Zs{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ih extends Zs{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vs;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vs||(vs={}));var oh=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class ah{constructor(t,{headers:n={},customFetch:r,region:s=vs.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=nh(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return oh(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(y=>{throw new rh(y)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new sh(u);if(!u.ok)throw new ih(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield u.json():f==="application/octet-stream"?h=yield u.blob():f==="text/event-stream"?h=u:f==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(s){return{data:null,error:s}}})}}function lh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ch(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var ve={},Qt={},Gt={},Jt={},Yt={},Zt={},uh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_n=uh();const dh=_n.fetch,tl=_n.fetch.bind(_n),nl=_n.Headers,fh=_n.Request,hh=_n.Response,vn=Object.freeze(Object.defineProperty({__proto__:null,Headers:nl,Request:fh,Response:hh,default:tl,fetch:dh},Symbol.toStringTag,{value:"Module"})),ph=ch(vn);var ir={},no;function rl(){if(no)return ir;no=1,Object.defineProperty(ir,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ir.default=e,ir}var ro;function sl(){if(ro)return Zt;ro=1;var e=Zt&&Zt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Zt,"__esModule",{value:!0});const t=e(ph),n=e(rl());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f;let h=null,y=null,_=null,v=c.status,C=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=j:y=JSON.parse(j))}const P=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),S=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");P&&S&&S.length>1&&(_=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(h={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,_=null,v=406,C="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const P=await c.text();try{h=JSON.parse(P),Array.isArray(h)&&c.status===404&&(y=[],h=null,v=200,C="OK")}catch{c.status===404&&P===""?(v=204,C="No Content"):h={message:P}}if(h&&this.isMaybeSingle&&(!((f=h==null?void 0:h.details)===null||f===void 0)&&f.includes("0 rows"))&&(h=null,v=200,C="OK"),h&&this.shouldThrowOnError)throw new n.default(h)}return{error:h,data:y,count:_,status:v,statusText:C}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}}return Zt.default=r,Zt}var so;function il(){if(so)return Yt;so=1;var e=Yt&&Yt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yt,"__esModule",{value:!0});const t=e(sl());class n extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const d=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${f}"; options=${d};`,c==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Yt.default=n,Yt}var io;function Xs(){if(io)return Jt;io=1;var e=Jt&&Jt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jt,"__esModule",{value:!0});const t=e(il());class n extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${l}fts${c}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return Jt.default=n,Jt}var oo;function ol(){if(oo)return Gt;oo=1;var e=Gt&&Gt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gt,"__esModule",{value:!0});const t=e(Xs());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=i,this.schema=o,this.fetch=a}select(s,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const c=(s??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(s)){const c=s.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(s)){const d=s.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const i="DELETE",o=[];return s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Gt.default=n,Gt}var Pn={},Cn={},ao;function gh(){return ao||(ao=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.version=void 0,Cn.version="0.0.0-automated"),Cn}var lo;function mh(){if(lo)return Pn;lo=1,Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.DEFAULT_HEADERS=void 0;const e=gh();return Pn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Pn}var co;function yh(){if(co)return Qt;co=1;var e=Qt&&Qt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Qt,"__esModule",{value:!0});const t=e(ol()),n=e(Xs()),r=mh();class s{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){let d;const f=new URL(`${this.url}/rpc/${o}`);let h;l||c?(d=l?"HEAD":"GET",Object.entries(a).filter(([_,v])=>v!==void 0).map(([_,v])=>[_,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([_,v])=>{f.searchParams.append(_,v)})):(d="POST",h=a);const y=Object.assign({},this.headers);return u&&(y.Prefer=`count=${u}`),new n.default({method:d,url:f,headers:y,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return Qt.default=s,Qt}var uo;function _h(){if(uo)return ve;uo=1;var e=ve&&ve.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ve,"__esModule",{value:!0}),ve.PostgrestError=ve.PostgrestBuilder=ve.PostgrestTransformBuilder=ve.PostgrestFilterBuilder=ve.PostgrestQueryBuilder=ve.PostgrestClient=void 0;const t=e(yh());ve.PostgrestClient=t.default;const n=e(ol());ve.PostgrestQueryBuilder=n.default;const r=e(Xs());ve.PostgrestFilterBuilder=r.default;const s=e(il());ve.PostgrestTransformBuilder=s.default;const i=e(sl());ve.PostgrestBuilder=i.default;const o=e(rl());return ve.PostgrestError=o.default,ve.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},ve}var vh=_h();const bh=lh(vh),{PostgrestClient:wh,PostgrestQueryBuilder:Tg,PostgrestFilterBuilder:Og,PostgrestTransformBuilder:$g,PostgrestBuilder:Ig,PostgrestError:jg}=bh,Eh="2.11.2",Sh={"X-Client-Info":`realtime-js/${Eh}`},xh="1.0.0",al=1e4,Ph=1e3;var fn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fn||(fn={}));var Ne;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ne||(Ne={}));var We;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(We||(We={}));var bs;(function(e){e.websocket="websocket"})(bs||(bs={}));var Lt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Lt||(Lt={}));class Ch{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class ll{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ie||(ie={}));const fo=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=kh(o,e,t,s),i),{})},kh=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?cl(i,o):ws(o)},cl=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Oh(t,n)}switch(e){case ie.bool:return Ah(t);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return Rh(t);case ie.json:case ie.jsonb:return Th(t);case ie.timestamp:return $h(t);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return ws(t);default:return ws(t)}},ws=e=>e,Ah=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Rh=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Th=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Oh=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>cl(t,a))}return e},$h=e=>typeof e=="string"?e.replace(" ","T"):e,ul=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Xr{constructor(t,n,r={},s=al){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ho;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ho||(ho={}));class Fn{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Fn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Fn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const f=u.map(v=>v.presence_ref),h=d.map(v=>v.presence_ref),y=u.filter(v=>h.indexOf(v.presence_ref)<0),_=d.filter(v=>f.indexOf(v.presence_ref)<0);y.length>0&&(a[c]=y),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);t[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var po;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(po||(po={}));var go;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(go||(go={}));var ft;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ft||(ft={}));class ei{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xr(this,We.join,this.params,this.timeout),this.rejoinTimer=new ll(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ne.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Fn(this),this.broadcastEndpointURL=ul(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(ft.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(ft.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){t==null||t(ft.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,y=[];for(let _=0;_<h;_++){const v=f[_],{filter:{event:C,schema:k,table:P,filter:S}}=v,j=u&&u[_];if(j&&j.event===C&&j.schema===k&&j.table===P&&j.filter===S)y.push(Object.assign(Object.assign({},v),{id:j.id}));else{this.unsubscribe(),t==null||t(ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(ft.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ne.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Xr(this,We.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Xr(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=We;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var y,_,v;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(_=h.filter)===null||_===void 0?void 0:_.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(h=>h.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var y,_,v,C,k,P;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const S=h.id,j=(y=h.filter)===null||y===void 0?void 0:y.event;return S&&((_=n.ids)===null||_===void 0?void 0:_.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(k=(C=h==null?void 0:h.filter)===null||C===void 0?void 0:C.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return S==="*"||S===((P=n==null?void 0:n.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:_,table:v,commit_timestamp:C,type:k,errors:P}=y;f=Object.assign(Object.assign({},{schema:_,table:v,commit_timestamp:C,eventType:k,new:{},old:{},errors:P}),this._getPayloadRecords(y))}h.callback(f,r)})}_isClosed(){return this.state===Ne.closed}_isJoined(){return this.state===Ne.joined}_isJoining(){return this.state===Ne.joining}_isLeaving(){return this.state===Ne.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ei.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(We.close,{},t)}_onError(t){this._on(We.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=fo(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=fo(t.columns,t.old_record)),n}}const Ih=()=>{},jh=typeof WebSocket<"u",Lh=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Mh{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Sh,this.params={},this.timeout=al,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ih,this.conn=null,this.sendBuffer=[],this.serializer=new Ch,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>yn(async()=>{const{default:l}=await Promise.resolve().then(()=>vn);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${bs.websocket}`,this.httpEndpoint=ul(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ll(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(jh){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Dh(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),yn(async()=>{const{default:t}=await import("./browser-BRTssgba.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xh}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fn.connecting:return Lt.Connecting;case fn.open:return Lt.Open;case fn.closing:return Lt.Closing;default:return Lt.Closed}}isConnected(){return this.connectionState()===Lt.Open}channel(t,n={config:{}}){const r=new ei(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(We.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Ph,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(We.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Lh],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Dh{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=fn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class ti extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function be(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Nh extends ti{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Es extends ti{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Uh=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const dl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>yn(async()=>{const{default:r}=await Promise.resolve().then(()=>vn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Fh=()=>Uh(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yn(()=>Promise.resolve().then(()=>vn),void 0)).Response:Response}),Ss=e=>{if(Array.isArray(e))return e.map(n=>Ss(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ss(r)}),t};var qt=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const es=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zh=(e,t,n)=>qt(void 0,void 0,void 0,function*(){const r=yield Fh();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Nh(es(s),e.status||500))}).catch(s=>{t(new Es(es(s),s))}):t(new Es(es(e),e))}),Bh=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Xn(e,t,n,r,s,i){return qt(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,Bh(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>zh(l,a,r))})})}function wr(e,t,n,r){return qt(this,void 0,void 0,function*(){return Xn(e,"GET",t,n,r)})}function St(e,t,n,r,s){return qt(this,void 0,void 0,function*(){return Xn(e,"POST",t,r,s,n)})}function qh(e,t,n,r,s){return qt(this,void 0,void 0,function*(){return Xn(e,"PUT",t,r,s,n)})}function Hh(e,t,n,r){return qt(this,void 0,void 0,function*(){return Xn(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function fl(e,t,n,r,s){return qt(this,void 0,void 0,function*(){return Xn(e,"DELETE",t,r,s,n)})}var $e=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Vh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kh{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=dl(s)}uploadOrUpdate(t,n,r,s){return $e(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},mo),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(be(i))return{data:null,error:i};throw i}})}upload(t,n,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return $e(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:mo.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(be(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return $e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield St(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ti("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}update(t,n,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return $e(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}copy(t,n,r){return $e(this,void 0,void 0,function*(){try{return{data:{path:(yield St(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return $e(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield St(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return $e(this,void 0,void 0,function*(){try{const s=yield St(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}download(t,n){return $e(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield wr(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(be(a))return{data:null,error:a};throw a}})}info(t){return $e(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield wr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ss(r),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}exists(t){return $e(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Hh(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(be(r)&&r instanceof Es){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return $e(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}list(t,n,r){return $e(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Vh),n),{prefix:t||""});return{data:yield St(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Wh="2.7.1",Qh={"X-Client-Info":`storage-js/${Wh}`};var Xt=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Gh{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Qh),n),this.fetch=dl(r)}listBuckets(){return Xt(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(be(t))return{data:null,error:t};throw t}})}getBucket(t){return Xt(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Xt(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Xt(this,void 0,void 0,function*(){try{return{data:yield qh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Xt(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Xt(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}}class Jh extends Gh{constructor(t,n={},r){super(t,n,r)}from(t){return new Kh(this.url,this.headers,t,this.fetch)}}const Yh="2.48.1";let Rn="";typeof Deno<"u"?Rn="deno":typeof document<"u"?Rn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rn="react-native":Rn="node";const Zh={"X-Client-Info":`supabase-js-${Rn}/${Yh}`},Xh={headers:Zh},ep={schema:"public"},tp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},np={};var rp=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const sp=e=>{let t;return e?t=e:typeof fetch>"u"?t=tl:t=fetch,(...n)=>t(...n)},ip=()=>typeof Headers>"u"?nl:Headers,op=(e,t,n)=>{const r=sp(n),s=ip();return(i,o)=>rp(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var ap=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function lp(e){return e.replace(/\/$/,"")}function cp(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>ap(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const hl="2.67.3",up="http://localhost:9999",dp="supabase.auth.token",fp={"X-Client-Info":`gotrue-js/${hl}`},yo=10,xs="X-Supabase-Api-Version",pl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function hp(e){return Math.round(Date.now()/1e3)+e}function pp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const tt=()=>typeof window<"u"&&typeof document<"u",$t={tested:!1,writable:!1},zn=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($t.tested)return $t.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),$t.tested=!0,$t.writable=!0}catch{$t.tested=!0,$t.writable=!1}return $t.writable};function gp(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const gl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>yn(async()=>{const{default:r}=await Promise.resolve().then(()=>vn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},mp=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ml=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},or=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ar=async(e,t)=>{await e.removeItem(t)};function yp(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,c,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)o=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Nr{constructor(){this.promise=new Nr.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Nr.promiseConstructor=Promise;function _o(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(yp(r))}async function _p(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function vp(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function bp(e){return("0"+e.toString(16)).substr(-2)}function wp(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,bp).join("")}async function Ep(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function Sp(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xp(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Ep(e);return Sp(n)}async function en(e,t,n=!1){const r=wp();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ml(e,`${t}-code-verifier`,s);const i=await xp(r);return[i,r===i?"plain":"s256"]}const Pp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cp(e){const t=e.headers.get(xs);if(!t||!t.match(Pp))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class ni extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function V(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class kp extends ni{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Ap(e){return V(e)&&e.name==="AuthApiError"}class yl extends ni{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ht extends ni{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class _t extends Ht{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rp(e){return V(e)&&e.name==="AuthSessionMissingError"}class ts extends Ht{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lr extends Ht{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class cr extends Ht{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tp(e){return V(e)&&e.name==="AuthImplicitGrantRedirectError"}class vo extends Ht{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ps extends Ht{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ns(e){return V(e)&&e.name==="AuthRetryableFetchError"}class bo extends Ht{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Op=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const jt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$p=[502,503,504];async function wo(e){var t;if(!mp(e))throw new Ps(jt(e),0);if($p.includes(e.status))throw new Ps(jt(e),e.status);let n;try{n=await e.json()}catch(i){throw new yl(jt(i),i)}let r;const s=Cp(e);if(s&&s.getTime()>=pl["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new bo(jt(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new _t}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new bo(jt(n),e.status,n.weak_password.reasons);throw new kp(jt(n),e.status||500,r)}const Ip=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function K(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[xs]||(i[xs]=pl["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await jp(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function jp(e,t,n,r,s,i){const o=Ip(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Ps(jt(l),0)}if(a.ok||await wo(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await wo(l)}}function vt(e){var t;let n=null;Np(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=hp(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Eo(e){const t=vt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Lp(e){return{data:e,error:null}}function Mp(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Op(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Dp(e){return e}function Np(e){return e.access_token&&e.refresh_token&&e.expires_in}var Up=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Fp{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=gl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xt})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Up(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Mp,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(V(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xt})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Dp});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);c[`${v}Page`]=_}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(V(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await K(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xt})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:xt})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:xt})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await K(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(V(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}}const zp={getItem:e=>zn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{zn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{zn()&&globalThis.localStorage.removeItem(e)}};function So(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Bp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const tn={debug:!!(globalThis&&zn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _l extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class qp extends _l{}async function Hp(e,t,n){tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),tn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new qp(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(tn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Bp();const Vp={url:up,storageKey:dp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},kn=30*1e3,xo=3;async function Po(e,t,n){return await n()}class Gn{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gn.nextInstanceID,Gn.nextInstanceID+=1,this.instanceID>0&&tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Vp),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Fp({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=gl(s.fetch),this.lock=s.lock||Po,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:tt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Hp:this.lock=Po,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:zn()?this.storage=zp:(this.memoryStorage={},this.storage=So(this.memoryStorage)):(this.memoryStorage={},this.storage=So(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hl}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=gp(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),tt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Tp(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return V(n)?{error:n}:{error:new yl("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:vt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:u,password:d,options:f}=t;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await en(this.storage,this.storageKey)),i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:y},xform:vt})}else if("phone"in t){const{phone:u,password:d,options:f}=t;i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:vt})}else throw new lr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Eo})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Eo})}else throw new lr("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ts}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await or(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:vt});if(await ar(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ts}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(V(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:vt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ts}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await en(this.storage,this.storageKey));const{error:d}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new lr("You must provide either an email or phone number.")}catch(a){if(V(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:vt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await en(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Lp})}catch(i){if(V(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new _t;const{error:s}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(V(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await K(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await K(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new lr("You must provide either an email or phone number and a type")}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _t}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:xt})})}catch(n){if(V(n))return Rp(n)&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new _t;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await en(this.storage,this.storageKey));const{data:c,error:u}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:xt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return _o(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new _t;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=_o(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(V(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new _t;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!tt())throw new cr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new cr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new vo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cr("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vo("No code detected.");const{data:k,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new cr("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const h=f-u;h*1e3<=kn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const y=f-d;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,u);const{data:_,error:v}=await this._getUser(i);if(v)throw v;const C={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:t.type},error:null}}catch(r){if(V(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await or(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Ap(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=pp(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await en(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(V(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return tt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(V(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await vp(async s=>(s>0&&await _p(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:vt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ns(i)&&Date.now()+o-r<kn})}catch(r){if(this._debug(n,"error",r),V(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),tt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await or(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+yo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${yo}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),ns(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new _t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Nr;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new _t;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),V(i)){const o={session:null,error:i};return ns(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ml(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ar(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),kn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/kn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${kn}ms, refresh threshold is ${xo} ticks`),s<=xo&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _l)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await en(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await K(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await K(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Gn.nextInstanceID=0;const Kp=Gn;class Wp extends Kp{constructor(t){super(t)}}var Qp=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Gp{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=lp(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:ep,realtime:np,auth:Object.assign(Object.assign({},tp),{storageKey:l}),global:Xh},u=cp(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=op(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new wh(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new ah(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Jh(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Qp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wp({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Mh(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Jp=(e,t,n)=>new Gp(e,t,n);class Yp{constructor(){tr(this,"supabase",Jp("https://dnsewtyjyfqpkugrwhmq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRuc2V3dHlqeWZxcGt1Z3J3aG1xIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY2NTc0ODUsImV4cCI6MjA1MjIzMzQ4NX0.OPESoZ2-AJfV3TvfKxemcLjmn9730bRd5DVXAlJxPbQ"));tr(this,"channels",{});tr(this,"eventListeners",{listenForNewPlayers:[],startQuiz:[],updateCountdownBeforeAnswer:[],updateAnsweringCountdown:[],listenQuestion:[],listenPlayerQuestionPoints:[]})}async getQuizzes(){const{error:t,data:n}=await this.supabase.from("quizzes").select("*");if(t)throw new Error(t.message);return n}async createLobby(t){const{error:n,data:r}=await this.supabase.from("lobbies").insert({quiz_id:t}).select();if(n)throw new Error(n.message);return r[0]}async getPlayersByLobby(t){const{error:n,data:r}=await this.supabase.from("players").select("*").eq("lobby_id",t),s=r.map(this.generatePlayerWithAvatar.bind(this));if(n)throw new Error(n.message);return s}startListeningForNewPlayers(t,n){this.initializeLobbyChannel(t),this.eventListeners.listenForNewPlayers.push(n)}async stopListeningForNewPlayers(t){this.initializeLobbyChannel(t),this.eventListeners.listenForNewPlayers=[]}async createPlayerByLobbyId(t,n,r){const{error:s,data:i}=await this.supabase.storage.from("player-avatars").upload(`public/${t}_${n}.jpeg`,r);if(s)throw new Error(s.message);const{error:o,data:a}=await this.supabase.from("players").insert({lobby_id:t,username:n,image:i.path}).select();if(o)throw new Error(o.message);return this.generatePlayerWithAvatar(a[0])}async startQuiz(t){if(await this.initializeLobbyChannel(t).send({type:"broadcast",event:"start_quiz"})!=="ok")throw new Error("Failed to start quiz")}async getQuizByLobbyId(t){const{error:n,data:r}=await this.supabase.from("lobbies").select("quizzes(*)").eq("id",t);if(n)throw new Error(n.message);return r[0].quizzes}listenQuizStart(t,n){this.initializeLobbyChannel(t),this.eventListeners.startQuiz.push(n)}listenQuestion(t,n){this.initializeLobbyChannel(t),this.eventListeners.listenQuestion.push(n)}async sendAnswer(t,n,r,s){const{error:i,data:o}=await this.supabase.rpc("register_answer",{lobby_id_input:t,player_id_input:n,question_id_input:r,answer_id_input:s});if(i)throw new Error(i.message);return o.length===0?null:o.map(({answer_id:a,created_at:l,id:c,player_id:u,points:d})=>({answerId:a,createdAt:l,id:c,playerId:u,points:d}))[0]}listenPlayerQuestionPoints(t,n,r){this.initializeLobbyChannel(t),this.eventListeners.listenPlayerQuestionPoints.push({playerId:n,callback:r})}updateCountdownBeforeAnswer(t,n){this.initializeLobbyChannel(t).send({type:"broadcast",event:"update_countdown_before_answer",payload:{count:n}})}listenUpdateCountdownBeforeAnswer(t,n){this.initializeLobbyChannel(t),this.eventListeners.updateCountdownBeforeAnswer.push(n)}updateAnsweringCountdown(t,n){this.initializeLobbyChannel(t).send({type:"broadcast",event:"update_answering_countdown",payload:{count:n}})}listenUpdateAnsweringCountdown(t,n){this.initializeLobbyChannel(t),this.eventListeners.updateAnsweringCountdown.push(n)}sendQuestion(t,n){this.initializeLobbyChannel(t).send({type:"broadcast",event:"send_question",payload:n})}async getQuizWithQuestionsAndAnswersByQuizId(t){const{data:n,error:r}=await this.supabase.from("quizzes").select(`
        *,
        questions (
          *,
          answers (*, isCorrect:is_correct)
        )
      `).eq("id",t);if(r)throw new Error(r.message);return n[0]}async getPlayerCountPerAnswerInQuestionByLobbyIdAndQuestionId(t,n){const{data:r,error:s}=await this.supabase.rpc("get_answer_counts",{lobby_id_input:t,question_id_input:n});if(s)throw new Error(s.message);return r.map(({answer_id:i,player_count:o})=>({answerId:i,playerCount:o}))}initializeLobbyChannel(t){if(this.channels[`lobby-${t}`])return this.channels[`lobby-${t}`];const n=this.supabase.channel(`lobby-${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"players",filter:`lobby_id=eq.${t}`},r=>{const s={...r.new,image:this.getPlayerAvatarUrl(r.new)};this.eventListeners.listenForNewPlayers.forEach(i=>{i(s)})}).on("postgres_changes",{event:"INSERT",schema:"public",table:"players_answers"},r=>{this.eventListeners.listenPlayerQuestionPoints.forEach(({playerId:s,callback:i})=>{r.new.playerId===s&&i(r.new)})}).on("broadcast",{event:"start_quiz"},r=>{this.eventListeners.startQuiz.forEach(s=>{s()})}).on("broadcast",{event:"update_countdown_before_answer"},r=>{this.eventListeners.updateCountdownBeforeAnswer.forEach(s=>{s(r.payload.count)})}).on("broadcast",{event:"update_answering_countdown"},r=>{this.eventListeners.updateAnsweringCountdown.forEach(s=>{s(r.payload.count)})}).on("broadcast",{event:"send_question"},r=>{this.eventListeners.listenQuestion.forEach(s=>{s(r.payload)})}).subscribe();return this.channels[`lobby-${t}`]=n,n}generatePlayerWithAvatar(t){return{...t,image:this.getPlayerAvatarUrl(t)}}getPlayerAvatarUrl(t){const{data:{publicUrl:n}}=this.supabase.storage.from("player-avatars").getPublicUrl(t.image);return n}}function Mt(e){return e.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Zp(e){var t,n,r,s,i,o,a;const l=(t=e.meta)===null||t===void 0?void 0:t.title,c=(n=e.meta)===null||n===void 0?void 0:n.creator,u=(r=e.meta)===null||r===void 0?void 0:r.source,d=(i=(s=e.meta)===null||s===void 0?void 0:s.license)===null||i===void 0?void 0:i.url,f=Xp(e);return!l&&!c&&!u&&!d&&!f?"":'<metadata xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"><rdf:RDF><rdf:Description>'+(l?`<dc:title>${Mt(l)}</dc:title>`:"")+(c?`<dc:creator>${Mt(c)}</dc:creator>`:"")+(u?`<dc:source xsi:type="dcterms:URI">${Mt((a=(o=e.meta)===null||o===void 0?void 0:o.source)!==null&&a!==void 0?a:"")}</dc:source>`:"")+(d?`<dcterms:license xsi:type="dcterms:URI">${Mt(d)}</dcterms:license>`:"")+(f?`<dc:rights>${Mt(f)}</dc:rights>`:"")+"</rdf:Description></rdf:RDF></metadata>"}function Xp(e){var t,n,r,s,i,o,a,l,c,u,d,f,h,y,_;let v=!((t=e.meta)===null||t===void 0)&&t.title?`${(n=e.meta)===null||n===void 0?void 0:n.title}`:"Design",C=`${(s=(r=e.meta)===null||r===void 0?void 0:r.creator)!==null&&s!==void 0?s:"Unknown"}`;!((i=e.meta)===null||i===void 0)&&i.source&&(v+=` (${e.meta.source})`);let k="";return((a=(o=e.meta)===null||o===void 0?void 0:o.license)===null||a===void 0?void 0:a.name)!=="MIT"&&((l=e.meta)===null||l===void 0?void 0:l.creator)!=="DiceBear"&&(!((c=e.meta)===null||c===void 0)&&c.title)&&(k+="Remix of "),k+=`${v} by ${C}`,!((d=(u=e.meta)===null||u===void 0?void 0:u.license)===null||d===void 0)&&d.name&&(k+=`, licensed under ${(h=(f=e.meta)===null||f===void 0?void 0:f.license)===null||h===void 0?void 0:h.name}`,!((_=(y=e.meta)===null||y===void 0?void 0:y.license)===null||_===void 0)&&_.url&&(k+=` (${e.meta.license.url})`)),k}const Co=-2147483648,eg=2147483647;function vl(e){return e^=e<<13,e^=e>>17,e^=e<<5,e}function tg(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0,t=vl(t);return t}function Er(e=""){e=e.toString();let t=tg(e)||1;const n=()=>t=vl(t),r=(s,i)=>Math.floor((n()-Co)/(eg-Co)*(i+1-s)+s);return{seed:e,next:n,bool(s=50){return r(1,100)<=s},integer(s,i){return r(s,i)},pick(s,i){var o;return s.length===0?(n(),i):(o=s[r(0,s.length-1)])!==null&&o!==void 0?o:i},shuffle(s){const i=Er(n().toString()),o=[...s];for(let a=o.length-1;a>0;a--){const l=i.integer(0,a);[o[a],o[l]]=[o[l],o[a]]}return o},string(s,i="abcdefghijklmnopqrstuvwxyz1234567890"){const o=Er(n().toString());let a="";for(let l=0;l<s;l++)a+=i[o.integer(0,i.length-1)];return a}}}function bn(e){let t=e.attributes.viewBox.split(" "),n=parseInt(t[0]),r=parseInt(t[1]),s=parseInt(t[2]),i=parseInt(t[3]);return{x:n,y:r,width:s,height:i}}function ng(e,t,n,r,s){let{width:i,height:o,x:a,y:l}=bn(e);const c=`<rect fill="${t}" width="${i}" height="${o}" x="${a}" y="${l}" />`;switch(r){case"solid":return c+e.body;case"gradientLinear":return`<rect fill="url(#backgroundLinear)" width="${i}" height="${o}" x="${a}" y="${l}" /><defs><linearGradient id="backgroundLinear" gradientTransform="rotate(${s} 0.5 0.5)"><stop stop-color="${t}"/><stop offset="1" stop-color="${n}"/></linearGradient></defs>`+e.body}}function rg(e,t){let{width:n,height:r,x:s,y:i}=bn(e),o=t?(t-100)/100:0,a=(n/2+s)*o*-1,l=(r/2+i)*o*-1;return`<g transform="translate(${a} ${l}) scale(${t/100})">${e.body}</g>`}function sg(e,t,n){let r=bn(e),s=(r.width+r.x*2)*((t??0)/100),i=(r.height+r.y*2)*((n??0)/100);return`<g transform="translate(${s} ${i})">${e.body}</g>`}function ig(e,t){let{width:n,height:r,x:s,y:i}=bn(e);return`<g transform="rotate(${t}, ${n/2+s}, ${r/2+i})">${e.body}</g>`}function og(e){let{width:t,x:n}=bn(e);return`<g transform="scale(-1 1) translate(${t*-1-n*2} 0)">${e.body}</g>`}function ag(e,t){let{width:n,height:r,x:s,y:i}=bn(e),o=t?n*t/100:0,a=t?r*t/100:0;return`<mask id="viewboxMask"><rect width="${n}" height="${r}" rx="${o}" ry="${a}" x="${s}" y="${i}" fill="#fff" /></mask><g mask="url(#viewboxMask)">${e.body}</g>`}function lg(e){const t={xmlns:"http://www.w3.org/2000/svg",...e.attributes};return Object.keys(t).map(n=>`${Mt(n)}="${Mt(t[n])}"`).join(" ")}function cg(e){const t=Er(Math.random().toString()),n={};return e.body.replace(/(id="|url\(#)([a-z0-9-_]+)([")])/gi,(r,s,i,o)=>(n[i]=n[i]||t.string(8),`${s}${n[i]}${o}`))}const ug={properties:{seed:{type:"string"},flip:{type:"boolean",default:!1},rotate:{type:"integer",minimum:0,maximum:360,default:0},scale:{type:"integer",minimum:0,maximum:200,default:100},radius:{type:"integer",minimum:0,maximum:50,default:0},size:{type:"integer",minimum:1},backgroundColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"}},backgroundType:{type:"array",items:{type:"string",enum:["solid","gradientLinear"]},default:["solid"]},backgroundRotation:{type:"array",items:{type:"integer",minimum:-360,maximum:360},default:[0,360]},translateX:{type:"integer",minimum:-100,maximum:100,default:0},translateY:{type:"integer",minimum:-100,maximum:100,default:0},clip:{type:"boolean",default:!0},randomizeIds:{type:"boolean",default:!1}}};function ko(e){var t;let n={},r=(t=e.properties)!==null&&t!==void 0?t:{};return Object.keys(r).forEach(s=>{let i=r[s];typeof i=="object"&&i.default!==void 0&&(Array.isArray(i.default)?n[s]=[...i.default]:typeof i.default=="object"?n[s]={...i.default}:n[s]=i.default)}),n}function dg(e,t){var n;let r={...ko(ug),...ko((n=e.schema)!==null&&n!==void 0?n:{}),...t};return JSON.parse(JSON.stringify(r))}function Ao(e){return e==="transparent"?e:`#${e}`}function fg(e,t,n){var r;let s=e.shuffle(t);s.length<=1||t.length==2&&n=="gradientLinear"?(s=t,e.next()):s=e.shuffle(t),s.length===0&&(s=["transparent"]);const i=s[0],o=(r=s[1])!==null&&r!==void 0?r:s[0];return{primary:Ao(i),secondary:Ao(o)}}function hg(e,t={}){var n,r,s,i,o;t=dg(e,t);const a=Er(t.seed),l=e.create({prng:a,options:t}),c=a.pick((n=t.backgroundType)!==null&&n!==void 0?n:[],"solid"),{primary:u,secondary:d}=fg(a,(r=t.backgroundColor)!==null&&r!==void 0?r:[],c),f=a.integer(!((s=t.backgroundRotation)===null||s===void 0)&&s.length?Math.min(...t.backgroundRotation):0,!((i=t.backgroundRotation)===null||i===void 0)&&i.length?Math.max(...t.backgroundRotation):0);t.size&&(l.attributes.width=t.size.toString(),l.attributes.height=t.size.toString()),t.scale!==void 0&&t.scale!==100&&(l.body=rg(l,t.scale)),t.flip&&(l.body=og(l)),t.rotate&&(l.body=ig(l,t.rotate)),(t.translateX||t.translateY)&&(l.body=sg(l,t.translateX,t.translateY)),u!=="transparent"&&d!=="transparent"&&(l.body=ng(l,u,d,c,f)),(t.radius||t.clip)&&(l.body=ag(l,(o=t.radius)!==null&&o!==void 0?o:0)),t.randomizeIds&&(l.body=cg(l));const h=lg(l),y=Zp(e),_=`<svg ${h}>${y}${l.body}</svg>`;return{toString:()=>_,toJson:()=>{var v;return{svg:_,extra:{primaryBackgroundColor:u,secondaryBackgroundColor:d,backgroundType:c,backgroundRotation:f,...(v=l.extra)===null||v===void 0?void 0:v.call(l)}}},toDataUri:()=>`data:image/svg+xml;utf8,${encodeURIComponent(_)}`}}const pg={bite:(e,t)=>'<rect x="4" y="5" width="68" height="22" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="9" width="60" height="14" rx="2" fill="#000" fill-opacity=".6"/><path fill-rule="evenodd" clip-rule="evenodd" d="m20 17 6-8H14l6 8ZM32 17l6-8H26l6 8ZM44 17l6-8H38l6 8ZM56 17l6-8H50l6 8Z" fill="#E1E6E8"/>',diagram:(e,t)=>'<rect x="4" y="4" width="68" height="24" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="8" width="60" height="16" rx="2" fill="#000" fill-opacity=".8"/><path d="M9 17h11l2-4 3 7 4-8 2 9 3-11 3 10 3-3h15l3-4 2 7 3-3h4" stroke="#4EFAC9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>',grill01:(e,t)=>'<g fill="#000" fill-opacity=".6"><rect x="12" y="12" width="4" height="8" rx="2"/><rect x="36" y="12" width="4" height="8" rx="2"/><rect x="24" y="12" width="4" height="8" rx="2"/><rect x="48" y="12" width="4" height="8" rx="2"/><rect x="60" y="12" width="4" height="8" rx="2"/></g>',grill02:(e,t)=>'<g fill="#000" fill-opacity=".6"><rect x="28" y="10" width="6" height="14" rx="2"/><rect x="14" y="10" width="6" height="14" rx="2"/><rect x="42" y="10" width="6" height="14" rx="2"/><rect x="56" y="10" width="6" height="14" rx="2"/></g>',grill03:(e,t)=>'<rect x="4" y="5" width="68" height="22" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="9" width="60" height="14" rx="2" fill="#fff"/><path fill="#000" fill-opacity=".1" d="M18 9h4v14h-4zM42 9h4v14h-4zM30 9h4v14h-4zM54 9h4v14h-4z"/>',smile01:(e,t)=>'<path d="M27.05 8.44a2 2 0 1 1 3.9-.88C31.72 10.96 34.4 13 38 13c3.6 0 6.28-2.04 7.05-5.44a2 2 0 1 1 3.9.88C47.75 13.7 43.43 17 38 17s-9.76-3.3-10.95-8.56Z" fill="#000" fill-opacity=".6"/>',smile02:(e,t)=>'<path fill-rule="evenodd" clip-rule="evenodd" d="M18 10.22C18 21.78 24.47 28 38 28c13.52 0 20-6.34 20-17.78C58 9.5 57.17 8 55 8H21c-2.05 0-3 1.38-3 2.22Z" fill="#000" fill-opacity=".8"/><mask id="mouthSmile02-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="18" y="8" width="40" height="20"><path fill-rule="evenodd" clip-rule="evenodd" d="M18 10.22C18 21.78 24.47 28 38 28c13.52 0 20-6.34 20-17.78C58 9.5 57.17 8 55 8H21c-2.05 0-3 1.38-3 2.22Z" fill="#fff"/></mask><g mask="url(#mouthSmile02-a)"><rect x="30" y="2" width="16" height="14" rx="2" fill="#fff"/></g>',square01:(e,t)=>'<rect x="24" y="6" width="27" height="8" rx="4" fill="#000" fill-opacity=".8"/>',square02:(e,t)=>'<rect x="16" y="8" width="44" height="4" rx="2" fill="#000" fill-opacity=".8"/>'},gg={bulging:(e,t)=>'<circle cx="28" cy="24" r="18" fill="#000" fill-opacity=".2"/><circle cx="74" cy="24" r="18" fill="#000" fill-opacity=".2"/><circle cx="28" cy="24" r="15" fill="#F1EEDA"/><circle cx="74" cy="24" r="15" fill="#F1EEDA"/><rect x="26" y="15" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/><rect x="74" y="15" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/>',dizzy:(e,t)=>'<path d="m25 27.2 5.5 5.5c.5.4 1.2.4 1.6 0l1.6-1.6c.4-.5.4-1.2 0-1.6L28.2 24l5.5-5.5c.4-.5.4-1.2 0-1.6l-1.6-1.6c-.5-.4-1.2-.4-1.6 0L25 20.8l-5.5-5.5c-.5-.4-1.2-.4-1.6 0l-1.6 1.6c-.4.4-.4 1.1 0 1.6l5.5 5.5-5.5 5.5c-.4.5-.4 1.2 0 1.6l1.6 1.6c.5.4 1.2.4 1.6 0l5.5-5.5ZM79 27.2l5.5 5.5c.5.4 1.2.4 1.6 0l1.6-1.6c.4-.5.4-1.2 0-1.6L82.2 24l5.5-5.5c.4-.5.4-1.2 0-1.6l-1.6-1.6c-.5-.4-1.2-.4-1.6 0L79 20.8l-5.5-5.5c-.5-.4-1.2-.4-1.6 0l-1.6 1.6c-.4.4-.4 1.1 0 1.6l5.5 5.5-5.5 5.5c-.4.5-.4 1.2 0 1.6l1.6 1.6c.5.4 1.2.4 1.6 0l5.5-5.5Z" fill="#000" fill-opacity=".8"/>',eva:(e,t)=>'<g fill-rule="evenodd" clip-rule="evenodd"><path d="M53 0c34.75 0 49 17.47 49 31 0 13.53-19.59 17-49 17-29.05 0-51-3.47-51-17S17.11 0 53 0Z" fill="#000" fill-opacity=".8"/><path d="M28.82 34.65c-6.53-1.35-11.24-6.34-10.52-11.14.72-4.79 6.6-7.58 13.12-6.23 6.53 1.36 11.24 6.35 10.52 11.15-.72 4.8-6.6 7.59-13.12 6.23ZM75.42 34.65c-6.52 1.36-12.4-1.43-13.12-6.23-.72-4.8 4-9.8 10.52-11.15 6.52-1.35 12.4 1.44 13.12 6.24.72 4.81-4 9.8-10.52 11.15Z" fill="#25A6F5"/></g>',frame1:(e,t)=>'<rect y="4" width="104" height="42" rx="4" fill="#000" fill-opacity=".8"/><rect x="28" y="25" width="10" height="11" rx="2" fill="#8BDDFF"/><rect x="66" y="25" width="10" height="11" rx="2" fill="#8BDDFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21 4h8L12 46H4L21 4Z" fill="#fff" fill-opacity=".4"/>',frame2:(e,t)=>'<rect x="8" y="10" width="88" height="36" rx="4" fill="#000" fill-opacity=".8"/><rect x="28" y="21" width="10" height="17" rx="2" fill="#5EF2B8"/><rect x="66" y="21" width="10" height="17" rx="2" fill="#5EF2B8"/><path fill-rule="evenodd" clip-rule="evenodd" d="M83 10h5L76 46h-5l12-36Z" fill="#fff" fill-opacity=".4"/>',glow:(e,t)=>'<g fill="#fff"><circle cx="21" cy="30" r="15" fill-opacity=".1"/><circle cx="83" cy="30" r="15" fill-opacity=".1"/><circle cx="21" cy="30" r="12" fill-opacity=".1"/><circle cx="83" cy="30" r="12" fill-opacity=".1"/><circle cx="21" cy="30" r="6" fill-opacity=".8"/><circle cx="83" cy="30" r="6" fill-opacity=".8"/><circle cx="21" cy="30" r="3" fill-opacity=".8"/><circle cx="83" cy="30" r="3" fill-opacity=".8"/></g>',happy:(e,t)=>'<path d="m18 19 12-2M20 31c0-3.31 2.9-6 7-6 3.1 0 6 2.69 6 6M86 20l-12-3M84 31c0-3.31-2.9-6-6-6-4.1 0-7 2.69-7 6" stroke="#000" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>',hearts:(e,t)=>'<path d="M29.27 9.68c-2.55.13-4.96 2.24-6.25 4.15-1.48-1.76-4.1-3.6-6.65-3.47-5.48.28-8.85 3.8-8.63 8.1.3 5.72 4.88 8.89 9.7 12.24 1.71 1.15 5 4.15 5.42 4.82.42.67 2.14.6 2.58-.13a37.8 37.8 0 0 1 4.9-5.36c4.43-3.84 8.66-7.47 8.36-13.2-.23-4.3-3.95-7.44-9.43-7.15ZM87.63 10.36c-2.55-.14-5.17 1.7-6.65 3.47-1.3-1.9-3.7-4.02-6.25-4.15-5.48-.29-9.2 2.86-9.43 7.16-.3 5.72 3.93 9.35 8.36 13.19 1.6 1.32 4.55 4.64 4.9 5.36.35.7 2.06.82 2.58.13.51-.7 3.7-3.67 5.42-4.82 4.81-3.35 9.4-6.52 9.7-12.24.22-4.3-3.15-7.82-8.63-8.1Z" fill="#FF5353" fill-opacity=".8"/>',robocop:(e,t)=>'<rect x="7" y="16" width="91" height="16" rx="4" fill="#000" fill-opacity=".8"/><mask id="eyesRobocop-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="7" y="16" width="91" height="16"><rect x="7" y="16" width="91" height="16" rx="4" fill="#fff"/></mask><g mask="url(#eyesRobocop-a)" fill-rule="evenodd" clip-rule="evenodd" fill="#fff" fill-opacity=".8"><path d="M76 7h18L82 37H64L76 7ZM52 7h9L49 37h-9L52 7Z"/></g>',round:(e,t)=>'<g fill="#fff"><circle cx="24" cy="30" r="6"/><circle cx="80" cy="30" r="6"/></g>',roundFrame01:(e,t)=>'<rect y="12" width="104" height="32" rx="16" fill="#000" fill-opacity=".8"/><rect x="24" y="22" width="10" height="12" rx="2" fill="#F4F4F4"/><rect x="70" y="22" width="10" height="12" rx="2" fill="#F4F4F4"/>',roundFrame02:(e,t)=>'<rect y="11" width="104" height="34" rx="17" fill="#000" fill-opacity=".8"/><circle cx="29" cy="28" r="13" fill="#F1EEDA"/><circle cx="75" cy="28" r="13" fill="#F1EEDA"/><rect x="24" y="23" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/><rect x="70" y="23" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/>',sensor:(e,t)=>'<path d="M28 44a20 20 0 0 0 19.9-18h41.52a5 5 0 1 0 0-4H47.9A20 20 0 1 0 28 44Z" fill="#000" fill-opacity=".2"/><circle cx="94" cy="24" r="2" fill="#fff"/><circle cx="28" cy="24" r="16" fill="#000" fill-opacity=".6"/><circle cx="34" cy="16" r="3" fill="#fff"/>',shade01:(e,t)=>'<path d="M96 2H8c-4.5 0-8 3.5-8 8.03V28c0 4.5 3.5 8 8 8h13c8 0 11 8 18 8h27c7 0 9-8 17-8h13c4.5 0 8-3.5 8-8V10c0-4.5-3.5-8-8-8Z" fill="#000" fill-opacity=".8"/><path d="M87 14H17c-3.5 0-5 3-5 5v2c0 2 1.5 5 5 5h12c6 0 11.62 8 17 8h14c5.38 0 9-8 15-8h12c3.5 0 5-3 5-5v-2c0-2-1.5-5-5-5Z" fill="#FF3D3D"/><path d="M22.44 36.09 37.26 2h11L31.4 40.78l-.76-.58c-2.38-1.82-4.83-3.69-8.2-4.11ZM11.48 36 26.26 2h4L15.48 36h-4Z" fill="#fff" fill-opacity=".2"/>'},mg=Object.freeze(Object.defineProperty({__proto__:null,eyes:gg,mouth:pg},Symbol.toStringTag,{value:"Module"}));function Ro({prng:e,group:t,values:n=[]}){const r=mg,s=e.pick(n);if(s&&r[t][s])return{name:s,value:r[t][s]}}function yg({prng:e,options:t}){const n=Ro({prng:e,group:"mouth",values:t.mouth}),r=Ro({prng:e,group:"eyes",values:t.eyes});return{mouth:n,eyes:r}}function _g({prng:e,options:t}){return{}}const vg={$schema:"http://json-schema.org/draft-07/schema#",properties:{backgroundColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"},default:["ffb300","1e88e5","546e7a","6d4c41","00acc1","f4511e","5e35b1","43a047","757575","3949ab","039be5","7cb342","c0ca33","fb8c00","d81b60","8e24aa","e53935","00897b","fdd835"]},eyes:{type:"array",items:{type:"string",enum:["bulging","dizzy","eva","frame1","frame2","glow","happy","hearts","robocop","round","roundFrame01","roundFrame02","sensor","shade01"]},default:["bulging","dizzy","eva","frame1","frame2","glow","happy","hearts","robocop","round","roundFrame01","roundFrame02","sensor","shade01"]},mouth:{type:"array",items:{type:"string",enum:["bite","diagram","grill01","grill02","grill03","smile01","smile02","square01","square02"]},default:["bite","diagram","grill01","grill02","grill03","smile01","smile02","square01","square02"]}}},bg={title:"Bottts",creator:"Pablo Stanley",source:"https://bottts.com/",homepage:"https://twitter.com/pablostanley",license:{name:"Free for personal and commercial use",url:"https://bottts.com/"}},wg=({prng:e,options:t})=>{var n,r,s,i;const o=yg({prng:e,options:t}),a=_g({prng:e,options:t});return{attributes:{viewBox:"0 0 120 120",fill:"none","shape-rendering":"auto"},body:`<g transform="translate(22 68)">${(r=(n=o.mouth)===null||n===void 0?void 0:n.value(o,a))!==null&&r!==void 0?r:""}</g><g transform="translate(8 20)">${(i=(s=o.eyes)===null||s===void 0?void 0:s.value(o,a))!==null&&i!==void 0?i:""}</g>`,extra:()=>({...Object.entries(o).reduce((l,[c,u])=>(l[c]=u==null?void 0:u.name,l),{}),...Object.entries(a).reduce((l,[c,u])=>(l[`${c}Color`]=u,l),{})})}},Eg=Object.freeze(Object.defineProperty({__proto__:null,create:wg,meta:bg,schema:vg},Symbol.toStringTag,{value:"Module"}));function Cs(e){switch(e){case"svg":return"image/svg+xml";case"png":case"jpeg":case"webp":case"avif":return`image/${e}`;default:throw new Error(`Unsupported format: ${e}`)}}function Sg(e,t=512){let n=t;return e=e.replace(/<svg([^>]*)/,(r,s)=>{const i=s.match(/width="([^"]+)"/);return i&&(n=parseInt(i[1])),s.match(/width="([^"]+)"/)?s=s.replace(/width="([^"]+)"/,`width="${n}"`):s+=` width="${n}"`,s.match(/height="([^"]+)"/)?s=s.replace(/height="([^"]+)"/,`height="${n}"`):s+=` height="${n}"`,`<svg${s}`}),{svg:e,size:n}}const xg=e=>Pg(e,"jpeg");function Pg(e,t){const n=typeof e=="string"?e:e.toString();return{toDataUri:()=>bl(n,t),toArrayBuffer:()=>Cg(n,t)}}async function bl(e,t,n){return t==="svg"?`data:${Cs(t)};utf8,${encodeURIComponent(e)}`:(await wl(e,t)).toDataURL(Cs(t))}async function Cg(e,t,n){const r=await wl(e,t);return await new Promise((s,i)=>{r.toBlob(o=>{o?s(o.arrayBuffer()):i(new Error("Could not create blob"))},Cs(t))})}async function wl(e,t,n){const{svg:r,size:s}=Sg(e),i=document.createElement("canvas");i.width=s,i.height=s;const o=i.getContext("2d");if(o===null)throw new Error("Could not get canvas context");t==="jpeg"&&(o.fillStyle="white",o.fillRect(0,0,s,s));const a=document.createElement("img");return a.width=s,a.height=s,a.setAttribute("src",await bl(r,"svg")),new Promise((l,c)=>{a.onload=()=>{o.drawImage(a,0,0,s,s),l(i)},a.onerror=u=>c(u)})}class kg{async generateAvatarByString(t){const n=hg(Eg,{seed:t}),r=await xg(n).toArrayBuffer(),s=new Uint8Array(r);return new File([s],`${t}.jpeg`,{type:"image/jpeg"})}}const Ag={quizService:new Yp,avatarService:new kg},El=Nu(qd);El.use(Xf).provide("container",Ag).provide("notificationProvider",Hd);El.mount("#app");export{lh as g};
