var ml=Object.defineProperty;var yl=(e,t,n)=>t in e?ml(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var jr=(e,t,n)=>yl(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Es(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ee={},sn=[],rt=()=>{},_l=()=>!1,vr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ss=e=>e.startsWith("onUpdate:"),ve=Object.assign,xs=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},vl=Object.prototype.hasOwnProperty,J=(e,t)=>vl.call(e,t),F=Array.isArray,on=e=>br(e)==="[object Map]",So=e=>br(e)==="[object Set]",B=e=>typeof e=="function",le=e=>typeof e=="string",Ct=e=>typeof e=="symbol",se=e=>e!==null&&typeof e=="object",xo=e=>(se(e)||B(e))&&B(e.then)&&B(e.catch),Po=Object.prototype.toString,br=e=>Po.call(e),bl=e=>br(e).slice(8,-1),Co=e=>br(e)==="[object Object]",Ps=e=>le(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Rn=Es(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},wl=/-(\w)/g,Pt=wr(e=>e.replace(wl,(t,n)=>n?n.toUpperCase():"")),El=/\B([A-Z])/g,Ft=wr(e=>e.replace(El,"-$1").toLowerCase()),Ro=wr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Mr=wr(e=>e?`on${Ro(e)}`:""),xt=(e,t)=>!Object.is(e,t),or=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},ko=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Xr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ni;const Er=()=>ni||(ni=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Cs(e){if(F(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=le(r)?Cl(r):Cs(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(le(e)||se(e))return e}const Sl=/;(?![^(]*\))/g,xl=/:([^]+)/,Pl=/\/\*[^]*?\*\//g;function Cl(e){const t={};return e.replace(Pl,"").split(Sl).forEach(n=>{if(n){const r=n.split(xl);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Rs(e){let t="";if(le(e))t=e;else if(F(e))for(let n=0;n<e.length;n++){const r=Rs(e[n]);r&&(t+=r+" ")}else if(se(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Rl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",kl=Es(Rl);function To(e){return!!e||e===""}const Ao=e=>!!(e&&e.__v_isRef===!0),Un=e=>le(e)?e:e==null?"":F(e)||se(e)&&(e.toString===Po||!B(e.toString))?Ao(e)?Un(e.value):JSON.stringify(e,Oo,2):String(e),Oo=(e,t)=>Ao(t)?Oo(e,t.value):on(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Lr(r,i)+" =>"]=s,n),{})}:So(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Lr(n))}:Ct(t)?Lr(t):se(t)&&!F(t)&&!Co(t)?String(t):t,Lr=(e,t="")=>{var n;return Ct(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let je;class Tl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=je,!t&&je&&(this.index=(je.scopes||(je.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=je;try{return je=this,t()}finally{je=n}}}on(){je=this}off(){je=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Al(){return je}let re;const Dr=new WeakSet;class $o{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,je&&je.active&&je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Dr.has(this)&&(Dr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||jo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ri(this),Mo(this);const t=re,n=Ve;re=this,Ve=!0;try{return this.fn()}finally{Lo(this),re=t,Ve=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)As(t);this.deps=this.depsTail=void 0,ri(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Dr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){es(this)&&this.run()}get dirty(){return es(this)}}let Io=0,kn,Tn;function jo(e,t=!1){if(e.flags|=8,t){e.next=Tn,Tn=e;return}e.next=kn,kn=e}function ks(){Io++}function Ts(){if(--Io>0)return;if(Tn){let t=Tn;for(Tn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;kn;){let t=kn;for(kn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Mo(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Lo(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),As(r),Ol(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function es(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Do(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Do(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Nn))return;e.globalVersion=Nn;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!es(e)){e.flags&=-3;return}const n=re,r=Ve;re=e,Ve=!0;try{Mo(e);const s=e.fn(e._value);(t.version===0||xt(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{re=n,Ve=r,Lo(e),e.flags&=-3}}function As(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)As(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ol(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Ve=!0;const Uo=[];function Rt(){Uo.push(Ve),Ve=!1}function kt(){const e=Uo.pop();Ve=e===void 0?!0:e}function ri(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=re;re=void 0;try{t()}finally{re=n}}}let Nn=0;class $l{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Os{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!re||!Ve||re===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==re)n=this.activeLink=new $l(re,this),re.deps?(n.prevDep=re.depsTail,re.depsTail.nextDep=n,re.depsTail=n):re.deps=re.depsTail=n,No(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=re.depsTail,n.nextDep=void 0,re.depsTail.nextDep=n,re.depsTail=n,re.deps===n&&(re.deps=r)}return n}trigger(t){this.version++,Nn++,this.notify(t)}notify(t){ks();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ts()}}}function No(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)No(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ts=new WeakMap,Lt=Symbol(""),ns=Symbol(""),Fn=Symbol("");function pe(e,t,n){if(Ve&&re){let r=ts.get(e);r||ts.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new Os),s.map=r,s.key=n),s.track()}}function ft(e,t,n,r,s,i){const o=ts.get(e);if(!o){Nn++;return}const a=l=>{l&&l.trigger()};if(ks(),t==="clear")o.forEach(a);else{const l=F(e),c=l&&Ps(n);if(l&&n==="length"){const u=Number(r);o.forEach((f,d)=>{(d==="length"||d===Fn||!Ct(d)&&d>=u)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Fn)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Lt)),on(e)&&a(o.get(ns)));break;case"delete":l||(a(o.get(Lt)),on(e)&&a(o.get(ns)));break;case"set":on(e)&&a(o.get(Lt));break}}Ts()}function Vt(e){const t=G(e);return t===e?t:(pe(t,"iterate",Fn),Ne(e)?t:t.map(ge))}function Sr(e){return pe(e=G(e),"iterate",Fn),e}const Il={__proto__:null,[Symbol.iterator](){return Ur(this,Symbol.iterator,ge)},concat(...e){return Vt(this).concat(...e.map(t=>F(t)?Vt(t):t))},entries(){return Ur(this,"entries",e=>(e[1]=ge(e[1]),e))},every(e,t){return at(this,"every",e,t,void 0,arguments)},filter(e,t){return at(this,"filter",e,t,n=>n.map(ge),arguments)},find(e,t){return at(this,"find",e,t,ge,arguments)},findIndex(e,t){return at(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return at(this,"findLast",e,t,ge,arguments)},findLastIndex(e,t){return at(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return at(this,"forEach",e,t,void 0,arguments)},includes(...e){return Nr(this,"includes",e)},indexOf(...e){return Nr(this,"indexOf",e)},join(e){return Vt(this).join(e)},lastIndexOf(...e){return Nr(this,"lastIndexOf",e)},map(e,t){return at(this,"map",e,t,void 0,arguments)},pop(){return vn(this,"pop")},push(...e){return vn(this,"push",e)},reduce(e,...t){return si(this,"reduce",e,t)},reduceRight(e,...t){return si(this,"reduceRight",e,t)},shift(){return vn(this,"shift")},some(e,t){return at(this,"some",e,t,void 0,arguments)},splice(...e){return vn(this,"splice",e)},toReversed(){return Vt(this).toReversed()},toSorted(e){return Vt(this).toSorted(e)},toSpliced(...e){return Vt(this).toSpliced(...e)},unshift(...e){return vn(this,"unshift",e)},values(){return Ur(this,"values",ge)}};function Ur(e,t,n){const r=Sr(e),s=r[t]();return r!==e&&!Ne(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const jl=Array.prototype;function at(e,t,n,r,s,i){const o=Sr(e),a=o!==e&&!Ne(e),l=o[t];if(l!==jl[t]){const f=l.apply(e,i);return a?ge(f):f}let c=n;o!==e&&(a?c=function(f,d){return n.call(this,ge(f),d,e)}:n.length>2&&(c=function(f,d){return n.call(this,f,d,e)}));const u=l.call(o,c,r);return a&&s?s(u):u}function si(e,t,n,r){const s=Sr(e);let i=n;return s!==e&&(Ne(e)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,e)}):i=function(o,a,l){return n.call(this,o,ge(a),l,e)}),s[t](i,...r)}function Nr(e,t,n){const r=G(e);pe(r,"iterate",Fn);const s=r[t](...n);return(s===-1||s===!1)&&js(n[0])?(n[0]=G(n[0]),r[t](...n)):s}function vn(e,t,n=[]){Rt(),ks();const r=G(e)[t].apply(e,n);return Ts(),kt(),r}const Ml=Es("__proto__,__v_isRef,__isVue"),Fo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ct));function Ll(e){Ct(e)||(e=String(e));const t=G(this);return pe(t,"has",e),t.hasOwnProperty(e)}class Bo{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Kl:Vo:i?Ho:qo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=F(t);if(!s){let l;if(o&&(l=Il[n]))return l;if(n==="hasOwnProperty")return Ll}const a=Reflect.get(t,n,_e(t)?t:r);return(Ct(n)?Fo.has(n):Ml(n))||(s||pe(t,"get",n),i)?a:_e(a)?o&&Ps(n)?a:a.value:se(a)?s?Wo(a):xr(a):a}}class zo extends Bo{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._isShallow){const l=Dt(i);if(!Ne(r)&&!Dt(r)&&(i=G(i),r=G(r)),!F(t)&&_e(i)&&!_e(r))return l?!1:(i.value=r,!0)}const o=F(t)&&Ps(n)?Number(n)<t.length:J(t,n),a=Reflect.set(t,n,r,_e(t)?t:s);return t===G(s)&&(o?xt(r,i)&&ft(t,"set",n,r):ft(t,"add",n,r)),a}deleteProperty(t,n){const r=J(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&ft(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!Ct(n)||!Fo.has(n))&&pe(t,"has",n),r}ownKeys(t){return pe(t,"iterate",F(t)?"length":Lt),Reflect.ownKeys(t)}}class Dl extends Bo{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Ul=new zo,Nl=new Dl,Fl=new zo(!0);const rs=e=>e,Zn=e=>Reflect.getPrototypeOf(e);function Bl(e,t,n){return function(...r){const s=this.__v_raw,i=G(s),o=on(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...r),u=n?rs:t?ss:ge;return!t&&pe(i,"iterate",l?ns:Lt),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function Xn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function zl(e,t){const n={get(s){const i=this.__v_raw,o=G(i),a=G(s);e||(xt(s,a)&&pe(o,"get",s),pe(o,"get",a));const{has:l}=Zn(o),c=t?rs:e?ss:ge;if(l.call(o,s))return c(i.get(s));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!e&&pe(G(s),"iterate",Lt),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=G(i),a=G(s);return e||(xt(s,a)&&pe(o,"has",s),pe(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=G(a),c=t?rs:e?ss:ge;return!e&&pe(l,"iterate",Lt),a.forEach((u,f)=>s.call(i,c(u),c(f),o))}};return ve(n,e?{add:Xn("add"),set:Xn("set"),delete:Xn("delete"),clear:Xn("clear")}:{add(s){!t&&!Ne(s)&&!Dt(s)&&(s=G(s));const i=G(this);return Zn(i).has.call(i,s)||(i.add(s),ft(i,"add",s,s)),this},set(s,i){!t&&!Ne(i)&&!Dt(i)&&(i=G(i));const o=G(this),{has:a,get:l}=Zn(o);let c=a.call(o,s);c||(s=G(s),c=a.call(o,s));const u=l.call(o,s);return o.set(s,i),c?xt(i,u)&&ft(o,"set",s,i):ft(o,"add",s,i),this},delete(s){const i=G(this),{has:o,get:a}=Zn(i);let l=o.call(i,s);l||(s=G(s),l=o.call(i,s)),a&&a.call(i,s);const c=i.delete(s);return l&&ft(i,"delete",s,void 0),c},clear(){const s=G(this),i=s.size!==0,o=s.clear();return i&&ft(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Bl(s,e,t)}),n}function $s(e,t){const n=zl(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(J(n,s)&&s in r?n:r,s,i)}const ql={get:$s(!1,!1)},Hl={get:$s(!1,!0)},Vl={get:$s(!0,!1)};const qo=new WeakMap,Ho=new WeakMap,Vo=new WeakMap,Kl=new WeakMap;function Wl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gl(e){return e.__v_skip||!Object.isExtensible(e)?0:Wl(bl(e))}function xr(e){return Dt(e)?e:Is(e,!1,Ul,ql,qo)}function Ko(e){return Is(e,!1,Fl,Hl,Ho)}function Wo(e){return Is(e,!0,Nl,Vl,Vo)}function Is(e,t,n,r,s){if(!se(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=Gl(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function an(e){return Dt(e)?an(e.__v_raw):!!(e&&e.__v_isReactive)}function Dt(e){return!!(e&&e.__v_isReadonly)}function Ne(e){return!!(e&&e.__v_isShallow)}function js(e){return e?!!e.__v_raw:!1}function G(e){const t=e&&e.__v_raw;return t?G(t):e}function Jl(e){return!J(e,"__v_skip")&&Object.isExtensible(e)&&ko(e,"__v_skip",!0),e}const ge=e=>se(e)?xr(e):e,ss=e=>se(e)?Wo(e):e;function _e(e){return e?e.__v_isRef===!0:!1}function Ke(e){return Go(e,!1)}function Ql(e){return Go(e,!0)}function Go(e,t){return _e(e)?e:new Yl(e,t)}class Yl{constructor(t,n){this.dep=new Os,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:G(t),this._value=n?t:ge(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Ne(t)||Dt(t);t=r?t:G(t),xt(t,n)&&(this._rawValue=t,this._value=r?t:ge(t),this.dep.trigger())}}function me(e){return _e(e)?e.value:e}const Zl={get:(e,t,n)=>t==="__v_raw"?e:me(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return _e(s)&&!_e(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function Jo(e){return an(e)?e:new Proxy(e,Zl)}class Xl{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Os(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Nn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&re!==this)return jo(this,!0),!0}get value(){const t=this.dep.track();return Do(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ec(e,t,n=!1){let r,s;return B(e)?r=e:(r=e.get,s=e.set),new Xl(r,s,n)}const er={},ur=new WeakMap;let $t;function tc(e,t=!1,n=$t){if(n){let r=ur.get(n);r||ur.set(n,r=[]),r.push(e)}}function nc(e,t,n=ee){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,c=x=>s?x:Ne(x)||s===!1||s===0?dt(x,1):dt(x);let u,f,d,h,y=!1,_=!1;if(_e(e)?(f=()=>e.value,y=Ne(e)):an(e)?(f=()=>c(e),y=!0):F(e)?(_=!0,y=e.some(x=>an(x)||Ne(x)),f=()=>e.map(x=>{if(_e(x))return x.value;if(an(x))return c(x);if(B(x))return l?l(x,2):x()})):B(e)?t?f=l?()=>l(e,2):e:f=()=>{if(d){Rt();try{d()}finally{kt()}}const x=$t;$t=u;try{return l?l(e,3,[h]):e(h)}finally{$t=x}}:f=rt,t&&s){const x=f,M=s===!0?1/0:s;f=()=>dt(x(),M)}const w=Al(),R=()=>{u.stop(),w&&w.active&&xs(w.effects,u)};if(i&&t){const x=t;t=(...M)=>{x(...M),R()}}let k=_?new Array(e.length).fill(er):er;const P=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(t){const M=u.run();if(s||y||(_?M.some((Q,q)=>xt(Q,k[q])):xt(M,k))){d&&d();const Q=$t;$t=u;try{const q=[M,k===er?void 0:_&&k[0]===er?[]:k,h];l?l(t,3,q):t(...q),k=M}finally{$t=Q}}}else u.run()};return a&&a(P),u=new $o(f),u.scheduler=o?()=>o(P,!1):P,h=x=>tc(x,!1,u),d=u.onStop=()=>{const x=ur.get(u);if(x){if(l)l(x,4);else for(const M of x)M();ur.delete(u)}},t?r?P(!0):k=u.run():o?o(P.bind(null,!0),!0):u.run(),R.pause=u.pause.bind(u),R.resume=u.resume.bind(u),R.stop=R,R}function dt(e,t=1/0,n){if(t<=0||!se(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,_e(e))dt(e.value,t,n);else if(F(e))for(let r=0;r<e.length;r++)dt(e[r],t,n);else if(So(e)||on(e))e.forEach(r=>{dt(r,t,n)});else if(Co(e)){for(const r in e)dt(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&dt(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wn(e,t,n,r){try{return r?e(...r):e()}catch(s){Pr(s,t,n)}}function st(e,t,n,r){if(B(e)){const s=Wn(e,t,n,r);return s&&xo(s)&&s.catch(i=>{Pr(i,t,n)}),s}if(F(e)){const s=[];for(let i=0;i<e.length;i++)s.push(st(e[i],t,n,r));return s}}function Pr(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||ee;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,l,c)===!1)return}a=a.parent}if(i){Rt(),Wn(i,null,10,[e,l,c]),kt();return}}rc(e,n,s,r,o)}function rc(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const Se=[];let et=-1;const ln=[];let vt=null,en=0;const Qo=Promise.resolve();let fr=null;function Yo(e){const t=fr||Qo;return e?t.then(this?e.bind(this):e):t}function sc(e){let t=et+1,n=Se.length;for(;t<n;){const r=t+n>>>1,s=Se[r],i=Bn(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function Ms(e){if(!(e.flags&1)){const t=Bn(e),n=Se[Se.length-1];!n||!(e.flags&2)&&t>=Bn(n)?Se.push(e):Se.splice(sc(t),0,e),e.flags|=1,Zo()}}function Zo(){fr||(fr=Qo.then(ea))}function ic(e){F(e)?ln.push(...e):vt&&e.id===-1?vt.splice(en+1,0,e):e.flags&1||(ln.push(e),e.flags|=1),Zo()}function ii(e,t,n=et+1){for(;n<Se.length;n++){const r=Se[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Se.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Xo(e){if(ln.length){const t=[...new Set(ln)].sort((n,r)=>Bn(n)-Bn(r));if(ln.length=0,vt){vt.push(...t);return}for(vt=t,en=0;en<vt.length;en++){const n=vt[en];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}vt=null,en=0}}const Bn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ea(e){try{for(et=0;et<Se.length;et++){const t=Se[et];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Wn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;et<Se.length;et++){const t=Se[et];t&&(t.flags&=-2)}et=-1,Se.length=0,Xo(),fr=null,(Se.length||ln.length)&&ea()}}let Ue=null,ta=null;function dr(e){const t=Ue;return Ue=e,ta=e&&e.type.__scopeId||null,t}function oc(e,t=Ue,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&pi(-1);const i=dr(t);let o;try{o=e(...s)}finally{dr(i),r._d&&pi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function na(e,t){if(Ue===null)return e;const n=Ar(Ue),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,o,a,l=ee]=t[s];i&&(B(i)&&(i={mounted:i,updated:i}),i.deep&&dt(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Tt(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Rt(),st(l,n,8,[e.el,a,e,t]),kt())}}const ac=Symbol("_vte"),lc=e=>e.__isTeleport;function Ls(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ls(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Be(e,t){return B(e)?ve({name:e.name},t,{setup:e}):e}function ra(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function hr(e,t,n,r,s=!1){if(F(e)){e.forEach((y,_)=>hr(y,t&&(F(t)?t[_]:t),n,r,s));return}if(An(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&hr(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?Ar(r.component):r.el,o=s?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===ee?a.refs={}:a.refs,f=a.setupState,d=G(f),h=f===ee?()=>!1:y=>J(d,y);if(c!=null&&c!==l&&(le(c)?(u[c]=null,h(c)&&(f[c]=null)):_e(c)&&(c.value=null)),B(l))Wn(l,a,12,[o,u]);else{const y=le(l),_=_e(l);if(y||_){const w=()=>{if(e.f){const R=y?h(l)?f[l]:u[l]:l.value;s?F(R)&&xs(R,i):F(R)?R.includes(i)||R.push(i):y?(u[l]=[i],h(l)&&(f[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else y?(u[l]=o,h(l)&&(f[l]=o)):_&&(l.value=o,e.k&&(u[e.k]=o))};o?(w.id=-1,$e(w,n)):w()}}}Er().requestIdleCallback;Er().cancelIdleCallback;const An=e=>!!e.type.__asyncLoader,sa=e=>e.type.__isKeepAlive;function cc(e,t){ia(e,"a",t)}function uc(e,t){ia(e,"da",t)}function ia(e,t,n=xe){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Cr(t,r,n),n){let s=n.parent;for(;s&&s.parent;)sa(s.parent.vnode)&&fc(r,t,n,s),s=s.parent}}function fc(e,t,n,r){const s=Cr(t,e,r,!0);Us(()=>{xs(r[t],s)},n)}function Cr(e,t,n=xe,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Rt();const a=Gn(n),l=st(t,n,e,o);return a(),kt(),l});return r?s.unshift(i):s.push(i),i}}const pt=e=>(t,n=xe)=>{(!qn||e==="sp")&&Cr(e,(...r)=>t(...r),n)},dc=pt("bm"),Rr=pt("m"),hc=pt("bu"),Ds=pt("u"),pc=pt("bum"),Us=pt("um"),gc=pt("sp"),mc=pt("rtg"),yc=pt("rtc");function _c(e,t=xe){Cr("ec",e,t)}const vc=Symbol.for("v-ndc");function oa(e,t,n,r){let s;const i=n,o=F(e);if(o||le(e)){const a=o&&an(e);let l=!1;a&&(l=!Ne(e),e=Sr(e)),s=new Array(e.length);for(let c=0,u=e.length;c<u;c++)s[c]=t(l?ge(e[c]):e[c],c,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,i)}else if(se(e))if(e[Symbol.iterator])s=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=t(e[u],u,l,i)}}else s=[];return s}const is=e=>e?Ra(e)?Ar(e):is(e.parent):null,On=ve(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>is(e.parent),$root:e=>is(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>la(e),$forceUpdate:e=>e.f||(e.f=()=>{Ms(e.update)}),$nextTick:e=>e.n||(e.n=Yo.bind(e.proxy)),$watch:e=>Fc.bind(e)}),Fr=(e,t)=>e!==ee&&!e.__isScriptSetup&&J(e,t),bc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(Fr(r,t))return o[t]=1,r[t];if(s!==ee&&J(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&J(c,t))return o[t]=3,i[t];if(n!==ee&&J(n,t))return o[t]=4,n[t];os&&(o[t]=0)}}const u=On[t];let f,d;if(u)return t==="$attrs"&&pe(e.attrs,"get",""),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==ee&&J(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,J(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return Fr(s,t)?(s[t]=n,!0):r!==ee&&J(r,t)?(r[t]=n,!0):J(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==ee&&J(e,o)||Fr(t,o)||(a=i[0])&&J(a,o)||J(r,o)||J(On,o)||J(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:J(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function oi(e){return F(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let os=!0;function wc(e){const t=la(e),n=e.proxy,r=e.ctx;os=!1,t.beforeCreate&&ai(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:y,activated:_,deactivated:w,beforeDestroy:R,beforeUnmount:k,destroyed:P,unmounted:x,render:M,renderTracked:Q,renderTriggered:q,errorCaptured:ce,serverPrefetch:oe,expose:be,inheritAttrs:we,components:he,directives:de,filters:it}=t;if(c&&Ec(c,r,null),o)for(const Z in o){const K=o[Z];B(K)&&(r[Z]=K.bind(n))}if(s){const Z=s.call(n,n);se(Z)&&(e.data=xr(Z))}if(os=!0,i)for(const Z in i){const K=i[Z],ot=B(K)?K.bind(n,n):B(K.get)?K.get.bind(n,n):rt,gt=!B(K)&&B(K.set)?K.set.bind(n):rt,Ge=He({get:ot,set:gt});Object.defineProperty(r,Z,{enumerable:!0,configurable:!0,get:()=>Ge.value,set:Ce=>Ge.value=Ce})}if(a)for(const Z in a)aa(a[Z],r,n,Z);if(l){const Z=B(l)?l.call(n):l;Reflect.ownKeys(Z).forEach(K=>{$n(K,Z[K])})}u&&ai(u,e,"c");function ae(Z,K){F(K)?K.forEach(ot=>Z(ot.bind(n))):K&&Z(K.bind(n))}if(ae(dc,f),ae(Rr,d),ae(hc,h),ae(Ds,y),ae(cc,_),ae(uc,w),ae(_c,ce),ae(yc,Q),ae(mc,q),ae(pc,k),ae(Us,x),ae(gc,oe),F(be))if(be.length){const Z=e.exposed||(e.exposed={});be.forEach(K=>{Object.defineProperty(Z,K,{get:()=>n[K],set:ot=>n[K]=ot})})}else e.exposed||(e.exposed={});M&&e.render===rt&&(e.render=M),we!=null&&(e.inheritAttrs=we),he&&(e.components=he),de&&(e.directives=de),oe&&ra(e)}function Ec(e,t,n=rt){F(e)&&(e=as(e));for(const r in e){const s=e[r];let i;se(s)?"default"in s?i=ie(s.from||r,s.default,!0):i=ie(s.from||r):i=ie(s),_e(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function ai(e,t,n){st(F(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function aa(e,t,n,r){let s=r.includes(".")?Ea(n,r):()=>n[r];if(le(e)){const i=t[e];B(i)&&ar(s,i)}else if(B(e))ar(s,e.bind(n));else if(se(e))if(F(e))e.forEach(i=>aa(i,t,n,r));else{const i=B(e.handler)?e.handler.bind(n):t[e.handler];B(i)&&ar(s,i,e)}}function la(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(c=>pr(l,c,o,!0)),pr(l,t,o)),se(t)&&i.set(t,l),l}function pr(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&pr(e,i,n,!0),s&&s.forEach(o=>pr(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=Sc[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Sc={data:li,props:ci,emits:ci,methods:Pn,computed:Pn,beforeCreate:Ee,created:Ee,beforeMount:Ee,mounted:Ee,beforeUpdate:Ee,updated:Ee,beforeDestroy:Ee,beforeUnmount:Ee,destroyed:Ee,unmounted:Ee,activated:Ee,deactivated:Ee,errorCaptured:Ee,serverPrefetch:Ee,components:Pn,directives:Pn,watch:Pc,provide:li,inject:xc};function li(e,t){return t?e?function(){return ve(B(e)?e.call(this,this):e,B(t)?t.call(this,this):t)}:t:e}function xc(e,t){return Pn(as(e),as(t))}function as(e){if(F(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ee(e,t){return e?[...new Set([].concat(e,t))]:t}function Pn(e,t){return e?ve(Object.create(null),e,t):t}function ci(e,t){return e?F(e)&&F(t)?[...new Set([...e,...t])]:ve(Object.create(null),oi(e),oi(t??{})):t}function Pc(e,t){if(!e)return t;if(!t)return e;const n=ve(Object.create(null),e);for(const r in t)n[r]=Ee(e[r],t[r]);return n}function ca(){return{app:null,config:{isNativeTag:_l,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Cc=0;function Rc(e,t){return function(r,s=null){B(r)||(r=ve({},r)),s!=null&&!se(s)&&(s=null);const i=ca(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:Cc++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:lu,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&B(u.install)?(o.add(u),u.install(c,...f)):B(u)&&(o.add(u),u(c,...f))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,f){return f?(i.components[u]=f,c):i.components[u]},directive(u,f){return f?(i.directives[u]=f,c):i.directives[u]},mount(u,f,d){if(!l){const h=c._ceVNode||Pe(r,s);return h.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),e(h,u,d),l=!0,c._container=u,u.__vue_app__=c,Ar(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(st(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return i.provides[u]=f,c},runWithContext(u){const f=cn;cn=c;try{return u()}finally{cn=f}}};return c}}let cn=null;function $n(e,t){if(xe){let n=xe.provides;const r=xe.parent&&xe.parent.provides;r===n&&(n=xe.provides=Object.create(r)),n[e]=t}}function ie(e,t,n=!1){const r=xe||Ue;if(r||cn){const s=cn?cn._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&B(t)?t.call(r&&r.proxy):t}}const ua={},fa=()=>Object.create(ua),da=e=>Object.getPrototypeOf(e)===ua;function kc(e,t,n,r=!1){const s={},i=fa();e.propsDefaults=Object.create(null),ha(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:Ko(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Tc(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=G(s),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(kr(e.emitsOptions,d))continue;const h=t[d];if(l)if(J(i,d))h!==i[d]&&(i[d]=h,c=!0);else{const y=Pt(d);s[y]=ls(l,a,y,h,e,!1)}else h!==i[d]&&(i[d]=h,c=!0)}}}else{ha(e,t,s,i)&&(c=!0);let u;for(const f in a)(!t||!J(t,f)&&((u=Ft(f))===f||!J(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(s[f]=ls(l,a,f,void 0,e,!0)):delete s[f]);if(i!==a)for(const f in i)(!t||!J(t,f))&&(delete i[f],c=!0)}c&&ft(e.attrs,"set","")}function ha(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Rn(l))continue;const c=t[l];let u;s&&J(s,u=Pt(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:kr(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=G(n),c=a||ee;for(let u=0;u<i.length;u++){const f=i[u];n[f]=ls(s,l,f,c[f],e,!J(c,f))}}return o}function ls(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=J(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&B(l)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const u=Gn(s);r=c[n]=l.call(null,t),u()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Ft(n))&&(r=!0))}return r}const Ac=new WeakMap;function pa(e,t,n=!1){const r=n?Ac:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!B(e)){const u=f=>{l=!0;const[d,h]=pa(f,t,!0);ve(o,d),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return se(e)&&r.set(e,sn),sn;if(F(i))for(let u=0;u<i.length;u++){const f=Pt(i[u]);ui(f)&&(o[f]=ee)}else if(i)for(const u in i){const f=Pt(u);if(ui(f)){const d=i[u],h=o[f]=F(d)||B(d)?{type:d}:ve({},d),y=h.type;let _=!1,w=!0;if(F(y))for(let R=0;R<y.length;++R){const k=y[R],P=B(k)&&k.name;if(P==="Boolean"){_=!0;break}else P==="String"&&(w=!1)}else _=B(y)&&y.name==="Boolean";h[0]=_,h[1]=w,(_||J(h,"default"))&&a.push(f)}}const c=[o,a];return se(e)&&r.set(e,c),c}function ui(e){return e[0]!=="$"&&!Rn(e)}const ga=e=>e[0]==="_"||e==="$stable",Ns=e=>F(e)?e.map(tt):[tt(e)],Oc=(e,t,n)=>{if(t._n)return t;const r=oc((...s)=>Ns(t(...s)),n);return r._c=!1,r},ma=(e,t,n)=>{const r=e._ctx;for(const s in e){if(ga(s))continue;const i=e[s];if(B(i))t[s]=Oc(s,i,r);else if(i!=null){const o=Ns(i);t[s]=()=>o}}},ya=(e,t)=>{const n=Ns(t);e.slots.default=()=>n},_a=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},$c=(e,t,n)=>{const r=e.slots=fa();if(e.vnode.shapeFlag&32){const s=t._;s?(_a(r,t,n),n&&ko(r,"_",s,!0)):ma(t,r)}else t&&ya(e,t)},Ic=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=ee;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:_a(s,t,n):(i=!t.$stable,ma(t,s)),o=t}else t&&(ya(e,t),o={default:1});if(i)for(const a in s)!ga(a)&&o[a]==null&&delete s[a]},$e=Wc;function jc(e){return Mc(e)}function Mc(e,t){const n=Er();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=rt,insertStaticContent:y}=e,_=(p,g,m,v=null,S=null,E=null,O=void 0,A=null,T=!!g.dynamicChildren)=>{if(p===g)return;p&&!bn(p,g)&&(v=b(p),Ce(p,S,E,!0),p=null),g.patchFlag===-2&&(T=!1,g.dynamicChildren=null);const{type:C,ref:U,shapeFlag:I}=g;switch(C){case Tr:w(p,g,m,v);break;case Ut:R(p,g,m,v);break;case zr:p==null&&k(g,m,v,O);break;case De:he(p,g,m,v,S,E,O,A,T);break;default:I&1?M(p,g,m,v,S,E,O,A,T):I&6?de(p,g,m,v,S,E,O,A,T):(I&64||I&128)&&C.process(p,g,m,v,S,E,O,A,T,L)}U!=null&&S&&hr(U,p&&p.ref,E,g||p,!g)},w=(p,g,m,v)=>{if(p==null)r(g.el=a(g.children),m,v);else{const S=g.el=p.el;g.children!==p.children&&c(S,g.children)}},R=(p,g,m,v)=>{p==null?r(g.el=l(g.children||""),m,v):g.el=p.el},k=(p,g,m,v)=>{[p.el,p.anchor]=y(p.children,g,m,v,p.el,p.anchor)},P=({el:p,anchor:g},m,v)=>{let S;for(;p&&p!==g;)S=d(p),r(p,m,v),p=S;r(g,m,v)},x=({el:p,anchor:g})=>{let m;for(;p&&p!==g;)m=d(p),s(p),p=m;s(g)},M=(p,g,m,v,S,E,O,A,T)=>{g.type==="svg"?O="svg":g.type==="math"&&(O="mathml"),p==null?Q(g,m,v,S,E,O,A,T):oe(p,g,S,E,O,A,T)},Q=(p,g,m,v,S,E,O,A)=>{let T,C;const{props:U,shapeFlag:I,transition:D,dirs:N}=p;if(T=p.el=o(p.type,E,U&&U.is,U),I&8?u(T,p.children):I&16&&ce(p.children,T,null,v,S,Br(p,E),O,A),N&&Tt(p,null,v,"created"),q(T,p,p.scopeId,O,v),U){for(const te in U)te!=="value"&&!Rn(te)&&i(T,te,null,U[te],E,v);"value"in U&&i(T,"value",null,U.value,E),(C=U.onVnodeBeforeMount)&&Ze(C,v,p)}N&&Tt(p,null,v,"beforeMount");const V=Lc(S,D);V&&D.beforeEnter(T),r(T,g,m),((C=U&&U.onVnodeMounted)||V||N)&&$e(()=>{C&&Ze(C,v,p),V&&D.enter(T),N&&Tt(p,null,v,"mounted")},S)},q=(p,g,m,v,S)=>{if(m&&h(p,m),v)for(let E=0;E<v.length;E++)h(p,v[E]);if(S){let E=S.subTree;if(g===E||xa(E.type)&&(E.ssContent===g||E.ssFallback===g)){const O=S.vnode;q(p,O,O.scopeId,O.slotScopeIds,S.parent)}}},ce=(p,g,m,v,S,E,O,A,T=0)=>{for(let C=T;C<p.length;C++){const U=p[C]=A?bt(p[C]):tt(p[C]);_(null,U,g,m,v,S,E,O,A)}},oe=(p,g,m,v,S,E,O)=>{const A=g.el=p.el;let{patchFlag:T,dynamicChildren:C,dirs:U}=g;T|=p.patchFlag&16;const I=p.props||ee,D=g.props||ee;let N;if(m&&At(m,!1),(N=D.onVnodeBeforeUpdate)&&Ze(N,m,g,p),U&&Tt(g,p,m,"beforeUpdate"),m&&At(m,!0),(I.innerHTML&&D.innerHTML==null||I.textContent&&D.textContent==null)&&u(A,""),C?be(p.dynamicChildren,C,A,m,v,Br(g,S),E):O||K(p,g,A,null,m,v,Br(g,S),E,!1),T>0){if(T&16)we(A,I,D,m,S);else if(T&2&&I.class!==D.class&&i(A,"class",null,D.class,S),T&4&&i(A,"style",I.style,D.style,S),T&8){const V=g.dynamicProps;for(let te=0;te<V.length;te++){const Y=V[te],Ae=I[Y],Re=D[Y];(Re!==Ae||Y==="value")&&i(A,Y,Ae,Re,S,m)}}T&1&&p.children!==g.children&&u(A,g.children)}else!O&&C==null&&we(A,I,D,m,S);((N=D.onVnodeUpdated)||U)&&$e(()=>{N&&Ze(N,m,g,p),U&&Tt(g,p,m,"updated")},v)},be=(p,g,m,v,S,E,O)=>{for(let A=0;A<g.length;A++){const T=p[A],C=g[A],U=T.el&&(T.type===De||!bn(T,C)||T.shapeFlag&70)?f(T.el):m;_(T,C,U,null,v,S,E,O,!0)}},we=(p,g,m,v,S)=>{if(g!==m){if(g!==ee)for(const E in g)!Rn(E)&&!(E in m)&&i(p,E,g[E],null,S,v);for(const E in m){if(Rn(E))continue;const O=m[E],A=g[E];O!==A&&E!=="value"&&i(p,E,A,O,S,v)}"value"in m&&i(p,"value",g.value,m.value,S)}},he=(p,g,m,v,S,E,O,A,T)=>{const C=g.el=p?p.el:a(""),U=g.anchor=p?p.anchor:a("");let{patchFlag:I,dynamicChildren:D,slotScopeIds:N}=g;N&&(A=A?A.concat(N):N),p==null?(r(C,m,v),r(U,m,v),ce(g.children||[],m,U,S,E,O,A,T)):I>0&&I&64&&D&&p.dynamicChildren?(be(p.dynamicChildren,D,m,S,E,O,A),(g.key!=null||S&&g===S.subTree)&&va(p,g,!0)):K(p,g,m,U,S,E,O,A,T)},de=(p,g,m,v,S,E,O,A,T)=>{g.slotScopeIds=A,p==null?g.shapeFlag&512?S.ctx.activate(g,m,v,O,T):it(g,m,v,S,E,O,T):ze(p,g,T)},it=(p,g,m,v,S,E,O)=>{const A=p.component=nu(p,v,S);if(sa(p)&&(A.ctx.renderer=L),ru(A,!1,O),A.asyncDep){if(S&&S.registerDep(A,ae,O),!p.el){const T=A.subTree=Pe(Ut);R(null,T,g,m)}}else ae(A,p,g,m,S,E,O)},ze=(p,g,m)=>{const v=g.component=p.component;if(Vc(p,g,m))if(v.asyncDep&&!v.asyncResolved){Z(v,g,m);return}else v.next=g,v.update();else g.el=p.el,v.vnode=g},ae=(p,g,m,v,S,E,O)=>{const A=()=>{if(p.isMounted){let{next:I,bu:D,u:N,parent:V,vnode:te}=p;{const Qe=ba(p);if(Qe){I&&(I.el=te.el,Z(p,I,O)),Qe.asyncDep.then(()=>{p.isUnmounted||A()});return}}let Y=I,Ae;At(p,!1),I?(I.el=te.el,Z(p,I,O)):I=te,D&&or(D),(Ae=I.props&&I.props.onVnodeBeforeUpdate)&&Ze(Ae,V,I,te),At(p,!0);const Re=di(p),Je=p.subTree;p.subTree=Re,_(Je,Re,f(Je.el),b(Je),p,S,E),I.el=Re.el,Y===null&&Kc(p,Re.el),N&&$e(N,S),(Ae=I.props&&I.props.onVnodeUpdated)&&$e(()=>Ze(Ae,V,I,te),S)}else{let I;const{el:D,props:N}=g,{bm:V,m:te,parent:Y,root:Ae,type:Re}=p,Je=An(g);At(p,!1),V&&or(V),!Je&&(I=N&&N.onVnodeBeforeMount)&&Ze(I,Y,g),At(p,!0);{Ae.ce&&Ae.ce._injectChildStyle(Re);const Qe=p.subTree=di(p);_(null,Qe,m,v,p,S,E),g.el=Qe.el}if(te&&$e(te,S),!Je&&(I=N&&N.onVnodeMounted)){const Qe=g;$e(()=>Ze(I,Y,Qe),S)}(g.shapeFlag&256||Y&&An(Y.vnode)&&Y.vnode.shapeFlag&256)&&p.a&&$e(p.a,S),p.isMounted=!0,g=m=v=null}};p.scope.on();const T=p.effect=new $o(A);p.scope.off();const C=p.update=T.run.bind(T),U=p.job=T.runIfDirty.bind(T);U.i=p,U.id=p.uid,T.scheduler=()=>Ms(U),At(p,!0),C()},Z=(p,g,m)=>{g.component=p;const v=p.vnode.props;p.vnode=g,p.next=null,Tc(p,g.props,v,m),Ic(p,g.children,m),Rt(),ii(p),kt()},K=(p,g,m,v,S,E,O,A,T=!1)=>{const C=p&&p.children,U=p?p.shapeFlag:0,I=g.children,{patchFlag:D,shapeFlag:N}=g;if(D>0){if(D&128){gt(C,I,m,v,S,E,O,A,T);return}else if(D&256){ot(C,I,m,v,S,E,O,A,T);return}}N&8?(U&16&&Le(C,S,E),I!==C&&u(m,I)):U&16?N&16?gt(C,I,m,v,S,E,O,A,T):Le(C,S,E,!0):(U&8&&u(m,""),N&16&&ce(I,m,v,S,E,O,A,T))},ot=(p,g,m,v,S,E,O,A,T)=>{p=p||sn,g=g||sn;const C=p.length,U=g.length,I=Math.min(C,U);let D;for(D=0;D<I;D++){const N=g[D]=T?bt(g[D]):tt(g[D]);_(p[D],N,m,null,S,E,O,A,T)}C>U?Le(p,S,E,!0,!1,I):ce(g,m,v,S,E,O,A,T,I)},gt=(p,g,m,v,S,E,O,A,T)=>{let C=0;const U=g.length;let I=p.length-1,D=U-1;for(;C<=I&&C<=D;){const N=p[C],V=g[C]=T?bt(g[C]):tt(g[C]);if(bn(N,V))_(N,V,m,null,S,E,O,A,T);else break;C++}for(;C<=I&&C<=D;){const N=p[I],V=g[D]=T?bt(g[D]):tt(g[D]);if(bn(N,V))_(N,V,m,null,S,E,O,A,T);else break;I--,D--}if(C>I){if(C<=D){const N=D+1,V=N<U?g[N].el:v;for(;C<=D;)_(null,g[C]=T?bt(g[C]):tt(g[C]),m,V,S,E,O,A,T),C++}}else if(C>D)for(;C<=I;)Ce(p[C],S,E,!0),C++;else{const N=C,V=C,te=new Map;for(C=V;C<=D;C++){const Oe=g[C]=T?bt(g[C]):tt(g[C]);Oe.key!=null&&te.set(Oe.key,C)}let Y,Ae=0;const Re=D-V+1;let Je=!1,Qe=0;const _n=new Array(Re);for(C=0;C<Re;C++)_n[C]=0;for(C=N;C<=I;C++){const Oe=p[C];if(Ae>=Re){Ce(Oe,S,E,!0);continue}let Ye;if(Oe.key!=null)Ye=te.get(Oe.key);else for(Y=V;Y<=D;Y++)if(_n[Y-V]===0&&bn(Oe,g[Y])){Ye=Y;break}Ye===void 0?Ce(Oe,S,E,!0):(_n[Ye-V]=C+1,Ye>=Qe?Qe=Ye:Je=!0,_(Oe,g[Ye],m,null,S,E,O,A,T),Ae++)}const ei=Je?Dc(_n):sn;for(Y=ei.length-1,C=Re-1;C>=0;C--){const Oe=V+C,Ye=g[Oe],ti=Oe+1<U?g[Oe+1].el:v;_n[C]===0?_(null,Ye,m,ti,S,E,O,A,T):Je&&(Y<0||C!==ei[Y]?Ge(Ye,m,ti,2):Y--)}}},Ge=(p,g,m,v,S=null)=>{const{el:E,type:O,transition:A,children:T,shapeFlag:C}=p;if(C&6){Ge(p.component.subTree,g,m,v);return}if(C&128){p.suspense.move(g,m,v);return}if(C&64){O.move(p,g,m,L);return}if(O===De){r(E,g,m);for(let I=0;I<T.length;I++)Ge(T[I],g,m,v);r(p.anchor,g,m);return}if(O===zr){P(p,g,m);return}if(v!==2&&C&1&&A)if(v===0)A.beforeEnter(E),r(E,g,m),$e(()=>A.enter(E),S);else{const{leave:I,delayLeave:D,afterLeave:N}=A,V=()=>r(E,g,m),te=()=>{I(E,()=>{V(),N&&N()})};D?D(E,V,te):te()}else r(E,g,m)},Ce=(p,g,m,v=!1,S=!1)=>{const{type:E,props:O,ref:A,children:T,dynamicChildren:C,shapeFlag:U,patchFlag:I,dirs:D,cacheIndex:N}=p;if(I===-2&&(S=!1),A!=null&&hr(A,null,m,p,!0),N!=null&&(g.renderCache[N]=void 0),U&256){g.ctx.deactivate(p);return}const V=U&1&&D,te=!An(p);let Y;if(te&&(Y=O&&O.onVnodeBeforeUnmount)&&Ze(Y,g,p),U&6)Yn(p.component,m,v);else{if(U&128){p.suspense.unmount(m,v);return}V&&Tt(p,null,g,"beforeUnmount"),U&64?p.type.remove(p,g,m,L,v):C&&!C.hasOnce&&(E!==De||I>0&&I&64)?Le(C,g,m,!1,!0):(E===De&&I&384||!S&&U&16)&&Le(T,g,m),v&&qt(p)}(te&&(Y=O&&O.onVnodeUnmounted)||V)&&$e(()=>{Y&&Ze(Y,g,p),V&&Tt(p,null,g,"unmounted")},m)},qt=p=>{const{type:g,el:m,anchor:v,transition:S}=p;if(g===De){Ht(m,v);return}if(g===zr){x(p);return}const E=()=>{s(m),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(p.shapeFlag&1&&S&&!S.persisted){const{leave:O,delayLeave:A}=S,T=()=>O(m,E);A?A(p.el,E,T):T()}else E()},Ht=(p,g)=>{let m;for(;p!==g;)m=d(p),s(p),p=m;s(g)},Yn=(p,g,m)=>{const{bum:v,scope:S,job:E,subTree:O,um:A,m:T,a:C}=p;fi(T),fi(C),v&&or(v),S.stop(),E&&(E.flags|=8,Ce(O,p,g,m)),A&&$e(A,g),$e(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Le=(p,g,m,v=!1,S=!1,E=0)=>{for(let O=E;O<p.length;O++)Ce(p[O],g,m,v,S)},b=p=>{if(p.shapeFlag&6)return b(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=d(p.anchor||p.el),m=g&&g[ac];return m?d(m):g};let j=!1;const $=(p,g,m)=>{p==null?g._vnode&&Ce(g._vnode,null,null,!0):_(g._vnode||null,p,g,null,null,null,m),g._vnode=p,j||(j=!0,ii(),Xo(),j=!1)},L={p:_,um:Ce,m:Ge,r:qt,mt:it,mc:ce,pc:K,pbc:be,n:b,o:e};return{render:$,hydrate:void 0,createApp:Rc($)}}function Br({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function At({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Lc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function va(e,t,n=!1){const r=e.children,s=t.children;if(F(r)&&F(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=bt(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&va(o,a)),a.type===Tr&&(a.el=o.el)}}function Dc(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=n[n.length-1],e[s]<c){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function ba(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ba(t)}function fi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Uc=Symbol.for("v-scx"),Nc=()=>ie(Uc);function ar(e,t,n){return wa(e,t,n)}function wa(e,t,n=ee){const{immediate:r,deep:s,flush:i,once:o}=n,a=ve({},n),l=t&&r||!t&&i!=="post";let c;if(qn){if(i==="sync"){const h=Nc();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=rt,h.resume=rt,h.pause=rt,h}}const u=xe;a.call=(h,y,_)=>st(h,u,y,_);let f=!1;i==="post"?a.scheduler=h=>{$e(h,u&&u.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(h,y)=>{y?h():Ms(h)}),a.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=nc(e,t,a);return qn&&(c?c.push(d):l&&d()),d}function Fc(e,t,n){const r=this.proxy,s=le(e)?e.includes(".")?Ea(r,e):()=>r[e]:e.bind(r,r);let i;B(t)?i=t:(i=t.handler,n=t);const o=Gn(this),a=wa(s,i.bind(r),n);return o(),a}function Ea(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Bc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Pt(t)}Modifiers`]||e[`${Ft(t)}Modifiers`];function zc(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||ee;let s=n;const i=t.startsWith("update:"),o=i&&Bc(r,t.slice(7));o&&(o.trim&&(s=n.map(u=>le(u)?u.trim():u)),o.number&&(s=n.map(Xr)));let a,l=r[a=Mr(t)]||r[a=Mr(Pt(t))];!l&&i&&(l=r[a=Mr(Ft(t))]),l&&st(l,e,6,s);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,st(c,e,6,s)}}function Sa(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!B(e)){const l=c=>{const u=Sa(c,t,!0);u&&(a=!0,ve(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(se(e)&&r.set(e,null),null):(F(i)?i.forEach(l=>o[l]=null):ve(o,i),se(e)&&r.set(e,o),o)}function kr(e,t){return!e||!vr(t)?!1:(t=t.slice(2).replace(/Once$/,""),J(e,t[0].toLowerCase()+t.slice(1))||J(e,Ft(t))||J(e,t))}function di(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:f,data:d,setupState:h,ctx:y,inheritAttrs:_}=e,w=dr(e);let R,k;try{if(n.shapeFlag&4){const x=s||r,M=x;R=tt(c.call(M,x,u,f,h,d,y)),k=a}else{const x=t;R=tt(x.length>1?x(f,{attrs:a,slots:o,emit:l}):x(f,null)),k=t.props?a:qc(a)}}catch(x){In.length=0,Pr(x,e,1),R=Pe(Ut)}let P=R;if(k&&_!==!1){const x=Object.keys(k),{shapeFlag:M}=P;x.length&&M&7&&(i&&x.some(Ss)&&(k=Hc(k,i)),P=fn(P,k,!1,!0))}return n.dirs&&(P=fn(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&Ls(P,n.transition),R=P,dr(w),R}const qc=e=>{let t;for(const n in e)(n==="class"||n==="style"||vr(n))&&((t||(t={}))[n]=e[n]);return t},Hc=(e,t)=>{const n={};for(const r in e)(!Ss(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Vc(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?hi(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==r[d]&&!kr(c,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?hi(r,o,c):!0:!!o;return!1}function hi(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!kr(n,i))return!0}return!1}function Kc({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const xa=e=>e.__isSuspense;function Wc(e,t){t&&t.pendingBranch?F(e)?t.effects.push(...e):t.effects.push(e):ic(e)}const De=Symbol.for("v-fgt"),Tr=Symbol.for("v-txt"),Ut=Symbol.for("v-cmt"),zr=Symbol.for("v-stc"),In=[];let Me=null;function Fe(e=!1){In.push(Me=e?null:[])}function Gc(){In.pop(),Me=In[In.length-1]||null}let zn=1;function pi(e,t=!1){zn+=e,e<0&&Me&&t&&(Me.hasOnce=!0)}function Pa(e){return e.dynamicChildren=zn>0?Me||sn:null,Gc(),zn>0&&Me&&Me.push(e),e}function ht(e,t,n,r,s,i){return Pa(ye(e,t,n,r,s,i,!0))}function Fs(e,t,n,r,s){return Pa(Pe(e,t,n,r,s,!0))}function gr(e){return e?e.__v_isVNode===!0:!1}function bn(e,t){return e.type===t.type&&e.key===t.key}const Ca=({key:e})=>e??null,lr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?le(e)||_e(e)||B(e)?{i:Ue,r:e,k:t,f:!!n}:e:null);function ye(e,t=null,n=null,r=0,s=null,i=e===De?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ca(t),ref:t&&lr(t),scopeId:ta,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ue};return a?(Bs(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=le(n)?8:16),zn>0&&!o&&Me&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Me.push(l),l}const Pe=Jc;function Jc(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===vc)&&(e=Ut),gr(e)){const a=fn(e,t,!0);return n&&Bs(a,n),zn>0&&!i&&Me&&(a.shapeFlag&6?Me[Me.indexOf(e)]=a:Me.push(a)),a.patchFlag=-2,a}if(au(e)&&(e=e.__vccOpts),t){t=Qc(t);let{class:a,style:l}=t;a&&!le(a)&&(t.class=Rs(a)),se(l)&&(js(l)&&!F(l)&&(l=ve({},l)),t.style=Cs(l))}const o=le(e)?1:xa(e)?128:lc(e)?64:se(e)?4:B(e)?2:0;return ye(e,t,n,r,s,o,i,!0)}function Qc(e){return e?js(e)||da(e)?ve({},e):e:null}function fn(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=e,c=t?Xc(s||{},t):s,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Ca(c),ref:t&&t.ref?n&&i?F(i)?i.concat(lr(t)):[i,lr(t)]:lr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==De?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&fn(e.ssContent),ssFallback:e.ssFallback&&fn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Ls(u,l.clone(u)),u}function Yc(e=" ",t=0){return Pe(Tr,null,e,t)}function Zc(e="",t=!1){return t?(Fe(),Fs(Ut,null,e)):Pe(Ut,null,e)}function tt(e){return e==null||typeof e=="boolean"?Pe(Ut):F(e)?Pe(De,null,e.slice()):gr(e)?bt(e):Pe(Tr,null,String(e))}function bt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:fn(e)}function Bs(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(F(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Bs(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!da(t)?t._ctx=Ue:s===3&&Ue&&(Ue.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else B(t)?(t={default:t,_ctx:Ue},n=32):(t=String(t),r&64?(n=16,t=[Yc(t)]):n=8);e.children=t,e.shapeFlag|=n}function Xc(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Rs([t.class,r.class]));else if(s==="style")t.style=Cs([t.style,r.style]);else if(vr(s)){const i=t[s],o=r[s];o&&i!==o&&!(F(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function Ze(e,t,n,r=null){st(e,t,7,[n,r])}const eu=ca();let tu=0;function nu(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||eu,i={uid:tu++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Tl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pa(r,s),emitsOptions:Sa(r,s),emit:null,emitted:null,propsDefaults:ee,inheritAttrs:r.inheritAttrs,ctx:ee,data:ee,props:ee,attrs:ee,slots:ee,refs:ee,setupState:ee,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=zc.bind(null,i),e.ce&&e.ce(i),i}let xe=null,mr,cs;{const e=Er(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};mr=t("__VUE_INSTANCE_SETTERS__",n=>xe=n),cs=t("__VUE_SSR_SETTERS__",n=>qn=n)}const Gn=e=>{const t=xe;return mr(e),e.scope.on(),()=>{e.scope.off(),mr(t)}},gi=()=>{xe&&xe.scope.off(),mr(null)};function Ra(e){return e.vnode.shapeFlag&4}let qn=!1;function ru(e,t=!1,n=!1){t&&cs(t);const{props:r,children:s}=e.vnode,i=Ra(e);kc(e,r,i,t),$c(e,s,n);const o=i?su(e,t):void 0;return t&&cs(!1),o}function su(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,bc);const{setup:r}=n;if(r){Rt();const s=e.setupContext=r.length>1?ou(e):null,i=Gn(e),o=Wn(r,e,0,[e.props,s]),a=xo(o);if(kt(),i(),(a||e.sp)&&!An(e)&&ra(e),a){if(o.then(gi,gi),t)return o.then(l=>{mi(e,l)}).catch(l=>{Pr(l,e,0)});e.asyncDep=o}else mi(e,o)}else ka(e)}function mi(e,t,n){B(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:se(t)&&(e.setupState=Jo(t)),ka(e)}function ka(e,t,n){const r=e.type;e.render||(e.render=r.render||rt);{const s=Gn(e);Rt();try{wc(e)}finally{kt(),s()}}}const iu={get(e,t){return pe(e,"get",""),e[t]}};function ou(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,iu),slots:e.slots,emit:e.emit,expose:t}}function Ar(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Jo(Jl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in On)return On[n](e)},has(t,n){return n in t||n in On}})):e.proxy}function au(e){return B(e)&&"__vccOpts"in e}const He=(e,t)=>ec(e,t,qn);function Te(e,t,n){const r=arguments.length;return r===2?se(t)&&!F(t)?gr(t)?Pe(e,null,[t]):Pe(e,t):Pe(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&gr(n)&&(n=[n]),Pe(e,t,n))}const lu="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let us;const yi=typeof window<"u"&&window.trustedTypes;if(yi)try{us=yi.createPolicy("vue",{createHTML:e=>e})}catch{}const Ta=us?e=>us.createHTML(e):e=>e,cu="http://www.w3.org/2000/svg",uu="http://www.w3.org/1998/Math/MathML",ct=typeof document<"u"?document:null,_i=ct&&ct.createElement("template"),fu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?ct.createElementNS(cu,e):t==="mathml"?ct.createElementNS(uu,e):n?ct.createElement(e,{is:n}):ct.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>ct.createTextNode(e),createComment:e=>ct.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ct.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{_i.innerHTML=Ta(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=_i.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},du=Symbol("_vtc");function hu(e,t,n){const r=e[du];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const vi=Symbol("_vod"),pu=Symbol("_vsh"),gu=Symbol(""),mu=/(^|;)\s*display\s*:/;function yu(e,t,n){const r=e.style,s=le(n);let i=!1;if(n&&!s){if(t)if(le(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&cr(r,a,"")}else for(const o in t)n[o]==null&&cr(r,o,"");for(const o in n)o==="display"&&(i=!0),cr(r,o,n[o])}else if(s){if(t!==n){const o=r[gu];o&&(n+=";"+o),r.cssText=n,i=mu.test(n)}}else t&&e.removeAttribute("style");vi in e&&(e[vi]=i?r.display:"",e[pu]&&(r.display="none"))}const bi=/\s*!important$/;function cr(e,t,n){if(F(n))n.forEach(r=>cr(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=_u(e,t);bi.test(n)?e.setProperty(Ft(r),n.replace(bi,""),"important"):e[r]=n}}const wi=["Webkit","Moz","ms"],qr={};function _u(e,t){const n=qr[t];if(n)return n;let r=Pt(t);if(r!=="filter"&&r in e)return qr[t]=r;r=Ro(r);for(let s=0;s<wi.length;s++){const i=wi[s]+r;if(i in e)return qr[t]=i}return t}const Ei="http://www.w3.org/1999/xlink";function Si(e,t,n,r,s,i=kl(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Ei,t.slice(6,t.length)):e.setAttributeNS(Ei,t,n):n==null||i&&!To(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Ct(n)?String(n):n)}function xi(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Ta(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=To(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(s||t)}function tn(e,t,n,r){e.addEventListener(t,n,r)}function vu(e,t,n,r){e.removeEventListener(t,n,r)}const Pi=Symbol("_vei");function bu(e,t,n,r,s=null){const i=e[Pi]||(e[Pi]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=wu(t);if(r){const c=i[t]=xu(r,s);tn(e,a,c,l)}else o&&(vu(e,a,o,l),i[t]=void 0)}}const Ci=/(?:Once|Passive|Capture)$/;function wu(e){let t;if(Ci.test(e)){t={};let r;for(;r=e.match(Ci);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ft(e.slice(2)),t]}let Hr=0;const Eu=Promise.resolve(),Su=()=>Hr||(Eu.then(()=>Hr=0),Hr=Date.now());function xu(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;st(Pu(r,n.value),t,5,[r])};return n.value=e,n.attached=Su(),n}function Pu(e,t){if(F(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Ri=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Cu=(e,t,n,r,s,i)=>{const o=s==="svg";t==="class"?hu(e,r,o):t==="style"?yu(e,n,r):vr(t)?Ss(t)||bu(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ru(e,t,r,o))?(xi(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Si(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!le(r))?xi(e,Pt(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Si(e,t,r,o))};function Ru(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ri(t)&&B(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Ri(t)&&le(n)?!1:t in e}const ki=e=>{const t=e.props["onUpdate:modelValue"]||!1;return F(t)?n=>or(t,n):t};function ku(e){e.target.composing=!0}function Ti(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Vr=Symbol("_assign"),Aa={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[Vr]=ki(s);const i=r||s.props&&s.props.type==="number";tn(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=Xr(a)),e[Vr](a)}),n&&tn(e,"change",()=>{e.value=e.value.trim()}),t||(tn(e,"compositionstart",ku),tn(e,"compositionend",Ti),tn(e,"change",Ti))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(e[Vr]=ki(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?Xr(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===l)||(e.value=l))}},Tu=["ctrl","shift","alt","meta"],Au={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Tu.some(n=>e[`${n}Key`]&&!t.includes(n))},Ou=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<t.length;o++){const a=Au[t[o]];if(a&&a(s,t))return}return e(s,...i)})},$u=ve({patchProp:Cu},fu);let Ai;function Iu(){return Ai||(Ai=jc($u))}const ju=(...e)=>{const t=Iu().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Lu(r);if(!s)return;const i=t._component;!B(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,Mu(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function Mu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Lu(e){return le(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const nn=typeof document<"u";function Oa(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Du(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Oa(e.default)}const W=Object.assign;function Kr(e,t){const n={};for(const r in t){const s=t[r];n[r]=We(s)?s.map(e):e(s)}return n}const jn=()=>{},We=Array.isArray,$a=/#/g,Uu=/&/g,Nu=/\//g,Fu=/=/g,Bu=/\?/g,Ia=/\+/g,zu=/%5B/g,qu=/%5D/g,ja=/%5E/g,Hu=/%60/g,Ma=/%7B/g,Vu=/%7C/g,La=/%7D/g,Ku=/%20/g;function zs(e){return encodeURI(""+e).replace(Vu,"|").replace(zu,"[").replace(qu,"]")}function Wu(e){return zs(e).replace(Ma,"{").replace(La,"}").replace(ja,"^")}function fs(e){return zs(e).replace(Ia,"%2B").replace(Ku,"+").replace($a,"%23").replace(Uu,"%26").replace(Hu,"`").replace(Ma,"{").replace(La,"}").replace(ja,"^")}function Gu(e){return fs(e).replace(Fu,"%3D")}function Ju(e){return zs(e).replace($a,"%23").replace(Bu,"%3F")}function Qu(e){return e==null?"":Ju(e).replace(Nu,"%2F")}function Hn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Yu=/\/$/,Zu=e=>e.replace(Yu,"");function Wr(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),s=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=nf(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Hn(o)}}function Xu(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Oi(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ef(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&dn(t.matched[r],n.matched[s])&&Da(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function dn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Da(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!tf(e[n],t[n]))return!1;return!0}function tf(e,t){return We(e)?$i(e,t):We(t)?$i(t,e):e===t}function $i(e,t){return We(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function nf(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const mt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Vn;(function(e){e.pop="pop",e.push="push"})(Vn||(Vn={}));var Mn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Mn||(Mn={}));function rf(e){if(!e)if(nn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Zu(e)}const sf=/^[^#]+#/;function of(e,t){return e.replace(sf,"#")+t}function af(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Or=()=>({left:window.scrollX,top:window.scrollY});function lf(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=af(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ii(e,t){return(history.state?history.state.position-t:-1)+e}const ds=new Map;function cf(e,t){ds.set(e,t)}function uf(e){const t=ds.get(e);return ds.delete(e),t}let ff=()=>location.protocol+"//"+location.host;function Ua(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Oi(l,"")}return Oi(n,e)+r+s}function df(e,t,n,r){let s=[],i=[],o=null;const a=({state:d})=>{const h=Ua(e,location),y=n.value,_=t.value;let w=0;if(d){if(n.value=h,t.value=d,o&&o===y){o=null;return}w=_?d.position-_.position:0}else r(h);s.forEach(R=>{R(n.value,y,{delta:w,type:Vn.pop,direction:w?w>0?Mn.forward:Mn.back:Mn.unknown})})};function l(){o=n.value}function c(d){s.push(d);const h=()=>{const y=s.indexOf(d);y>-1&&s.splice(y,1)};return i.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(W({},d.state,{scroll:Or()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function ji(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Or():null}}function hf(e){const{history:t,location:n}=window,r={value:Ua(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:ff()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),s.value=c}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function o(l,c){const u=W({},t.state,ji(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=W({},s.value,t.state,{forward:l,scroll:Or()});i(u.current,u,!0);const f=W({},ji(r.value,l,null),{position:u.position+1},c);i(l,f,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function pf(e){e=rf(e);const t=hf(e),n=df(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=W({location:"",base:e,go:r,createHref:of.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function gf(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),pf(e)}function mf(e){return typeof e=="string"||e&&typeof e=="object"}function Na(e){return typeof e=="string"||typeof e=="symbol"}const Fa=Symbol("");var Mi;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Mi||(Mi={}));function hn(e,t){return W(new Error,{type:e,[Fa]:!0},t)}function lt(e,t){return e instanceof Error&&Fa in e&&(t==null||!!(e.type&t))}const Li="[^/]+?",yf={sensitive:!1,strict:!1,start:!0,end:!0},_f=/[.+*?^${}()[\]/\\]/g;function vf(e,t){const n=W({},yf,t),r=[];let s=n.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(s+="/"),s+=d.value.replace(_f,"\\$&"),h+=40;else if(d.type===1){const{value:y,repeatable:_,optional:w,regexp:R}=d;i.push({name:y,repeatable:_,optional:w});const k=R||Li;if(k!==Li){h+=10;try{new RegExp(`(${k})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${y}" (${k}): `+x.message)}}let P=_?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;f||(P=w&&c.length<2?`(?:/${P})`:"/"+P),w&&(P+="?"),s+=P,h+=20,w&&(h+=-8),_&&(h+=-20),k===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",y=i[d-1];f[y.name]=h&&y.repeatable?h.split("/"):h}return f}function l(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:y,repeatable:_,optional:w}=h,R=y in c?c[y]:"";if(We(R)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const k=We(R)?R.join("/"):R;if(!k)if(w)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);u+=k}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function bf(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Ba(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=bf(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Di(r))return 1;if(Di(s))return-1}return s.length-r.length}function Di(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const wf={type:0,value:""},Ef=/[a-zA-Z0-9_]/;function Sf(e){if(!e)return[[]];if(e==="/")return[[wf]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",u="";function f(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:Ef.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),o(),s}function xf(e,t,n){const r=vf(Sf(e.path),n),s=W(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Pf(e,t){const n=[],r=new Map;t=Bi({strict:!1,end:!0,sensitive:!1},t);function s(f){return r.get(f)}function i(f,d,h){const y=!h,_=Ni(f);_.aliasOf=h&&h.record;const w=Bi(t,f),R=[_];if("alias"in f){const x=typeof f.alias=="string"?[f.alias]:f.alias;for(const M of x)R.push(Ni(W({},_,{components:h?h.record.components:_.components,path:M,aliasOf:h?h.record:_})))}let k,P;for(const x of R){const{path:M}=x;if(d&&M[0]!=="/"){const Q=d.record.path,q=Q[Q.length-1]==="/"?"":"/";x.path=d.record.path+(M&&q+M)}if(k=xf(x,d,w),h?h.alias.push(k):(P=P||k,P!==k&&P.alias.push(k),y&&f.name&&!Fi(k)&&o(f.name)),za(k)&&l(k),_.children){const Q=_.children;for(let q=0;q<Q.length;q++)i(Q[q],k,h&&h.children[q])}h=h||k}return P?()=>{o(P)}:jn}function o(f){if(Na(f)){const d=r.get(f);d&&(r.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const d=kf(f,n);n.splice(d,0,f),f.record.name&&!Fi(f)&&r.set(f.record.name,f)}function c(f,d){let h,y={},_,w;if("name"in f&&f.name){if(h=r.get(f.name),!h)throw hn(1,{location:f});w=h.record.name,y=W(Ui(d.params,h.keys.filter(P=>!P.optional).concat(h.parent?h.parent.keys.filter(P=>P.optional):[]).map(P=>P.name)),f.params&&Ui(f.params,h.keys.map(P=>P.name))),_=h.stringify(y)}else if(f.path!=null)_=f.path,h=n.find(P=>P.re.test(_)),h&&(y=h.parse(_),w=h.record.name);else{if(h=d.name?r.get(d.name):n.find(P=>P.re.test(d.path)),!h)throw hn(1,{location:f,currentLocation:d});w=h.record.name,y=W({},d.params,f.params),_=h.stringify(y)}const R=[];let k=h;for(;k;)R.unshift(k.record),k=k.parent;return{name:w,path:_,params:y,matched:R,meta:Rf(R)}}e.forEach(f=>i(f));function u(){n.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function Ui(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Ni(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Cf(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Cf(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Fi(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Rf(e){return e.reduce((t,n)=>W(t,n.meta),{})}function Bi(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function kf(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;Ba(e,t[i])<0?r=i:n=i+1}const s=Tf(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function Tf(e){let t=e;for(;t=t.parent;)if(za(t)&&Ba(e,t)===0)return t}function za({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Af(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Ia," "),o=i.indexOf("="),a=Hn(o<0?i:i.slice(0,o)),l=o<0?null:Hn(i.slice(o+1));if(a in t){let c=t[a];We(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function zi(e){let t="";for(let n in e){const r=e[n];if(n=Gu(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(We(r)?r.map(i=>i&&fs(i)):[r&&fs(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Of(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=We(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const $f=Symbol(""),qi=Symbol(""),$r=Symbol(""),qs=Symbol(""),hs=Symbol("");function wn(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function wt(e,t,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(hn(4,{from:n,to:t})):d instanceof Error?l(d):mf(d)?l(hn(2,{from:t,to:d})):(o&&r.enterCallbacks[s]===o&&typeof d=="function"&&o.push(d),a())},u=i(()=>e.call(r&&r.instances[s],t,n,c));let f=Promise.resolve(u);e.length<3&&(f=f.then(c)),f.catch(d=>l(d))})}function Gr(e,t,n,r,s=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Oa(l)){const u=(l.__vccOpts||l)[t];u&&i.push(wt(u,n,r,o,a,s))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=Du(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const h=(f.__vccOpts||f)[t];return h&&wt(h,n,r,o,a,s)()}))}}return i}function Hi(e){const t=ie($r),n=ie(qs),r=He(()=>{const l=me(e.to);return t.resolve(l)}),s=He(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(dn.bind(null,u));if(d>-1)return d;const h=Vi(l[c-2]);return c>1&&Vi(u)===h&&f[f.length-1].path!==h?f.findIndex(dn.bind(null,l[c-2])):d}),i=He(()=>s.value>-1&&Lf(n.params,r.value.params)),o=He(()=>s.value>-1&&s.value===n.matched.length-1&&Da(n.params,r.value.params));function a(l={}){if(Mf(l)){const c=t[me(e.replace)?"replace":"push"](me(e.to)).catch(jn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:He(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function If(e){return e.length===1?e[0]:e}const jf=Be({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Hi,setup(e,{slots:t}){const n=xr(Hi(e)),{options:r}=ie($r),s=He(()=>({[Ki(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Ki(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&If(t.default(n));return e.custom?i:Te("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),qa=jf;function Mf(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Lf(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!We(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Vi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ki=(e,t,n)=>e??t??n,Df=Be({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=ie(hs),s=He(()=>e.route||r.value),i=ie(qi,0),o=He(()=>{let c=me(i);const{matched:u}=s.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=He(()=>s.value.matched[o.value]);$n(qi,He(()=>o.value+1)),$n($f,a),$n(hs,s);const l=Ke();return ar(()=>[l.value,a.value,e.name],([c,u,f],[d,h,y])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!dn(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=s.value,u=e.name,f=a.value,d=f&&f.components[u];if(!d)return Wi(n.default,{Component:d,route:c});const h=f.props[u],y=h?h===!0?c.params:typeof h=="function"?h(c):h:null,w=Te(d,W({},y,t,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return Wi(n.default,{Component:w,route:c})||w}}});function Wi(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Hs=Df;function Uf(e){const t=Pf(e.routes,e),n=e.parseQuery||Af,r=e.stringifyQuery||zi,s=e.history,i=wn(),o=wn(),a=wn(),l=Ql(mt);let c=mt;nn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Kr.bind(null,b=>""+b),f=Kr.bind(null,Qu),d=Kr.bind(null,Hn);function h(b,j){let $,L;return Na(b)?($=t.getRecordMatcher(b),L=j):L=b,t.addRoute(L,$)}function y(b){const j=t.getRecordMatcher(b);j&&t.removeRoute(j)}function _(){return t.getRoutes().map(b=>b.record)}function w(b){return!!t.getRecordMatcher(b)}function R(b,j){if(j=W({},j||l.value),typeof b=="string"){const m=Wr(n,b,j.path),v=t.resolve({path:m.path},j),S=s.createHref(m.fullPath);return W(m,v,{params:d(v.params),hash:Hn(m.hash),redirectedFrom:void 0,href:S})}let $;if(b.path!=null)$=W({},b,{path:Wr(n,b.path,j.path).path});else{const m=W({},b.params);for(const v in m)m[v]==null&&delete m[v];$=W({},b,{params:f(m)}),j.params=f(j.params)}const L=t.resolve($,j),X=b.hash||"";L.params=u(d(L.params));const p=Xu(r,W({},b,{hash:Wu(X),path:L.path})),g=s.createHref(p);return W({fullPath:p,hash:X,query:r===zi?Of(b.query):b.query||{}},L,{redirectedFrom:void 0,href:g})}function k(b){return typeof b=="string"?Wr(n,b,l.value.path):W({},b)}function P(b,j){if(c!==b)return hn(8,{from:j,to:b})}function x(b){return q(b)}function M(b){return x(W(k(b),{replace:!0}))}function Q(b){const j=b.matched[b.matched.length-1];if(j&&j.redirect){const{redirect:$}=j;let L=typeof $=="function"?$(b):$;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=k(L):{path:L},L.params={}),W({query:b.query,hash:b.hash,params:L.path!=null?{}:b.params},L)}}function q(b,j){const $=c=R(b),L=l.value,X=b.state,p=b.force,g=b.replace===!0,m=Q($);if(m)return q(W(k(m),{state:typeof m=="object"?W({},X,m.state):X,force:p,replace:g}),j||$);const v=$;v.redirectedFrom=j;let S;return!p&&ef(r,L,$)&&(S=hn(16,{to:v,from:L}),Ge(L,L,!0,!1)),(S?Promise.resolve(S):be(v,L)).catch(E=>lt(E)?lt(E,2)?E:gt(E):K(E,v,L)).then(E=>{if(E){if(lt(E,2))return q(W({replace:g},k(E.to),{state:typeof E.to=="object"?W({},X,E.to.state):X,force:p}),j||v)}else E=he(v,L,!0,g,X);return we(v,L,E),E})}function ce(b,j){const $=P(b,j);return $?Promise.reject($):Promise.resolve()}function oe(b){const j=Ht.values().next().value;return j&&typeof j.runWithContext=="function"?j.runWithContext(b):b()}function be(b,j){let $;const[L,X,p]=Nf(b,j);$=Gr(L.reverse(),"beforeRouteLeave",b,j);for(const m of L)m.leaveGuards.forEach(v=>{$.push(wt(v,b,j))});const g=ce.bind(null,b,j);return $.push(g),Le($).then(()=>{$=[];for(const m of i.list())$.push(wt(m,b,j));return $.push(g),Le($)}).then(()=>{$=Gr(X,"beforeRouteUpdate",b,j);for(const m of X)m.updateGuards.forEach(v=>{$.push(wt(v,b,j))});return $.push(g),Le($)}).then(()=>{$=[];for(const m of p)if(m.beforeEnter)if(We(m.beforeEnter))for(const v of m.beforeEnter)$.push(wt(v,b,j));else $.push(wt(m.beforeEnter,b,j));return $.push(g),Le($)}).then(()=>(b.matched.forEach(m=>m.enterCallbacks={}),$=Gr(p,"beforeRouteEnter",b,j,oe),$.push(g),Le($))).then(()=>{$=[];for(const m of o.list())$.push(wt(m,b,j));return $.push(g),Le($)}).catch(m=>lt(m,8)?m:Promise.reject(m))}function we(b,j,$){a.list().forEach(L=>oe(()=>L(b,j,$)))}function he(b,j,$,L,X){const p=P(b,j);if(p)return p;const g=j===mt,m=nn?history.state:{};$&&(L||g?s.replace(b.fullPath,W({scroll:g&&m&&m.scroll},X)):s.push(b.fullPath,X)),l.value=b,Ge(b,j,$,g),gt()}let de;function it(){de||(de=s.listen((b,j,$)=>{if(!Yn.listening)return;const L=R(b),X=Q(L);if(X){q(W(X,{replace:!0,force:!0}),L).catch(jn);return}c=L;const p=l.value;nn&&cf(Ii(p.fullPath,$.delta),Or()),be(L,p).catch(g=>lt(g,12)?g:lt(g,2)?(q(W(k(g.to),{force:!0}),L).then(m=>{lt(m,20)&&!$.delta&&$.type===Vn.pop&&s.go(-1,!1)}).catch(jn),Promise.reject()):($.delta&&s.go(-$.delta,!1),K(g,L,p))).then(g=>{g=g||he(L,p,!1),g&&($.delta&&!lt(g,8)?s.go(-$.delta,!1):$.type===Vn.pop&&lt(g,20)&&s.go(-1,!1)),we(L,p,g)}).catch(jn)}))}let ze=wn(),ae=wn(),Z;function K(b,j,$){gt(b);const L=ae.list();return L.length?L.forEach(X=>X(b,j,$)):console.error(b),Promise.reject(b)}function ot(){return Z&&l.value!==mt?Promise.resolve():new Promise((b,j)=>{ze.add([b,j])})}function gt(b){return Z||(Z=!b,it(),ze.list().forEach(([j,$])=>b?$(b):j()),ze.reset()),b}function Ge(b,j,$,L){const{scrollBehavior:X}=e;if(!nn||!X)return Promise.resolve();const p=!$&&uf(Ii(b.fullPath,0))||(L||!$)&&history.state&&history.state.scroll||null;return Yo().then(()=>X(b,j,p)).then(g=>g&&lf(g)).catch(g=>K(g,b,j))}const Ce=b=>s.go(b);let qt;const Ht=new Set,Yn={currentRoute:l,listening:!0,addRoute:h,removeRoute:y,clearRoutes:t.clearRoutes,hasRoute:w,getRoutes:_,resolve:R,options:e,push:x,replace:M,go:Ce,back:()=>Ce(-1),forward:()=>Ce(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ae.add,isReady:ot,install(b){const j=this;b.component("RouterLink",qa),b.component("RouterView",Hs),b.config.globalProperties.$router=j,Object.defineProperty(b.config.globalProperties,"$route",{enumerable:!0,get:()=>me(l)}),nn&&!qt&&l.value===mt&&(qt=!0,x(s.location).catch(X=>{}));const $={};for(const X in mt)Object.defineProperty($,X,{get:()=>l.value[X],enumerable:!0});b.provide($r,j),b.provide(qs,Ko($)),b.provide(hs,l);const L=b.unmount;Ht.add(b),b.unmount=function(){Ht.delete(b),Ht.size<1&&(c=mt,de&&de(),de=null,l.value=mt,qt=!1,Z=!1),L()}}};function Le(b){return b.reduce((j,$)=>j.then(()=>oe($)),Promise.resolve())}return Yn}function Nf(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>dn(c,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>dn(c,l))||s.push(l))}return[n,r,s]}function Jn(){return ie($r)}function Ha(e){return ie(qs)}const Ff=Be({__name:"App",setup(e){return(t,n)=>(Fe(),Fs(me(Hs)))}}),Bf={showNotification:e=>alert(e)},zf=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},qf={};function Hf(e,t){return Fe(),ht("div")}const Vf=zf(qf,[["render",Hf]]);/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 * © 2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var nt=function(){return nt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},nt.apply(this,arguments)};var Nt;(function(e){var t=function(){function o(a,l,c,u){if(this.version=a,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version value out of range");if(u<-1||u>7)throw new RangeError("Mask value out of range");this.size=a*4+17;for(var f=[],d=0;d<this.size;d++)f.push(!1);for(var d=0;d<this.size;d++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();var h=this.addEccAndInterleave(c);if(this.drawCodewords(h),u==-1)for(var y=1e9,d=0;d<8;d++){this.applyMask(d),this.drawFormatBits(d);var _=this.getPenaltyScore();_<y&&(u=d,y=_),this.applyMask(d)}s(0<=u&&u<=7),this.mask=u,this.applyMask(u),this.drawFormatBits(u),this.isFunction=[]}return o.encodeText=function(a,l){var c=e.QrSegment.makeSegments(a);return o.encodeSegments(c,l)},o.encodeBinary=function(a,l){var c=e.QrSegment.makeBytes(a);return o.encodeSegments([c],l)},o.encodeSegments=function(a,l,c,u,f,d){if(c===void 0&&(c=1),u===void 0&&(u=40),f===void 0&&(f=-1),d===void 0&&(d=!0),!(o.MIN_VERSION<=c&&c<=u&&u<=o.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");var h,y;for(h=c;;h++){var _=o.getNumDataCodewords(h,l)*8,w=i.getTotalBits(a,h);if(w<=_){y=w;break}if(h>=u)throw new RangeError("Data too long")}for(var R=0,k=[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH];R<k.length;R++){var P=k[R];d&&y<=o.getNumDataCodewords(h,P)*8&&(l=P)}for(var x=[],M=0,Q=a;M<Q.length;M++){var q=Q[M];n(q.mode.modeBits,4,x),n(q.numChars,q.mode.numCharCountBits(h),x);for(var ce=0,oe=q.getData();ce<oe.length;ce++){var be=oe[ce];x.push(be)}}s(x.length==y);var we=o.getNumDataCodewords(h,l)*8;s(x.length<=we),n(0,Math.min(4,we-x.length),x),n(0,(8-x.length%8)%8,x),s(x.length%8==0);for(var he=236;x.length<we;he^=253)n(he,8,x);for(var de=[];de.length*8<x.length;)de.push(0);return x.forEach(function(it,ze){return de[ze>>>3]|=it<<7-(ze&7)}),new o(h,l,de,f)},o.prototype.getModule=function(a,l){return 0<=a&&a<this.size&&0<=l&&l<this.size&&this.modules[l][a]},o.prototype.getModules=function(){return this.modules},o.prototype.drawFunctionPatterns=function(){for(var a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var l=this.getAlignmentPatternPositions(),c=l.length,a=0;a<c;a++)for(var u=0;u<c;u++)a==0&&u==0||a==0&&u==c-1||a==c-1&&u==0||this.drawAlignmentPattern(l[a],l[u]);this.drawFormatBits(0),this.drawVersion()},o.prototype.drawFormatBits=function(a){for(var l=this.errorCorrectionLevel.formatBits<<3|a,c=l,u=0;u<10;u++)c=c<<1^(c>>>9)*1335;var f=(l<<10|c)^21522;s(f>>>15==0);for(var u=0;u<=5;u++)this.setFunctionModule(8,u,r(f,u));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(var u=9;u<15;u++)this.setFunctionModule(14-u,8,r(f,u));for(var u=0;u<8;u++)this.setFunctionModule(this.size-1-u,8,r(f,u));for(var u=8;u<15;u++)this.setFunctionModule(8,this.size-15+u,r(f,u));this.setFunctionModule(8,this.size-8,!0)},o.prototype.drawVersion=function(){if(!(this.version<7)){for(var a=this.version,l=0;l<12;l++)a=a<<1^(a>>>11)*7973;var c=this.version<<12|a;s(c>>>18==0);for(var l=0;l<18;l++){var u=r(c,l),f=this.size-11+l%3,d=Math.floor(l/3);this.setFunctionModule(f,d,u),this.setFunctionModule(d,f,u)}}},o.prototype.drawFinderPattern=function(a,l){for(var c=-4;c<=4;c++)for(var u=-4;u<=4;u++){var f=Math.max(Math.abs(u),Math.abs(c)),d=a+u,h=l+c;0<=d&&d<this.size&&0<=h&&h<this.size&&this.setFunctionModule(d,h,f!=2&&f!=4)}},o.prototype.drawAlignmentPattern=function(a,l){for(var c=-2;c<=2;c++)for(var u=-2;u<=2;u++)this.setFunctionModule(a+u,l+c,Math.max(Math.abs(u),Math.abs(c))!=1)},o.prototype.setFunctionModule=function(a,l,c){this.modules[l][a]=c,this.isFunction[l][a]=!0},o.prototype.addEccAndInterleave=function(a){var l=this.version,c=this.errorCorrectionLevel;if(a.length!=o.getNumDataCodewords(l,c))throw new RangeError("Invalid argument");for(var u=o.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l],f=o.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l],d=Math.floor(o.getNumRawDataModules(l)/8),h=u-d%u,y=Math.floor(d/u),_=[],w=o.reedSolomonComputeDivisor(f),R=0,k=0;R<u;R++){var P=a.slice(k,k+y-f+(R<h?0:1));k+=P.length;var x=o.reedSolomonComputeRemainder(P,w);R<h&&P.push(0),_.push(P.concat(x))}for(var M=[],Q=function(q){_.forEach(function(ce,oe){(q!=y-f||oe>=h)&&M.push(ce[q])})},R=0;R<_[0].length;R++)Q(R);return s(M.length==d),M},o.prototype.drawCodewords=function(a){if(a.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var l=0,c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(var u=0;u<this.size;u++)for(var f=0;f<2;f++){var d=c-f,h=(c+1&2)==0,y=h?this.size-1-u:u;!this.isFunction[y][d]&&l<a.length*8&&(this.modules[y][d]=r(a[l>>>3],7-(l&7)),l++)}}s(l==a.length*8)},o.prototype.applyMask=function(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(var l=0;l<this.size;l++)for(var c=0;c<this.size;c++){var u=void 0;switch(a){case 0:u=(c+l)%2==0;break;case 1:u=l%2==0;break;case 2:u=c%3==0;break;case 3:u=(c+l)%3==0;break;case 4:u=(Math.floor(c/3)+Math.floor(l/2))%2==0;break;case 5:u=c*l%2+c*l%3==0;break;case 6:u=(c*l%2+c*l%3)%2==0;break;case 7:u=((c+l)%2+c*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][c]&&u&&(this.modules[l][c]=!this.modules[l][c])}},o.prototype.getPenaltyScore=function(){for(var a=0,l=0;l<this.size;l++){for(var c=!1,u=0,f=[0,0,0,0,0,0,0],d=0;d<this.size;d++)this.modules[l][d]==c?(u++,u==5?a+=o.PENALTY_N1:u>5&&a++):(this.finderPenaltyAddHistory(u,f),c||(a+=this.finderPenaltyCountPatterns(f)*o.PENALTY_N3),c=this.modules[l][d],u=1);a+=this.finderPenaltyTerminateAndCount(c,u,f)*o.PENALTY_N3}for(var d=0;d<this.size;d++){for(var c=!1,h=0,f=[0,0,0,0,0,0,0],l=0;l<this.size;l++)this.modules[l][d]==c?(h++,h==5?a+=o.PENALTY_N1:h>5&&a++):(this.finderPenaltyAddHistory(h,f),c||(a+=this.finderPenaltyCountPatterns(f)*o.PENALTY_N3),c=this.modules[l][d],h=1);a+=this.finderPenaltyTerminateAndCount(c,h,f)*o.PENALTY_N3}for(var l=0;l<this.size-1;l++)for(var d=0;d<this.size-1;d++){var y=this.modules[l][d];y==this.modules[l][d+1]&&y==this.modules[l+1][d]&&y==this.modules[l+1][d+1]&&(a+=o.PENALTY_N2)}for(var _=0,w=0,R=this.modules;w<R.length;w++){var k=R[w];_=k.reduce(function(M,Q){return M+(Q?1:0)},_)}var P=this.size*this.size,x=Math.ceil(Math.abs(_*20-P*10)/P)-1;return s(0<=x&&x<=9),a+=x*o.PENALTY_N4,s(0<=a&&a<=2568888),a},o.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var a=Math.floor(this.version/7)+2,l=Math.floor((this.version*8+a*3+5)/(a*4-4))*2,c=[6],u=this.size-7;c.length<a;u-=l)c.splice(1,0,u);return c},o.getNumRawDataModules=function(a){if(a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version number out of range");var l=(16*a+128)*a+64;if(a>=2){var c=Math.floor(a/7)+2;l-=(25*c-10)*c-55,a>=7&&(l-=36)}return s(208<=l&&l<=29648),l},o.getNumDataCodewords=function(a,l){return Math.floor(o.getNumRawDataModules(a)/8)-o.ECC_CODEWORDS_PER_BLOCK[l.ordinal][a]*o.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][a]},o.reedSolomonComputeDivisor=function(a){if(a<1||a>255)throw new RangeError("Degree out of range");for(var l=[],c=0;c<a-1;c++)l.push(0);l.push(1);for(var u=1,c=0;c<a;c++){for(var f=0;f<l.length;f++)l[f]=o.reedSolomonMultiply(l[f],u),f+1<l.length&&(l[f]^=l[f+1]);u=o.reedSolomonMultiply(u,2)}return l},o.reedSolomonComputeRemainder=function(a,l){for(var c=l.map(function(y){return 0}),u=function(y){var _=y^c.shift();c.push(0),l.forEach(function(w,R){return c[R]^=o.reedSolomonMultiply(w,_)})},f=0,d=a;f<d.length;f++){var h=d[f];u(h)}return c},o.reedSolomonMultiply=function(a,l){if(a>>>8||l>>>8)throw new RangeError("Byte out of range");for(var c=0,u=7;u>=0;u--)c=c<<1^(c>>>7)*285,c^=(l>>>u&1)*a;return s(c>>>8==0),c},o.prototype.finderPenaltyCountPatterns=function(a){var l=a[1];s(l<=this.size*3);var c=l>0&&a[2]==l&&a[3]==l*3&&a[4]==l&&a[5]==l;return(c&&a[0]>=l*4&&a[6]>=l?1:0)+(c&&a[6]>=l*4&&a[0]>=l?1:0)},o.prototype.finderPenaltyTerminateAndCount=function(a,l,c){return a&&(this.finderPenaltyAddHistory(l,c),l=0),l+=this.size,this.finderPenaltyAddHistory(l,c),this.finderPenaltyCountPatterns(c)},o.prototype.finderPenaltyAddHistory=function(a,l){l[0]==0&&(a+=this.size),l.pop(),l.unshift(a)},o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o}();e.QrCode=t;function n(o,a,l){if(a<0||a>31||o>>>a)throw new RangeError("Value out of range");for(var c=a-1;c>=0;c--)l.push(o>>>c&1)}function r(o,a){return(o>>>a&1)!=0}function s(o){if(!o)throw new Error("Assertion error")}var i=function(){function o(a,l,c){if(this.mode=a,this.numChars=l,this.bitData=c,l<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}return o.makeBytes=function(a){for(var l=[],c=0,u=a;c<u.length;c++){var f=u[c];n(f,8,l)}return new o(o.Mode.BYTE,a.length,l)},o.makeNumeric=function(a){if(!o.isNumeric(a))throw new RangeError("String contains non-numeric characters");for(var l=[],c=0;c<a.length;){var u=Math.min(a.length-c,3);n(parseInt(a.substring(c,c+u),10),u*3+1,l),c+=u}return new o(o.Mode.NUMERIC,a.length,l)},o.makeAlphanumeric=function(a){if(!o.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");var l=[],c;for(c=0;c+2<=a.length;c+=2){var u=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c))*45;u+=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c+1)),n(u,11,l)}return c<a.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c)),6,l),new o(o.Mode.ALPHANUMERIC,a.length,l)},o.makeSegments=function(a){return a==""?[]:o.isNumeric(a)?[o.makeNumeric(a)]:o.isAlphanumeric(a)?[o.makeAlphanumeric(a)]:[o.makeBytes(o.toUtf8ByteArray(a))]},o.makeEci=function(a){var l=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)n(a,8,l);else if(a<16384)n(2,2,l),n(a,14,l);else if(a<1e6)n(6,3,l),n(a,21,l);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,l)},o.isNumeric=function(a){return o.NUMERIC_REGEX.test(a)},o.isAlphanumeric=function(a){return o.ALPHANUMERIC_REGEX.test(a)},o.prototype.getData=function(){return this.bitData.slice()},o.getTotalBits=function(a,l){for(var c=0,u=0,f=a;u<f.length;u++){var d=f[u],h=d.mode.numCharCountBits(l);if(d.numChars>=1<<h)return 1/0;c+=4+h+d.bitData.length}return c},o.toUtf8ByteArray=function(a){a=encodeURI(a);for(var l=[],c=0;c<a.length;c++)a.charAt(c)!="%"?l.push(a.charCodeAt(c)):(l.push(parseInt(a.substring(c+1,c+3),16)),c+=2);return l},o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",o}();e.QrSegment=i})(Nt||(Nt={}));(function(e){(function(t){var n=function(){function r(s,i){this.ordinal=s,this.formatBits=i}return r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),r}();t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Nt||(Nt={}));(function(e){(function(t){var n=function(){function r(s,i){this.modeBits=s,this.numBitsCharCount=i}return r.prototype.numCharCountBits=function(s){return this.numBitsCharCount[Math.floor((s+7)/17)]},r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),r}();t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Nt||(Nt={}));var rn=Nt,Vs="L",Ks={L:rn.QrCode.Ecc.LOW,M:rn.QrCode.Ecc.MEDIUM,Q:rn.QrCode.Ecc.QUARTILE,H:rn.QrCode.Ecc.HIGH},Kf=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function Ws(e){return e in Ks}function Va(e,t){t===void 0&&(t=0);var n=[];return e.forEach(function(r,s){var i=null;r.forEach(function(o,a){if(!o&&i!==null){n.push("M".concat(i+t," ").concat(s+t,"h").concat(a-i,"v1H").concat(i+t,"z")),i=null;return}if(a===r.length-1){if(!o)return;i===null?n.push("M".concat(a+t,",").concat(s+t," h1v1H").concat(a+t,"z")):n.push("M".concat(i+t,",").concat(s+t," h").concat(a+1-i,"v1H").concat(i+t,"z"));return}o&&i===null&&(i=a)})}),n.join("")}function Ka(e,t,n,r){var s=r.width,i=r.height,o=r.x,a=r.y,l=e.length+n*2,c=Math.floor(t*.1),u=l/t,f=(s||c)*u,d=(i||c)*u,h=o==null?e.length/2-f/2:o*u,y=a==null?e.length/2-d/2:a*u,_=null;if(r.excavate){var w=Math.floor(h),R=Math.floor(y),k=Math.ceil(f+h-w),P=Math.ceil(d+y-R);_={x:w,y:R,w:k,h:P}}return{x:h,y,h:d,w:f,excavation:_}}function Wa(e,t){return e.slice().map(function(n,r){return r<t.y||r>=t.y+t.h?n:n.map(function(s,i){return i<t.x||i>=t.x+t.w?s:!1})})}var Gs={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:Vs,validator:function(e){return Ws(e)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(e){return["linear","radial"].indexOf(e)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},Wf=nt(nt({},Gs),{renderAs:{type:String,required:!1,default:"canvas",validator:function(e){return["canvas","svg"].indexOf(e)>-1}}}),Gf=Be({name:"QRCodeSvg",props:Gs,setup:function(e){var t=Ke(0),n=Ke(""),r,s=function(){var o=e.value,a=e.level,l=e.margin,c=l>>>0,u=Ws(a)?a:Vs,f=rn.QrCode.encodeText(o,Ks[u]).getModules();if(t.value=f.length+c*2,e.imageSettings.src){var d=Ka(f,e.size,c,e.imageSettings);r={x:d.x+c,y:d.y+c,width:d.w,height:d.h},d.excavation&&(f=Wa(f,d.excavation))}n.value=Va(f,c)},i=function(){if(!e.gradient)return null;var o=e.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return Te(e.gradientType==="linear"?"linearGradient":"radialGradient",nt({id:"qr-gradient"},o),[Te("stop",{offset:"0%",style:{stopColor:e.gradientStartColor}}),Te("stop",{offset:"100%",style:{stopColor:e.gradientEndColor}})])};return s(),Ds(s),function(){return Te("svg",{width:e.size,height:e.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(t.value," ").concat(t.value)},[Te("defs",{},[i()]),Te("rect",{width:"100%",height:"100%",fill:e.background}),Te("path",{fill:e.gradient?"url(#qr-gradient)":e.foreground,d:n.value}),e.imageSettings.src&&Te("image",nt({href:e.imageSettings.src},r))])}}}),Jf=Be({name:"QRCodeCanvas",props:Gs,setup:function(e,t){var n=Ke(null),r=Ke(null),s=function(){var o=e.value,a=e.level,l=e.size,c=e.margin,u=e.background,f=e.foreground,d=e.gradient,h=e.gradientType,y=e.gradientStartColor,_=e.gradientEndColor,w=c>>>0,R=Ws(a)?a:Vs,k=n.value;if(k){var P=k.getContext("2d");if(P){var x=rn.QrCode.encodeText(o,Ks[R]).getModules(),M=x.length+w*2,Q=r.value,q={x:0,y:0,width:0,height:0},ce=e.imageSettings.src&&Q!=null&&Q.naturalWidth!==0&&Q.naturalHeight!==0;if(ce){var oe=Ka(x,e.size,w,e.imageSettings);q={x:oe.x+w,y:oe.y+w,width:oe.w,height:oe.h},oe.excavation&&(x=Wa(x,oe.excavation))}var be=window.devicePixelRatio||1,we=l/M*be;if(k.height=k.width=l*be,P.scale(we,we),P.fillStyle=u,P.fillRect(0,0,M,M),d){var he=void 0;h==="linear"?he=P.createLinearGradient(0,0,M,M):he=P.createRadialGradient(M/2,M/2,0,M/2,M/2,M/2),he.addColorStop(0,y),he.addColorStop(1,_),P.fillStyle=he}else P.fillStyle=f;Kf?P.fill(new Path2D(Va(x,w))):x.forEach(function(de,it){de.forEach(function(ze,ae){ze&&P.fillRect(ae+w,it+w,1,1)})}),ce&&P.drawImage(Q,q.x,q.y,q.width,q.height)}}};Rr(s),Ds(s);var i=t.attrs.style;return function(){return Te(De,[Te("canvas",nt(nt({},t.attrs),{ref:n,style:nt(nt({},i),{width:"".concat(e.size,"px"),height:"".concat(e.size,"px")})})),e.imageSettings.src&&Te("img",{ref:r,src:e.imageSettings.src,style:{display:"none"},onLoad:s})])}}}),Qf=Be({name:"Qrcode",render:function(){var e=this.$props,t=e.renderAs,n=e.value,r=e.size,s=e.margin,i=e.level,o=e.background,a=e.foreground,l=e.imageSettings,c=e.gradient,u=e.gradientType,f=e.gradientStartColor,d=e.gradientEndColor;return Te(t==="svg"?Gf:Jf,{value:n,size:r,margin:s,level:i,background:o,foreground:a,imageSettings:l,gradient:c,gradientType:u,gradientStartColor:f,gradientEndColor:d})},props:Wf});const Yf={"data-testid":"lobby-id"},Zf={"data-testid":"player-username"},Xf=["src"],ed=Be({__name:"AdminLobby",setup(e){const t=ie("container"),n=ie("notificationProvider"),r=Ha(),s=Jn(),i=parseInt(r.params.lobbyId),o=parseInt(r.params.quizId),a={name:"player-lobby",params:{lobbyId:i}},l=s.resolve(a).href,c=new URL(location.origin+l).toString(),u=Ke([]),f=()=>{t.quizService.startQuiz(i)};return Rr(async()=>{u.value=await t.quizService.getPlayersByLobby(i),t.quizService.startListeningForNewPlayers(i,d=>{u.value.push(d)})}),Us(async()=>{try{await t.quizService.stopListeningForNewPlayers(i)}catch(d){d instanceof Error&&n.showNotification(d.message)}}),(d,h)=>(Fe(),ht("div",null,[ye("div",Yf,"Lobby ID: "+Un(me(i)),1),Pe(Qf,{value:me(c),"data-testid":"qr-code"},null,8,["value"]),ye("div",null,[(Fe(!0),ht(De,null,oa(u.value,y=>(Fe(),ht("div",{"data-testid":"player",key:y.id},[ye("p",Zf,Un(y.username),1),ye("img",{"data-testid":"player-image",src:y.image},null,8,Xf)]))),128))]),Pe(me(qa),{"data-testid":"initialize-quiz-button",onClick:f,to:{name:"admin-quiz",params:{quizId:me(o),lobbyId:me(i),questionOrder:1}}},null,8,["to"])]))}}),td={"data-testid":"quiz-title"},nd=["onClick"],rd=Be({__name:"AdminView",setup(e){const{quizService:t}=ie("container"),{showNotification:n}=ie("notificationProvider"),r=Jn(),s=Ke([]);Rr(async()=>{s.value=await t.getQuizzes()});const i=async o=>{try{const a=await t.createLobby(o);r.push(`admin/lobby/${a.id}`)}catch{n("Error: Failed to create lobby")}};return(o,a)=>(Fe(!0),ht(De,null,oa(s.value,l=>(Fe(),ht("div",{key:l.id},[ye("h1",td,Un(l.name),1),ye("button",{"data-testid":"initialize-quiz-button",onClick:c=>i(l.id)}," Initialize ",8,nd)]))),128))}}),sd={player:null},id=Be({__name:"PlayerProviders",setup(e){return $n("playerProvider",sd),(t,n)=>(Fe(),Fs(me(Hs)))}}),od={fileToDataURL(e){return new Promise((t,n)=>{const r=new FileReader;r.onloadend=s=>t(r.result),r.onerror=s=>n(r.error),r.onabort=s=>n(new Error("Read aborted")),r.readAsDataURL(e)})}},ad=["src"],ld=Be({__name:"PlayersLobby",setup(e){const t=ie("container"),n=ie("notificationProvider"),r=ie("playerProvider"),s=Ha(),i=Jn(),o=parseInt(s.params.lobbyId),a=parseInt(s.params.quizId),l=Ke(""),c=Ke(null),u=Ke(""),f=async()=>{if(l.value.length<4){n.showNotification("Error: Username should be at least 4 characters long");return}try{r.player=await t.quizService.createPlayerByLobbyId(o,l.value,c.value),await i.push({name:"player-lobby-before-quiz-starts",params:{lobbyId:o,quizId:a}})}catch{n.showNotification("Error: Failed to create player")}},d=async h=>{const y=await t.avatarService.generateAvatarByString(l.value);c.value=y,u.value=await od.fileToDataURL(y)};return(h,y)=>(Fe(),ht("div",null,[ye("form",{onSubmit:Ou(f,["prevent"]),"data-testid":"player-form"},[ye("img",{"data-testid":"player-avatar",src:u.value},null,8,ad),na(ye("input",{type:"text",onInput:d,"onUpdate:modelValue":y[0]||(y[0]=_=>l.value=_),"data-testid":"player-username-input"},null,544),[[Aa,l.value]]),y[1]||(y[1]=ye("input",{type:"submit","data-testid":"player-submit"},null,-1))],32)]))}}),cd=Be({__name:"HomeView",setup(e){const t=Jn(),n=ie("container"),r=ie("notificationProvider"),s=Ke(""),i=async()=>{if(isNaN(parseInt(s.value))){r.showNotification("Error: Invalid lobby id");return}try{const o=await n.quizService.getQuizByLobbyId(parseInt(s.value));await t.push({name:"player-lobby",params:{lobbyId:s.value,quizId:o.id}})}catch(o){o instanceof Error&&r.showNotification(`Error: ${o.message}`)}};return(o,a)=>(Fe(),ht("div",null,[ye("form",{"data-testid":"join-lobby-form",onSubmit:i},[na(ye("input",{type:"text","data-testid":"join-lobby-input","onUpdate:modelValue":a[0]||(a[0]=l=>s.value=l)},null,512),[[Aa,s.value]])],32)]))}}),ud={key:0},fd=["src"],dd={"data-testid":"player-username"},hd=Be({__name:"PlayerLobbyBeforeQuizStarts",setup(e){const t=Jn(),n=ie("notificationProvider"),{player:r}=ie("playerProvider");return r||(n.showNotification("Error: Player not found"),t.push({name:"home"})),(s,i)=>me(r)?(Fe(),ht("div",ud,[ye("img",{src:me(r).image,"data-testid":"player-avatar"},null,8,fd),ye("span",dd,Un(me(r).username),1)])):Zc("",!0)}}),pd=Uf({history:gf("/supahoot/"),routes:[{path:"/admin",name:"admin",component:rd},{path:"/admin/quiz/:quizId/lobby/:lobbyId",name:"admin-lobby",component:ed},{path:"/admin/quiz/:quizId/lobby/:lobbyId/question/:questionOrder",name:"admin-quiz",component:Vf},{path:"/",name:"home",component:cd},{path:"/quiz/:quizId/lobby/:lobbyId",component:id,children:[{path:"",name:"player-lobby",component:ld},{path:"/before-start",name:"player-lobby-before-quiz-starts",component:hd}]}]}),gd="modulepreload",md=function(e){return"/supahoot/"+e},Gi={},pn=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=md(l),l in Gi)return;Gi[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":gd,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},yd=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pn(async()=>{const{default:r}=await Promise.resolve().then(()=>mn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Js extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class _d extends Js{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class vd extends Js{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class bd extends Js{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ps;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ps||(ps={}));var wd=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Ed{constructor(t,{headers:n={},customFetch:r,region:s=ps.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=yd(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return wd(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(y=>{throw new _d(y)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new vd(u);if(!u.ok)throw new bd(u);let d=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return d==="application/json"?h=yield u.json():d==="application/octet-stream"?h=yield u.blob():d==="text/event-stream"?h=u:d==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(s){return{data:null,error:s}}})}}function Sd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xd(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var ue={},Kt={},Wt={},Gt={},Jt={},Qt={},Pd=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gn=Pd();const Cd=gn.fetch,Ga=gn.fetch.bind(gn),Ja=gn.Headers,Rd=gn.Request,kd=gn.Response,mn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ja,Request:Rd,Response:kd,default:Ga,fetch:Cd},Symbol.toStringTag,{value:"Module"})),Td=xd(mn);var tr={},Ji;function Qa(){if(Ji)return tr;Ji=1,Object.defineProperty(tr,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return tr.default=e,tr}var Qi;function Ya(){if(Qi)return Qt;Qi=1;var e=Qt&&Qt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Qt,"__esModule",{value:!0});const t=e(Td),n=e(Qa());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,f,d;let h=null,y=null,_=null,w=c.status,R=c.statusText;if(c.ok){if(this.method!=="HEAD"){const M=await c.text();M===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=M:y=JSON.parse(M))}const P=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),x=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");P&&x&&x.length>1&&(_=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(h={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,_=null,w=406,R="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const P=await c.text();try{h=JSON.parse(P),Array.isArray(h)&&c.status===404&&(y=[],h=null,w=200,R="OK")}catch{c.status===404&&P===""?(w=204,R="No Content"):h={message:P}}if(h&&this.isMaybeSingle&&(!((d=h==null?void 0:h.details)===null||d===void 0)&&d.includes("0 rows"))&&(h=null,w=200,R="OK"),h&&this.shouldThrowOnError)throw new n.default(h)}return{error:h,data:y,count:_,status:w,statusText:R}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,f,d;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(d=c==null?void 0:c.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}}return Qt.default=r,Qt}var Yi;function Za(){if(Yi)return Jt;Yi=1;var e=Jt&&Jt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jt,"__esModule",{value:!0});const t=e(Ya());class n extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const f=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${d}"; options=${f};`,c==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Jt.default=n,Jt}var Zi;function Qs(){if(Zi)return Gt;Zi=1;var e=Gt&&Gt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gt,"__esModule",{value:!0});const t=e(Za());class n extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${l}fts${c}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return Gt.default=n,Gt}var Xi;function Xa(){if(Xi)return Wt;Xi=1;var e=Wt&&Wt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wt,"__esModule",{value:!0});const t=e(Qs());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=i,this.schema=o,this.fetch=a}select(s,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const c=(s??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(s)){const c=s.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(s)){const f=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(f.length>0){const d=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const i="DELETE",o=[];return s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Wt.default=n,Wt}var En={},Sn={},eo;function Ad(){return eo||(eo=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.version=void 0,Sn.version="0.0.0-automated"),Sn}var to;function Od(){if(to)return En;to=1,Object.defineProperty(En,"__esModule",{value:!0}),En.DEFAULT_HEADERS=void 0;const e=Ad();return En.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},En}var no;function $d(){if(no)return Kt;no=1;var e=Kt&&Kt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Kt,"__esModule",{value:!0});const t=e(Xa()),n=e(Qs()),r=Od();class s{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){let f;const d=new URL(`${this.url}/rpc/${o}`);let h;l||c?(f=l?"HEAD":"GET",Object.entries(a).filter(([_,w])=>w!==void 0).map(([_,w])=>[_,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([_,w])=>{d.searchParams.append(_,w)})):(f="POST",h=a);const y=Object.assign({},this.headers);return u&&(y.Prefer=`count=${u}`),new n.default({method:f,url:d,headers:y,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return Kt.default=s,Kt}var ro;function Id(){if(ro)return ue;ro=1;var e=ue&&ue.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ue,"__esModule",{value:!0}),ue.PostgrestError=ue.PostgrestBuilder=ue.PostgrestTransformBuilder=ue.PostgrestFilterBuilder=ue.PostgrestQueryBuilder=ue.PostgrestClient=void 0;const t=e($d());ue.PostgrestClient=t.default;const n=e(Xa());ue.PostgrestQueryBuilder=n.default;const r=e(Qs());ue.PostgrestFilterBuilder=r.default;const s=e(Za());ue.PostgrestTransformBuilder=s.default;const i=e(Ya());ue.PostgrestBuilder=i.default;const o=e(Qa());return ue.PostgrestError=o.default,ue.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},ue}var jd=Id();const Md=Sd(jd),{PostgrestClient:Ld,PostgrestQueryBuilder:Vp,PostgrestFilterBuilder:Kp,PostgrestTransformBuilder:Wp,PostgrestBuilder:Gp,PostgrestError:Jp}=Md,Dd="2.11.2",Ud={"X-Client-Info":`realtime-js/${Dd}`},Nd="1.0.0",el=1e4,Fd=1e3;var un;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(un||(un={}));var Ie;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ie||(Ie={}));var qe;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qe||(qe={}));var gs;(function(e){e.websocket="websocket"})(gs||(gs={}));var jt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(jt||(jt={}));class Bd{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class tl{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ne||(ne={}));const so=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=zd(o,e,t,s),i),{})},zd=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?nl(i,o):ms(o)},nl=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Kd(t,n)}switch(e){case ne.bool:return qd(t);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return Hd(t);case ne.json:case ne.jsonb:return Vd(t);case ne.timestamp:return Wd(t);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return ms(t);default:return ms(t)}},ms=e=>e,qd=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Hd=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Vd=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Kd=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>nl(t,a))}return e},Wd=e=>typeof e=="string"?e.replace(" ","T"):e,rl=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Jr{constructor(t,n,r={},s=el){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var io;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(io||(io={}));class Ln{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ln.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ln.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ln.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const f=i[c];if(f){const d=u.map(w=>w.presence_ref),h=f.map(w=>w.presence_ref),y=u.filter(w=>h.indexOf(w.presence_ref)<0),_=f.filter(w=>d.indexOf(w.presence_ref)<0);y.length>0&&(a[c]=y),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const f=t[a].map(h=>h.presence_ref),d=u.filter(h=>f.indexOf(h.presence_ref)<0);t[a].unshift(...d)}r(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var oo;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(oo||(oo={}));var ao;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ao||(ao={}));var ut;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ut||(ut={}));class Ys{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Jr(this,qe.join,this.params,this.timeout),this.rejoinTimer=new tl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ie.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qe.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ln(this),this.broadcastEndpointURL=rl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(ut.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(ut.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(ut.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,h=(f=d==null?void 0:d.length)!==null&&f!==void 0?f:0,y=[];for(let _=0;_<h;_++){const w=d[_],{filter:{event:R,schema:k,table:P,filter:x}}=w,M=u&&u[_];if(M&&M.event===R&&M.schema===k&&M.table===P&&M.filter===x)y.push(Object.assign(Object.assign({},w),{id:M.id}));else{this.unsubscribe(),t==null||t(ut.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(ut.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(ut.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ut.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ie.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Jr(this,qe.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Jr(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=qe;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let d=this._onMessage(o,n,r);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var y,_,w;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(_=h.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(h=>h.callback(d,r)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var y,_,w,R,k,P;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const x=h.id,M=(y=h.filter)===null||y===void 0?void 0:y.event;return x&&((_=n.ids)===null||_===void 0?void 0:_.includes(x))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const x=(k=(R=h==null?void 0:h.filter)===null||R===void 0?void 0:R.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return x==="*"||x===((P=n==null?void 0:n.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof d=="object"&&"ids"in d){const y=d.data,{schema:_,table:w,commit_timestamp:R,type:k,errors:P}=y;d=Object.assign(Object.assign({},{schema:_,table:w,commit_timestamp:R,eventType:k,new:{},old:{},errors:P}),this._getPayloadRecords(y))}h.callback(d,r)})}_isClosed(){return this.state===Ie.closed}_isJoined(){return this.state===Ie.joined}_isJoining(){return this.state===Ie.joining}_isLeaving(){return this.state===Ie.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Ys.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qe.close,{},t)}_onError(t){this._on(qe.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ie.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=so(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=so(t.columns,t.old_record)),n}}const Gd=()=>{},Jd=typeof WebSocket<"u",Qd=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Yd{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ud,this.params={},this.timeout=el,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Gd,this.conn=null,this.sendBuffer=[],this.serializer=new Bd,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>pn(async()=>{const{default:l}=await Promise.resolve().then(()=>mn);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${gs.websocket}`,this.httpEndpoint=rl(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new tl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Jd){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Zd(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),pn(async()=>{const{default:t}=await import("./browser-C-6ayegT.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Nd}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case un.connecting:return jt.Connecting;case un.open:return jt.Open;case un.closing:return jt.Closing;default:return jt.Closed}}isConnected(){return this.connectionState()===jt.Open}channel(t,n={config:{}}){const r=new Ys(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(qe.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Fd,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(qe.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Qd],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Zd{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=un.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Zs extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function fe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Xd extends Zs{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ys extends Zs{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var eh=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const sl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pn(async()=>{const{default:r}=await Promise.resolve().then(()=>mn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},th=()=>eh(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pn(()=>Promise.resolve().then(()=>mn),void 0)).Response:Response}),_s=e=>{if(Array.isArray(e))return e.map(n=>_s(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=_s(r)}),t};var Bt=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Qr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nh=(e,t,n)=>Bt(void 0,void 0,void 0,function*(){const r=yield th();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Xd(Qr(s),e.status||500))}).catch(s=>{t(new ys(Qr(s),s))}):t(new ys(Qr(e),e))}),rh=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Qn(e,t,n,r,s,i){return Bt(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,rh(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>nh(l,a,r))})})}function yr(e,t,n,r){return Bt(this,void 0,void 0,function*(){return Qn(e,"GET",t,n,r)})}function Et(e,t,n,r,s){return Bt(this,void 0,void 0,function*(){return Qn(e,"POST",t,r,s,n)})}function sh(e,t,n,r,s){return Bt(this,void 0,void 0,function*(){return Qn(e,"PUT",t,r,s,n)})}function ih(e,t,n,r){return Bt(this,void 0,void 0,function*(){return Qn(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function il(e,t,n,r,s){return Bt(this,void 0,void 0,function*(){return Qn(e,"DELETE",t,r,s,n)})}var ke=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const oh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ah{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=sl(s)}uploadOrUpdate(t,n,r,s){return ke(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},lo),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield f.json();return f.ok?{data:{path:c,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(fe(i))return{data:null,error:i};throw i}})}upload(t,n,r){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return ke(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:lo.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),d=yield f.json();return f.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(fe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return ke(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Et(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Zs("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}update(t,n,r){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ke(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}copy(t,n,r){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield Et(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return ke(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Et(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return ke(this,void 0,void 0,function*(){try{const s=yield Et(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}download(t,n){return ke(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield yr(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(fe(a))return{data:null,error:a};throw a}})}info(t){return ke(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield yr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:_s(r),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}exists(t){return ke(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield ih(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(fe(r)&&r instanceof ys){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return ke(this,void 0,void 0,function*(){try{return{data:yield il(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}list(t,n,r){return ke(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},oh),n),{prefix:t||""});return{data:yield Et(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const lh="2.7.1",ch={"X-Client-Info":`storage-js/${lh}`};var Yt=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class uh{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},ch),n),this.fetch=sl(r)}listBuckets(){return Yt(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(fe(t))return{data:null,error:t};throw t}})}getBucket(t){return Yt(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Yt(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Yt(this,void 0,void 0,function*(){try{return{data:yield sh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Yt(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Yt(this,void 0,void 0,function*(){try{return{data:yield il(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}}class fh extends uh{constructor(t,n={},r){super(t,n,r)}from(t){return new ah(this.url,this.headers,t,this.fetch)}}const dh="2.48.1";let Cn="";typeof Deno<"u"?Cn="deno":typeof document<"u"?Cn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cn="react-native":Cn="node";const hh={"X-Client-Info":`supabase-js-${Cn}/${dh}`},ph={headers:hh},gh={schema:"public"},mh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yh={};var _h=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const vh=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ga:t=fetch,(...n)=>t(...n)},bh=()=>typeof Headers>"u"?Ja:Headers,wh=(e,t,n)=>{const r=vh(n),s=bh();return(i,o)=>_h(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var Eh=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function Sh(e){return e.replace(/\/$/,"")}function xh(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>Eh(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const ol="2.67.3",Ph="http://localhost:9999",Ch="supabase.auth.token",Rh={"X-Client-Info":`gotrue-js/${ol}`},co=10,vs="X-Supabase-Api-Version",al={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function kh(e){return Math.round(Date.now()/1e3)+e}function Th(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Xe=()=>typeof window<"u"&&typeof document<"u",Ot={tested:!1,writable:!1},Dn=()=>{if(!Xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ot.tested)return Ot.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ot.tested=!0,Ot.writable=!0}catch{Ot.tested=!0,Ot.writable=!1}return Ot.writable};function Ah(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const ll=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pn(async()=>{const{default:r}=await Promise.resolve().then(()=>mn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Oh=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",cl=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},nr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},rr=async(e,t)=>{await e.removeItem(t)};function $h(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,c,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)o=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Ir{constructor(){this.promise=new Ir.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ir.promiseConstructor=Promise;function uo(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse($h(r))}async function Ih(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function jh(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Mh(e){return("0"+e.toString(16)).substr(-2)}function Lh(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Mh).join("")}async function Dh(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function Uh(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nh(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Dh(e);return Uh(n)}async function Zt(e,t,n=!1){const r=Lh();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await cl(e,`${t}-code-verifier`,s);const i=await Nh(r);return[i,r===i?"plain":"s256"]}const Fh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bh(e){const t=e.headers.get(vs);if(!t||!t.match(Fh))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Xs extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zh extends Xs{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function qh(e){return z(e)&&e.name==="AuthApiError"}class ul extends Xs{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class zt extends Xs{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class yt extends zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hh(e){return z(e)&&e.name==="AuthSessionMissingError"}class Yr extends zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sr extends zt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ir extends zt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Vh(e){return z(e)&&e.name==="AuthImplicitGrantRedirectError"}class fo extends zt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bs extends zt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Zr(e){return z(e)&&e.name==="AuthRetryableFetchError"}class ho extends zt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Kh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const It=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Wh=[502,503,504];async function po(e){var t;if(!Oh(e))throw new bs(It(e),0);if(Wh.includes(e.status))throw new bs(It(e),e.status);let n;try{n=await e.json()}catch(i){throw new ul(It(i),i)}let r;const s=Bh(e);if(s&&s.getTime()>=al["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ho(It(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new yt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ho(It(n),e.status,n.weak_password.reasons);throw new zh(It(n),e.status||500,r)}const Gh=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function H(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[vs]||(i[vs]=al["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Jh(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Jh(e,t,n,r,s,i){const o=Gh(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new bs(It(l),0)}if(a.ok||await po(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await po(l)}}function _t(e){var t;let n=null;Xh(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=kh(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function go(e){const t=_t(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function St(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Qh(e){return{data:e,error:null}}function Yh(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Kh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Zh(e){return e}function Xh(e){return e.access_token&&e.refresh_token&&e.expires_in}var ep=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class tp{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=ll(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:St})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=ep(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Yh,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:St})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Zh});if(u.error)throw u.error;const f=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);c[`${w}Page`]=_}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(z(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await H(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:St})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:St})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:St})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await H(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(z(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}const np={getItem:e=>Dn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Dn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Dn()&&globalThis.localStorage.removeItem(e)}};function mo(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function rp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Xt={debug:!!(globalThis&&Dn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fl extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class sp extends fl{}async function ip(e,t,n){Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new sp(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}rp();const op={url:Ph,storageKey:Ch,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},xn=30*1e3,yo=3;async function _o(e,t,n){return await n()}class Kn{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Kn.nextInstanceID,Kn.nextInstanceID+=1,this.instanceID>0&&Xe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},op),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new tp({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ll(s.fetch),this.lock=s.lock||_o,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Xe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ip:this.lock=_o,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Dn()?this.storage=np:(this.memoryStorage={},this.storage=mo(this.memoryStorage)):(this.memoryStorage={},this.storage=mo(this.memoryStorage)),Xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ol}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Ah(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Xe()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Vh(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return z(n)?{error:n}:{error:new ul("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:_t}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:u,password:f,options:d}=t;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await Zt(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:y},xform:_t})}else if("phone"in t){const{phone:u,password:f,options:d}=t;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:_t})}else throw new sr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:go})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:go})}else throw new sr("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Yr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await nr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:_t});if(await rr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Yr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:_t}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Yr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Zt(this.storage,this.storageKey));const{error:f}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new sr("You must provide either an email or phone number.")}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:_t});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Zt(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Qh})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new yt;const{error:s}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await H(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await H(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new sr("You must provide either an email or phone number and a type")}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await nr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:St}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yt}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:St})})}catch(n){if(z(n))return Hh(n)&&(await this._removeSession(),await rr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new yt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Zt(this.storage,this.storageKey));const{data:c,error:u}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:St});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return uo(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new yt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=uo(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(z(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new yt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Xe())throw new ir("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ir(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new fo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ir("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new fo("No code detected.");const{data:k,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new ir("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let d=u+f;l&&(d=parseInt(l));const h=d-u;h*1e3<=xn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const y=d-f;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,d,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,d,u);const{data:_,error:w}=await this._getUser(i);if(w)throw w;const R={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:d,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:t.type},error:null}}catch(r){if(z(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await nr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(qh(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await rr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Th(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Zt(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:f,error:d}=i;if(d)throw d;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Xe()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(z(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await jh(async s=>(s>0&&await Ih(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_t})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Zr(i)&&Date.now()+o-r<xn})}catch(r){if(this._debug(n,"error",r),z(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Xe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await nr(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+co;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${co}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Zr(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ir;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new yt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),z(i)){const o={session:null,error:i};return Zr(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await cl(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await rr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Xe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/xn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${xn}ms, refresh threshold is ${yo} ticks`),s<=yo&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof fl)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Zt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await H(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Kn.nextInstanceID=0;const ap=Kn;class lp extends ap{constructor(t){super(t)}}var cp=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class up{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Sh(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:gh,realtime:yh,auth:Object.assign(Object.assign({},mh),{storageKey:l}),global:ph},u=xh(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=wh(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Ld(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Ed(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new fh(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return cp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lp({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Yd(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const fp=(e,t,n)=>new up(e,t,n);class dp{constructor(){jr(this,"supabase",fp("https://dnsewtyjyfqpkugrwhmq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRuc2V3dHlqeWZxcGt1Z3J3aG1xIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY2NTc0ODUsImV4cCI6MjA1MjIzMzQ4NX0.OPESoZ2-AJfV3TvfKxemcLjmn9730bRd5DVXAlJxPbQ"));jr(this,"channels",{})}async getQuizzes(){const{error:t,data:n}=await this.supabase.from("quizzes").select("*");if(t)throw new Error(t.message);return n}async createLobby(t){const{error:n,data:r}=await this.supabase.from("lobbies").insert({quiz_id:t}).select();if(n)throw new Error(n.message);return r[0]}async getPlayersByLobby(t){const{error:n,data:r}=await this.supabase.from("players").select("*").eq("lobby_id",t),s=r.map(this.generatePlayerWithAvatar.bind(this));if(n)throw new Error(n.message);return s}startListeningForNewPlayers(t,n){this.channels[`lobby-${t}`]||(this.channels[`lobby-${t}`]=this.supabase.channel(`lobby-${t}`)),this.channels[`lobby-${t}`].on("postgres_changes",{event:"INSERT",schema:"public",table:"players",filter:`lobby_id=eq.${t}`},r=>{n({...r.new,image:this.getPlayerAvatarUrl(r.new)})}).subscribe()}async stopListeningForNewPlayers(t){if(this.channels[`lobby-${t}`])try{if(await this.supabase.removeChannel(this.channels[`lobby-${t}`])!=="ok")throw new Error("Failed to unsubscribe");delete this.channels[`lobby-${t}`]}catch{throw new Error("Failed to unsubscribe")}}async createPlayerByLobbyId(t,n,r){const{error:s,data:i}=await this.supabase.storage.from("player-avatars").upload(`public/${t}_${n}.jpeg`,r);if(s)throw new Error(s.message);const{error:o,data:a}=await this.supabase.from("players").insert({lobby_id:t,username:n,image:i.path}).select();if(o)throw new Error(o.message);return a[0]}async startQuiz(t){this.channels[`lobby-${t}`]||(this.channels[`lobby-${t}`]=this.supabase.channel(`lobby-${t}`)),await this.channels[`lobby-${t}`].send({type:"broadcast",event:"start_quiz"})}async getQuizByLobbyId(t){const{error:n,data:r}=await this.supabase.from("lobbies").select("quizzes(*)").eq("id",t);if(n)throw new Error(n.message);return r[0].quizzes}generatePlayerWithAvatar(t){return{...t,image:this.getPlayerAvatarUrl(t)}}getPlayerAvatarUrl(t){const{data:{publicUrl:n}}=this.supabase.storage.from("player-avatars").getPublicUrl(t.image);return n}}function Mt(e){return e.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function hp(e){var t,n,r,s,i,o,a;const l=(t=e.meta)===null||t===void 0?void 0:t.title,c=(n=e.meta)===null||n===void 0?void 0:n.creator,u=(r=e.meta)===null||r===void 0?void 0:r.source,f=(i=(s=e.meta)===null||s===void 0?void 0:s.license)===null||i===void 0?void 0:i.url,d=pp(e);return!l&&!c&&!u&&!f&&!d?"":'<metadata xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"><rdf:RDF><rdf:Description>'+(l?`<dc:title>${Mt(l)}</dc:title>`:"")+(c?`<dc:creator>${Mt(c)}</dc:creator>`:"")+(u?`<dc:source xsi:type="dcterms:URI">${Mt((a=(o=e.meta)===null||o===void 0?void 0:o.source)!==null&&a!==void 0?a:"")}</dc:source>`:"")+(f?`<dcterms:license xsi:type="dcterms:URI">${Mt(f)}</dcterms:license>`:"")+(d?`<dc:rights>${Mt(d)}</dc:rights>`:"")+"</rdf:Description></rdf:RDF></metadata>"}function pp(e){var t,n,r,s,i,o,a,l,c,u,f,d,h,y,_;let w=!((t=e.meta)===null||t===void 0)&&t.title?`„${(n=e.meta)===null||n===void 0?void 0:n.title}”`:"Design",R=`„${(s=(r=e.meta)===null||r===void 0?void 0:r.creator)!==null&&s!==void 0?s:"Unknown"}”`;!((i=e.meta)===null||i===void 0)&&i.source&&(w+=` (${e.meta.source})`);let k="";return((a=(o=e.meta)===null||o===void 0?void 0:o.license)===null||a===void 0?void 0:a.name)!=="MIT"&&((l=e.meta)===null||l===void 0?void 0:l.creator)!=="DiceBear"&&(!((c=e.meta)===null||c===void 0)&&c.title)&&(k+="Remix of "),k+=`${w} by ${R}`,!((f=(u=e.meta)===null||u===void 0?void 0:u.license)===null||f===void 0)&&f.name&&(k+=`, licensed under „${(h=(d=e.meta)===null||d===void 0?void 0:d.license)===null||h===void 0?void 0:h.name}”`,!((_=(y=e.meta)===null||y===void 0?void 0:y.license)===null||_===void 0)&&_.url&&(k+=` (${e.meta.license.url})`)),k}const vo=-2147483648,gp=2147483647;function dl(e){return e^=e<<13,e^=e>>17,e^=e<<5,e}function mp(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0,t=dl(t);return t}function _r(e=""){e=e.toString();let t=mp(e)||1;const n=()=>t=dl(t),r=(s,i)=>Math.floor((n()-vo)/(gp-vo)*(i+1-s)+s);return{seed:e,next:n,bool(s=50){return r(1,100)<=s},integer(s,i){return r(s,i)},pick(s,i){var o;return s.length===0?(n(),i):(o=s[r(0,s.length-1)])!==null&&o!==void 0?o:i},shuffle(s){const i=_r(n().toString()),o=[...s];for(let a=o.length-1;a>0;a--){const l=i.integer(0,a);[o[a],o[l]]=[o[l],o[a]]}return o},string(s,i="abcdefghijklmnopqrstuvwxyz1234567890"){const o=_r(n().toString());let a="";for(let l=0;l<s;l++)a+=i[o.integer(0,i.length-1)];return a}}}function yn(e){let t=e.attributes.viewBox.split(" "),n=parseInt(t[0]),r=parseInt(t[1]),s=parseInt(t[2]),i=parseInt(t[3]);return{x:n,y:r,width:s,height:i}}function yp(e,t,n,r,s){let{width:i,height:o,x:a,y:l}=yn(e);const c=`<rect fill="${t}" width="${i}" height="${o}" x="${a}" y="${l}" />`;switch(r){case"solid":return c+e.body;case"gradientLinear":return`<rect fill="url(#backgroundLinear)" width="${i}" height="${o}" x="${a}" y="${l}" /><defs><linearGradient id="backgroundLinear" gradientTransform="rotate(${s} 0.5 0.5)"><stop stop-color="${t}"/><stop offset="1" stop-color="${n}"/></linearGradient></defs>`+e.body}}function _p(e,t){let{width:n,height:r,x:s,y:i}=yn(e),o=t?(t-100)/100:0,a=(n/2+s)*o*-1,l=(r/2+i)*o*-1;return`<g transform="translate(${a} ${l}) scale(${t/100})">${e.body}</g>`}function vp(e,t,n){let r=yn(e),s=(r.width+r.x*2)*((t??0)/100),i=(r.height+r.y*2)*((n??0)/100);return`<g transform="translate(${s} ${i})">${e.body}</g>`}function bp(e,t){let{width:n,height:r,x:s,y:i}=yn(e);return`<g transform="rotate(${t}, ${n/2+s}, ${r/2+i})">${e.body}</g>`}function wp(e){let{width:t,x:n}=yn(e);return`<g transform="scale(-1 1) translate(${t*-1-n*2} 0)">${e.body}</g>`}function Ep(e,t){let{width:n,height:r,x:s,y:i}=yn(e),o=t?n*t/100:0,a=t?r*t/100:0;return`<mask id="viewboxMask"><rect width="${n}" height="${r}" rx="${o}" ry="${a}" x="${s}" y="${i}" fill="#fff" /></mask><g mask="url(#viewboxMask)">${e.body}</g>`}function Sp(e){const t={xmlns:"http://www.w3.org/2000/svg",...e.attributes};return Object.keys(t).map(n=>`${Mt(n)}="${Mt(t[n])}"`).join(" ")}function xp(e){const t=_r(Math.random().toString()),n={};return e.body.replace(/(id="|url\(#)([a-z0-9-_]+)([")])/gi,(r,s,i,o)=>(n[i]=n[i]||t.string(8),`${s}${n[i]}${o}`))}const Pp={properties:{seed:{type:"string"},flip:{type:"boolean",default:!1},rotate:{type:"integer",minimum:0,maximum:360,default:0},scale:{type:"integer",minimum:0,maximum:200,default:100},radius:{type:"integer",minimum:0,maximum:50,default:0},size:{type:"integer",minimum:1},backgroundColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"}},backgroundType:{type:"array",items:{type:"string",enum:["solid","gradientLinear"]},default:["solid"]},backgroundRotation:{type:"array",items:{type:"integer",minimum:-360,maximum:360},default:[0,360]},translateX:{type:"integer",minimum:-100,maximum:100,default:0},translateY:{type:"integer",minimum:-100,maximum:100,default:0},clip:{type:"boolean",default:!0},randomizeIds:{type:"boolean",default:!1}}};function bo(e){var t;let n={},r=(t=e.properties)!==null&&t!==void 0?t:{};return Object.keys(r).forEach(s=>{let i=r[s];typeof i=="object"&&i.default!==void 0&&(Array.isArray(i.default)?n[s]=[...i.default]:typeof i.default=="object"?n[s]={...i.default}:n[s]=i.default)}),n}function Cp(e,t){var n;let r={...bo(Pp),...bo((n=e.schema)!==null&&n!==void 0?n:{}),...t};return JSON.parse(JSON.stringify(r))}function wo(e){return e==="transparent"?e:`#${e}`}function Rp(e,t,n){var r;let s=e.shuffle(t);s.length<=1||t.length==2&&n=="gradientLinear"?(s=t,e.next()):s=e.shuffle(t),s.length===0&&(s=["transparent"]);const i=s[0],o=(r=s[1])!==null&&r!==void 0?r:s[0];return{primary:wo(i),secondary:wo(o)}}function kp(e,t={}){var n,r,s,i,o;t=Cp(e,t);const a=_r(t.seed),l=e.create({prng:a,options:t}),c=a.pick((n=t.backgroundType)!==null&&n!==void 0?n:[],"solid"),{primary:u,secondary:f}=Rp(a,(r=t.backgroundColor)!==null&&r!==void 0?r:[],c),d=a.integer(!((s=t.backgroundRotation)===null||s===void 0)&&s.length?Math.min(...t.backgroundRotation):0,!((i=t.backgroundRotation)===null||i===void 0)&&i.length?Math.max(...t.backgroundRotation):0);t.size&&(l.attributes.width=t.size.toString(),l.attributes.height=t.size.toString()),t.scale!==void 0&&t.scale!==100&&(l.body=_p(l,t.scale)),t.flip&&(l.body=wp(l)),t.rotate&&(l.body=bp(l,t.rotate)),(t.translateX||t.translateY)&&(l.body=vp(l,t.translateX,t.translateY)),u!=="transparent"&&f!=="transparent"&&(l.body=yp(l,u,f,c,d)),(t.radius||t.clip)&&(l.body=Ep(l,(o=t.radius)!==null&&o!==void 0?o:0)),t.randomizeIds&&(l.body=xp(l));const h=Sp(l),y=hp(e),_=`<svg ${h}>${y}${l.body}</svg>`;return{toString:()=>_,toJson:()=>{var w;return{svg:_,extra:{primaryBackgroundColor:u,secondaryBackgroundColor:f,backgroundType:c,backgroundRotation:d,...(w=l.extra)===null||w===void 0?void 0:w.call(l)}}},toDataUri:()=>`data:image/svg+xml;utf8,${encodeURIComponent(_)}`}}const Tp={bite:(e,t)=>'<rect x="4" y="5" width="68" height="22" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="9" width="60" height="14" rx="2" fill="#000" fill-opacity=".6"/><path fill-rule="evenodd" clip-rule="evenodd" d="m20 17 6-8H14l6 8ZM32 17l6-8H26l6 8ZM44 17l6-8H38l6 8ZM56 17l6-8H50l6 8Z" fill="#E1E6E8"/>',diagram:(e,t)=>'<rect x="4" y="4" width="68" height="24" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="8" width="60" height="16" rx="2" fill="#000" fill-opacity=".8"/><path d="M9 17h11l2-4 3 7 4-8 2 9 3-11 3 10 3-3h15l3-4 2 7 3-3h4" stroke="#4EFAC9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>',grill01:(e,t)=>'<g fill="#000" fill-opacity=".6"><rect x="12" y="12" width="4" height="8" rx="2"/><rect x="36" y="12" width="4" height="8" rx="2"/><rect x="24" y="12" width="4" height="8" rx="2"/><rect x="48" y="12" width="4" height="8" rx="2"/><rect x="60" y="12" width="4" height="8" rx="2"/></g>',grill02:(e,t)=>'<g fill="#000" fill-opacity=".6"><rect x="28" y="10" width="6" height="14" rx="2"/><rect x="14" y="10" width="6" height="14" rx="2"/><rect x="42" y="10" width="6" height="14" rx="2"/><rect x="56" y="10" width="6" height="14" rx="2"/></g>',grill03:(e,t)=>'<rect x="4" y="5" width="68" height="22" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="9" width="60" height="14" rx="2" fill="#fff"/><path fill="#000" fill-opacity=".1" d="M18 9h4v14h-4zM42 9h4v14h-4zM30 9h4v14h-4zM54 9h4v14h-4z"/>',smile01:(e,t)=>'<path d="M27.05 8.44a2 2 0 1 1 3.9-.88C31.72 10.96 34.4 13 38 13c3.6 0 6.28-2.04 7.05-5.44a2 2 0 1 1 3.9.88C47.75 13.7 43.43 17 38 17s-9.76-3.3-10.95-8.56Z" fill="#000" fill-opacity=".6"/>',smile02:(e,t)=>'<path fill-rule="evenodd" clip-rule="evenodd" d="M18 10.22C18 21.78 24.47 28 38 28c13.52 0 20-6.34 20-17.78C58 9.5 57.17 8 55 8H21c-2.05 0-3 1.38-3 2.22Z" fill="#000" fill-opacity=".8"/><mask id="mouthSmile02-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="18" y="8" width="40" height="20"><path fill-rule="evenodd" clip-rule="evenodd" d="M18 10.22C18 21.78 24.47 28 38 28c13.52 0 20-6.34 20-17.78C58 9.5 57.17 8 55 8H21c-2.05 0-3 1.38-3 2.22Z" fill="#fff"/></mask><g mask="url(#mouthSmile02-a)"><rect x="30" y="2" width="16" height="14" rx="2" fill="#fff"/></g>',square01:(e,t)=>'<rect x="24" y="6" width="27" height="8" rx="4" fill="#000" fill-opacity=".8"/>',square02:(e,t)=>'<rect x="16" y="8" width="44" height="4" rx="2" fill="#000" fill-opacity=".8"/>'},Ap={bulging:(e,t)=>'<circle cx="28" cy="24" r="18" fill="#000" fill-opacity=".2"/><circle cx="74" cy="24" r="18" fill="#000" fill-opacity=".2"/><circle cx="28" cy="24" r="15" fill="#F1EEDA"/><circle cx="74" cy="24" r="15" fill="#F1EEDA"/><rect x="26" y="15" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/><rect x="74" y="15" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/>',dizzy:(e,t)=>'<path d="m25 27.2 5.5 5.5c.5.4 1.2.4 1.6 0l1.6-1.6c.4-.5.4-1.2 0-1.6L28.2 24l5.5-5.5c.4-.5.4-1.2 0-1.6l-1.6-1.6c-.5-.4-1.2-.4-1.6 0L25 20.8l-5.5-5.5c-.5-.4-1.2-.4-1.6 0l-1.6 1.6c-.4.4-.4 1.1 0 1.6l5.5 5.5-5.5 5.5c-.4.5-.4 1.2 0 1.6l1.6 1.6c.5.4 1.2.4 1.6 0l5.5-5.5ZM79 27.2l5.5 5.5c.5.4 1.2.4 1.6 0l1.6-1.6c.4-.5.4-1.2 0-1.6L82.2 24l5.5-5.5c.4-.5.4-1.2 0-1.6l-1.6-1.6c-.5-.4-1.2-.4-1.6 0L79 20.8l-5.5-5.5c-.5-.4-1.2-.4-1.6 0l-1.6 1.6c-.4.4-.4 1.1 0 1.6l5.5 5.5-5.5 5.5c-.4.5-.4 1.2 0 1.6l1.6 1.6c.5.4 1.2.4 1.6 0l5.5-5.5Z" fill="#000" fill-opacity=".8"/>',eva:(e,t)=>'<g fill-rule="evenodd" clip-rule="evenodd"><path d="M53 0c34.75 0 49 17.47 49 31 0 13.53-19.59 17-49 17-29.05 0-51-3.47-51-17S17.11 0 53 0Z" fill="#000" fill-opacity=".8"/><path d="M28.82 34.65c-6.53-1.35-11.24-6.34-10.52-11.14.72-4.79 6.6-7.58 13.12-6.23 6.53 1.36 11.24 6.35 10.52 11.15-.72 4.8-6.6 7.59-13.12 6.23ZM75.42 34.65c-6.52 1.36-12.4-1.43-13.12-6.23-.72-4.8 4-9.8 10.52-11.15 6.52-1.35 12.4 1.44 13.12 6.24.72 4.81-4 9.8-10.52 11.15Z" fill="#25A6F5"/></g>',frame1:(e,t)=>'<rect y="4" width="104" height="42" rx="4" fill="#000" fill-opacity=".8"/><rect x="28" y="25" width="10" height="11" rx="2" fill="#8BDDFF"/><rect x="66" y="25" width="10" height="11" rx="2" fill="#8BDDFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21 4h8L12 46H4L21 4Z" fill="#fff" fill-opacity=".4"/>',frame2:(e,t)=>'<rect x="8" y="10" width="88" height="36" rx="4" fill="#000" fill-opacity=".8"/><rect x="28" y="21" width="10" height="17" rx="2" fill="#5EF2B8"/><rect x="66" y="21" width="10" height="17" rx="2" fill="#5EF2B8"/><path fill-rule="evenodd" clip-rule="evenodd" d="M83 10h5L76 46h-5l12-36Z" fill="#fff" fill-opacity=".4"/>',glow:(e,t)=>'<g fill="#fff"><circle cx="21" cy="30" r="15" fill-opacity=".1"/><circle cx="83" cy="30" r="15" fill-opacity=".1"/><circle cx="21" cy="30" r="12" fill-opacity=".1"/><circle cx="83" cy="30" r="12" fill-opacity=".1"/><circle cx="21" cy="30" r="6" fill-opacity=".8"/><circle cx="83" cy="30" r="6" fill-opacity=".8"/><circle cx="21" cy="30" r="3" fill-opacity=".8"/><circle cx="83" cy="30" r="3" fill-opacity=".8"/></g>',happy:(e,t)=>'<path d="m18 19 12-2M20 31c0-3.31 2.9-6 7-6 3.1 0 6 2.69 6 6M86 20l-12-3M84 31c0-3.31-2.9-6-6-6-4.1 0-7 2.69-7 6" stroke="#000" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>',hearts:(e,t)=>'<path d="M29.27 9.68c-2.55.13-4.96 2.24-6.25 4.15-1.48-1.76-4.1-3.6-6.65-3.47-5.48.28-8.85 3.8-8.63 8.1.3 5.72 4.88 8.89 9.7 12.24 1.71 1.15 5 4.15 5.42 4.82.42.67 2.14.6 2.58-.13a37.8 37.8 0 0 1 4.9-5.36c4.43-3.84 8.66-7.47 8.36-13.2-.23-4.3-3.95-7.44-9.43-7.15ZM87.63 10.36c-2.55-.14-5.17 1.7-6.65 3.47-1.3-1.9-3.7-4.02-6.25-4.15-5.48-.29-9.2 2.86-9.43 7.16-.3 5.72 3.93 9.35 8.36 13.19 1.6 1.32 4.55 4.64 4.9 5.36.35.7 2.06.82 2.58.13.51-.7 3.7-3.67 5.42-4.82 4.81-3.35 9.4-6.52 9.7-12.24.22-4.3-3.15-7.82-8.63-8.1Z" fill="#FF5353" fill-opacity=".8"/>',robocop:(e,t)=>'<rect x="7" y="16" width="91" height="16" rx="4" fill="#000" fill-opacity=".8"/><mask id="eyesRobocop-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="7" y="16" width="91" height="16"><rect x="7" y="16" width="91" height="16" rx="4" fill="#fff"/></mask><g mask="url(#eyesRobocop-a)" fill-rule="evenodd" clip-rule="evenodd" fill="#fff" fill-opacity=".8"><path d="M76 7h18L82 37H64L76 7ZM52 7h9L49 37h-9L52 7Z"/></g>',round:(e,t)=>'<g fill="#fff"><circle cx="24" cy="30" r="6"/><circle cx="80" cy="30" r="6"/></g>',roundFrame01:(e,t)=>'<rect y="12" width="104" height="32" rx="16" fill="#000" fill-opacity=".8"/><rect x="24" y="22" width="10" height="12" rx="2" fill="#F4F4F4"/><rect x="70" y="22" width="10" height="12" rx="2" fill="#F4F4F4"/>',roundFrame02:(e,t)=>'<rect y="11" width="104" height="34" rx="17" fill="#000" fill-opacity=".8"/><circle cx="29" cy="28" r="13" fill="#F1EEDA"/><circle cx="75" cy="28" r="13" fill="#F1EEDA"/><rect x="24" y="23" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/><rect x="70" y="23" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/>',sensor:(e,t)=>'<path d="M28 44a20 20 0 0 0 19.9-18h41.52a5 5 0 1 0 0-4H47.9A20 20 0 1 0 28 44Z" fill="#000" fill-opacity=".2"/><circle cx="94" cy="24" r="2" fill="#fff"/><circle cx="28" cy="24" r="16" fill="#000" fill-opacity=".6"/><circle cx="34" cy="16" r="3" fill="#fff"/>',shade01:(e,t)=>'<path d="M96 2H8c-4.5 0-8 3.5-8 8.03V28c0 4.5 3.5 8 8 8h13c8 0 11 8 18 8h27c7 0 9-8 17-8h13c4.5 0 8-3.5 8-8V10c0-4.5-3.5-8-8-8Z" fill="#000" fill-opacity=".8"/><path d="M87 14H17c-3.5 0-5 3-5 5v2c0 2 1.5 5 5 5h12c6 0 11.62 8 17 8h14c5.38 0 9-8 15-8h12c3.5 0 5-3 5-5v-2c0-2-1.5-5-5-5Z" fill="#FF3D3D"/><path d="M22.44 36.09 37.26 2h11L31.4 40.78l-.76-.58c-2.38-1.82-4.83-3.69-8.2-4.11ZM11.48 36 26.26 2h4L15.48 36h-4Z" fill="#fff" fill-opacity=".2"/>'},Op=Object.freeze(Object.defineProperty({__proto__:null,eyes:Ap,mouth:Tp},Symbol.toStringTag,{value:"Module"}));function Eo({prng:e,group:t,values:n=[]}){const r=Op,s=e.pick(n);if(s&&r[t][s])return{name:s,value:r[t][s]}}function $p({prng:e,options:t}){const n=Eo({prng:e,group:"mouth",values:t.mouth}),r=Eo({prng:e,group:"eyes",values:t.eyes});return{mouth:n,eyes:r}}function Ip({prng:e,options:t}){return{}}const jp={$schema:"http://json-schema.org/draft-07/schema#",properties:{backgroundColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"},default:["ffb300","1e88e5","546e7a","6d4c41","00acc1","f4511e","5e35b1","43a047","757575","3949ab","039be5","7cb342","c0ca33","fb8c00","d81b60","8e24aa","e53935","00897b","fdd835"]},eyes:{type:"array",items:{type:"string",enum:["bulging","dizzy","eva","frame1","frame2","glow","happy","hearts","robocop","round","roundFrame01","roundFrame02","sensor","shade01"]},default:["bulging","dizzy","eva","frame1","frame2","glow","happy","hearts","robocop","round","roundFrame01","roundFrame02","sensor","shade01"]},mouth:{type:"array",items:{type:"string",enum:["bite","diagram","grill01","grill02","grill03","smile01","smile02","square01","square02"]},default:["bite","diagram","grill01","grill02","grill03","smile01","smile02","square01","square02"]}}},Mp={title:"Bottts",creator:"Pablo Stanley",source:"https://bottts.com/",homepage:"https://twitter.com/pablostanley",license:{name:"Free for personal and commercial use",url:"https://bottts.com/"}},Lp=({prng:e,options:t})=>{var n,r,s,i;const o=$p({prng:e,options:t}),a=Ip({prng:e,options:t});return{attributes:{viewBox:"0 0 120 120",fill:"none","shape-rendering":"auto"},body:`<g transform="translate(22 68)">${(r=(n=o.mouth)===null||n===void 0?void 0:n.value(o,a))!==null&&r!==void 0?r:""}</g><g transform="translate(8 20)">${(i=(s=o.eyes)===null||s===void 0?void 0:s.value(o,a))!==null&&i!==void 0?i:""}</g>`,extra:()=>({...Object.entries(o).reduce((l,[c,u])=>(l[c]=u==null?void 0:u.name,l),{}),...Object.entries(a).reduce((l,[c,u])=>(l[`${c}Color`]=u,l),{})})}},Dp=Object.freeze(Object.defineProperty({__proto__:null,create:Lp,meta:Mp,schema:jp},Symbol.toStringTag,{value:"Module"}));function ws(e){switch(e){case"svg":return"image/svg+xml";case"png":case"jpeg":case"webp":case"avif":return`image/${e}`;default:throw new Error(`Unsupported format: ${e}`)}}function Up(e,t=512){let n=t;return e=e.replace(/<svg([^>]*)/,(r,s)=>{const i=s.match(/width="([^"]+)"/);return i&&(n=parseInt(i[1])),s.match(/width="([^"]+)"/)?s=s.replace(/width="([^"]+)"/,`width="${n}"`):s+=` width="${n}"`,s.match(/height="([^"]+)"/)?s=s.replace(/height="([^"]+)"/,`height="${n}"`):s+=` height="${n}"`,`<svg${s}`}),{svg:e,size:n}}const Np=e=>Fp(e,"jpeg");function Fp(e,t){const n=typeof e=="string"?e:e.toString();return{toDataUri:()=>hl(n,t),toArrayBuffer:()=>Bp(n,t)}}async function hl(e,t,n){return t==="svg"?`data:${ws(t)};utf8,${encodeURIComponent(e)}`:(await pl(e,t)).toDataURL(ws(t))}async function Bp(e,t,n){const r=await pl(e,t);return await new Promise((s,i)=>{r.toBlob(o=>{o?s(o.arrayBuffer()):i(new Error("Could not create blob"))},ws(t))})}async function pl(e,t,n){const{svg:r,size:s}=Up(e),i=document.createElement("canvas");i.width=s,i.height=s;const o=i.getContext("2d");if(o===null)throw new Error("Could not get canvas context");t==="jpeg"&&(o.fillStyle="white",o.fillRect(0,0,s,s));const a=document.createElement("img");return a.width=s,a.height=s,a.setAttribute("src",await hl(r,"svg")),new Promise((l,c)=>{a.onload=()=>{o.drawImage(a,0,0,s,s),l(i)},a.onerror=u=>c(u)})}class zp{async generateAvatarByString(t){const n=kp(Dp,{seed:t}),r=await Np(n).toArrayBuffer(),s=new Uint8Array(r);return new File([s],`${t}.jpeg`,{type:"image/jpeg"})}}const qp={quizService:new dp,avatarService:new zp},gl=ju(Ff);gl.use(pd).provide("container",qp).provide("notificationProvider",Bf);gl.mount("#app");export{Sd as g};
