var El=Object.defineProperty;var Sl=(e,t,n)=>t in e?El(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var er=(e,t,n)=>Sl(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Cs(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const re={},on=[],it=()=>{},Pl=()=>!1,Er=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),xs=e=>e.startsWith("onUpdate:"),Ce=Object.assign,As=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Cl=Object.prototype.hasOwnProperty,Y=(e,t)=>Cl.call(e,t),z=Array.isArray,an=e=>Sr(e)==="[object Map]",ko=e=>Sr(e)==="[object Set]",q=e=>typeof e=="function",ge=e=>typeof e=="string",At=e=>typeof e=="symbol",de=e=>e!==null&&typeof e=="object",Ro=e=>(de(e)||q(e))&&q(e.then)&&q(e.catch),To=Object.prototype.toString,Sr=e=>To.call(e),xl=e=>Sr(e).slice(8,-1),Oo=e=>Sr(e)==="[object Object]",ks=e=>ge(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Rn=Cs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Pr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Al=/-(\w)/g,xt=Pr(e=>e.replace(Al,(t,n)=>n?n.toUpperCase():"")),kl=/\B([A-Z])/g,zt=Pr(e=>e.replace(kl,"-$1").toLowerCase()),$o=Pr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Nr=Pr(e=>e?`on${$o(e)}`:""),Ct=(e,t)=>!Object.is(e,t),cr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Io=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},ns=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let si;const Cr=()=>si||(si=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Rs(e){if(z(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=ge(r)?$l(r):Rs(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(ge(e)||de(e))return e}const Rl=/;(?![^(]*\))/g,Tl=/:([^]+)/,Ol=/\/\*[^]*?\*\//g;function $l(e){const t={};return e.replace(Ol,"").split(Rl).forEach(n=>{if(n){const r=n.split(Tl);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ts(e){let t="";if(ge(e))t=e;else if(z(e))for(let n=0;n<e.length;n++){const r=Ts(e[n]);r&&(t+=r+" ")}else if(de(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Il="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jl=Cs(Il);function jo(e){return!!e||e===""}const Lo=e=>!!(e&&e.__v_isRef===!0),he=e=>ge(e)?e:e==null?"":z(e)||de(e)&&(e.toString===To||!q(e.toString))?Lo(e)?he(e.value):JSON.stringify(e,Mo,2):String(e),Mo=(e,t)=>Lo(t)?Mo(e,t.value):an(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Ur(r,i)+" =>"]=s,n),{})}:ko(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ur(n))}:At(t)?Ur(t):de(t)&&!z(t)&&!Oo(t)?String(t):t,Ur=(e,t="")=>{var n;return At(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ue;class Ll{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ue,!t&&Ue&&(this.index=(Ue.scopes||(Ue.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ue;try{return Ue=this,t()}finally{Ue=n}}}on(){Ue=this}off(){Ue=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Ml(){return Ue}let oe;const Fr=new WeakSet;class Do{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ue&&Ue.active&&Ue.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Fr.has(this)&&(Fr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Uo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ii(this),Fo(this);const t=oe,n=Qe;oe=this,Qe=!0;try{return this.fn()}finally{zo(this),oe=t,Qe=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Is(t);this.deps=this.depsTail=void 0,ii(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Fr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){rs(this)&&this.run()}get dirty(){return rs(this)}}let No=0,Tn,On;function Uo(e,t=!1){if(e.flags|=8,t){e.next=On,On=e;return}e.next=Tn,Tn=e}function Os(){No++}function $s(){if(--No>0)return;if(On){let t=On;for(On=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Tn;){let t=Tn;for(Tn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Fo(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function zo(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Is(r),Dl(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function rs(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Bo(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Bo(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===zn))return;e.globalVersion=zn;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!rs(e)){e.flags&=-3;return}const n=oe,r=Qe;oe=e,Qe=!0;try{Fo(e);const s=e.fn(e._value);(t.version===0||Ct(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{oe=n,Qe=r,zo(e),e.flags&=-3}}function Is(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Is(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Dl(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Qe=!0;const qo=[];function kt(){qo.push(Qe),Qe=!1}function Rt(){const e=qo.pop();Qe=e===void 0?!0:e}function ii(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=oe;oe=void 0;try{t()}finally{oe=n}}}let zn=0;class Nl{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class js{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!oe||!Qe||oe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==oe)n=this.activeLink=new Nl(oe,this),oe.deps?(n.prevDep=oe.depsTail,oe.depsTail.nextDep=n,oe.depsTail=n):oe.deps=oe.depsTail=n,Ho(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=oe.depsTail,n.nextDep=void 0,oe.depsTail.nextDep=n,oe.depsTail=n,oe.deps===n&&(oe.deps=r)}return n}trigger(t){this.version++,zn++,this.notify(t)}notify(t){Os();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{$s()}}}function Ho(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Ho(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ss=new WeakMap,Dt=Symbol(""),is=Symbol(""),Bn=Symbol("");function Ee(e,t,n){if(Qe&&oe){let r=ss.get(e);r||ss.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new js),s.map=r,s.key=n),s.track()}}function ht(e,t,n,r,s,i){const o=ss.get(e);if(!o){zn++;return}const a=l=>{l&&l.trigger()};if(Os(),t==="clear")o.forEach(a);else{const l=z(e),c=l&&ks(n);if(l&&n==="length"){const u=Number(r);o.forEach((d,f)=>{(f==="length"||f===Bn||!At(f)&&f>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Bn)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Dt)),an(e)&&a(o.get(is)));break;case"delete":l||(a(o.get(Dt)),an(e)&&a(o.get(is)));break;case"set":an(e)&&a(o.get(Dt));break}}$s()}function Kt(e){const t=J(e);return t===e?t:(Ee(t,"iterate",Bn),Ve(e)?t:t.map(Se))}function xr(e){return Ee(e=J(e),"iterate",Bn),e}const Ul={__proto__:null,[Symbol.iterator](){return zr(this,Symbol.iterator,Se)},concat(...e){return Kt(this).concat(...e.map(t=>z(t)?Kt(t):t))},entries(){return zr(this,"entries",e=>(e[1]=Se(e[1]),e))},every(e,t){return ct(this,"every",e,t,void 0,arguments)},filter(e,t){return ct(this,"filter",e,t,n=>n.map(Se),arguments)},find(e,t){return ct(this,"find",e,t,Se,arguments)},findIndex(e,t){return ct(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ct(this,"findLast",e,t,Se,arguments)},findLastIndex(e,t){return ct(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ct(this,"forEach",e,t,void 0,arguments)},includes(...e){return Br(this,"includes",e)},indexOf(...e){return Br(this,"indexOf",e)},join(e){return Kt(this).join(e)},lastIndexOf(...e){return Br(this,"lastIndexOf",e)},map(e,t){return ct(this,"map",e,t,void 0,arguments)},pop(){return bn(this,"pop")},push(...e){return bn(this,"push",e)},reduce(e,...t){return oi(this,"reduce",e,t)},reduceRight(e,...t){return oi(this,"reduceRight",e,t)},shift(){return bn(this,"shift")},some(e,t){return ct(this,"some",e,t,void 0,arguments)},splice(...e){return bn(this,"splice",e)},toReversed(){return Kt(this).toReversed()},toSorted(e){return Kt(this).toSorted(e)},toSpliced(...e){return Kt(this).toSpliced(...e)},unshift(...e){return bn(this,"unshift",e)},values(){return zr(this,"values",Se)}};function zr(e,t,n){const r=xr(e),s=r[t]();return r!==e&&!Ve(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const Fl=Array.prototype;function ct(e,t,n,r,s,i){const o=xr(e),a=o!==e&&!Ve(e),l=o[t];if(l!==Fl[t]){const d=l.apply(e,i);return a?Se(d):d}let c=n;o!==e&&(a?c=function(d,f){return n.call(this,Se(d),f,e)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,e)}));const u=l.call(o,c,r);return a&&s?s(u):u}function oi(e,t,n,r){const s=xr(e);let i=n;return s!==e&&(Ve(e)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,e)}):i=function(o,a,l){return n.call(this,o,Se(a),l,e)}),s[t](i,...r)}function Br(e,t,n){const r=J(e);Ee(r,"iterate",Bn);const s=r[t](...n);return(s===-1||s===!1)&&Ds(n[0])?(n[0]=J(n[0]),r[t](...n)):s}function bn(e,t,n=[]){kt(),Os();const r=J(e)[t].apply(e,n);return $s(),Rt(),r}const zl=Cs("__proto__,__v_isRef,__isVue"),Vo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(At));function Bl(e){At(e)||(e=String(e));const t=J(this);return Ee(t,"has",e),t.hasOwnProperty(e)}class Ko{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Zl:Jo:i?Go:Qo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=z(t);if(!s){let l;if(o&&(l=Ul[n]))return l;if(n==="hasOwnProperty")return Bl}const a=Reflect.get(t,n,Pe(t)?t:r);return(At(n)?Vo.has(n):zl(n))||(s||Ee(t,"get",n),i)?a:Pe(a)?o&&ks(n)?a:a.value:de(a)?s?Zo(a):Ar(a):a}}class Wo extends Ko{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._isShallow){const l=Nt(i);if(!Ve(r)&&!Nt(r)&&(i=J(i),r=J(r)),!z(t)&&Pe(i)&&!Pe(r))return l?!1:(i.value=r,!0)}const o=z(t)&&ks(n)?Number(n)<t.length:Y(t,n),a=Reflect.set(t,n,r,Pe(t)?t:s);return t===J(s)&&(o?Ct(r,i)&&ht(t,"set",n,r):ht(t,"add",n,r)),a}deleteProperty(t,n){const r=Y(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&ht(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!At(n)||!Vo.has(n))&&Ee(t,"has",n),r}ownKeys(t){return Ee(t,"iterate",z(t)?"length":Dt),Reflect.ownKeys(t)}}class ql extends Ko{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Hl=new Wo,Vl=new ql,Kl=new Wo(!0);const os=e=>e,tr=e=>Reflect.getPrototypeOf(e);function Wl(e,t,n){return function(...r){const s=this.__v_raw,i=J(s),o=an(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...r),u=n?os:t?as:Se;return!t&&Ee(i,"iterate",l?is:Dt),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function nr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ql(e,t){const n={get(s){const i=this.__v_raw,o=J(i),a=J(s);e||(Ct(s,a)&&Ee(o,"get",s),Ee(o,"get",a));const{has:l}=tr(o),c=t?os:e?as:Se;if(l.call(o,s))return c(i.get(s));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!e&&Ee(J(s),"iterate",Dt),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=J(i),a=J(s);return e||(Ct(s,a)&&Ee(o,"has",s),Ee(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=J(a),c=t?os:e?as:Se;return!e&&Ee(l,"iterate",Dt),a.forEach((u,d)=>s.call(i,c(u),c(d),o))}};return Ce(n,e?{add:nr("add"),set:nr("set"),delete:nr("delete"),clear:nr("clear")}:{add(s){!t&&!Ve(s)&&!Nt(s)&&(s=J(s));const i=J(this);return tr(i).has.call(i,s)||(i.add(s),ht(i,"add",s,s)),this},set(s,i){!t&&!Ve(i)&&!Nt(i)&&(i=J(i));const o=J(this),{has:a,get:l}=tr(o);let c=a.call(o,s);c||(s=J(s),c=a.call(o,s));const u=l.call(o,s);return o.set(s,i),c?Ct(i,u)&&ht(o,"set",s,i):ht(o,"add",s,i),this},delete(s){const i=J(this),{has:o,get:a}=tr(i);let l=o.call(i,s);l||(s=J(s),l=o.call(i,s)),a&&a.call(i,s);const c=i.delete(s);return l&&ht(i,"delete",s,void 0),c},clear(){const s=J(this),i=s.size!==0,o=s.clear();return i&&ht(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Wl(s,e,t)}),n}function Ls(e,t){const n=Ql(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Y(n,s)&&s in r?n:r,s,i)}const Gl={get:Ls(!1,!1)},Jl={get:Ls(!1,!0)},Yl={get:Ls(!0,!1)};const Qo=new WeakMap,Go=new WeakMap,Jo=new WeakMap,Zl=new WeakMap;function Xl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ec(e){return e.__v_skip||!Object.isExtensible(e)?0:Xl(xl(e))}function Ar(e){return Nt(e)?e:Ms(e,!1,Hl,Gl,Qo)}function Yo(e){return Ms(e,!1,Kl,Jl,Go)}function Zo(e){return Ms(e,!0,Vl,Yl,Jo)}function Ms(e,t,n,r,s){if(!de(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=ec(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function ln(e){return Nt(e)?ln(e.__v_raw):!!(e&&e.__v_isReactive)}function Nt(e){return!!(e&&e.__v_isReadonly)}function Ve(e){return!!(e&&e.__v_isShallow)}function Ds(e){return e?!!e.__v_raw:!1}function J(e){const t=e&&e.__v_raw;return t?J(t):e}function tc(e){return!Y(e,"__v_skip")&&Object.isExtensible(e)&&Io(e,"__v_skip",!0),e}const Se=e=>de(e)?Ar(e):e,as=e=>de(e)?Zo(e):e;function Pe(e){return e?e.__v_isRef===!0:!1}function fe(e){return Xo(e,!1)}function nc(e){return Xo(e,!0)}function Xo(e,t){return Pe(e)?e:new rc(e,t)}class rc{constructor(t,n){this.dep=new js,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:J(t),this._value=n?t:Se(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Ve(t)||Nt(t);t=r?t:J(t),Ct(t,n)&&(this._rawValue=t,this._value=r?t:Se(t),this.dep.trigger())}}function ye(e){return Pe(e)?e.value:e}const sc={get:(e,t,n)=>t==="__v_raw"?e:ye(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Pe(s)&&!Pe(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function ea(e){return ln(e)?e:new Proxy(e,sc)}class ic{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new js(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=zn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&oe!==this)return Uo(this,!0),!0}get value(){const t=this.dep.track();return Bo(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function oc(e,t,n=!1){let r,s;return q(e)?r=e:(r=e.get,s=e.set),new ic(r,s,n)}const rr={},hr=new WeakMap;let It;function ac(e,t=!1,n=It){if(n){let r=hr.get(n);r||hr.set(n,r=[]),r.push(e)}}function lc(e,t,n=re){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,c=S=>s?S:Ve(S)||s===!1||s===0?pt(S,1):pt(S);let u,d,f,h,y=!1,_=!1;if(Pe(e)?(d=()=>e.value,y=Ve(e)):ln(e)?(d=()=>c(e),y=!0):z(e)?(_=!0,y=e.some(S=>ln(S)||Ve(S)),d=()=>e.map(S=>{if(Pe(S))return S.value;if(ln(S))return c(S);if(q(S))return l?l(S,2):S()})):q(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){kt();try{f()}finally{Rt()}}const S=It;It=u;try{return l?l(e,3,[h]):e(h)}finally{It=S}}:d=it,t&&s){const S=d,j=s===!0?1/0:s;d=()=>pt(S(),j)}const v=Ml(),x=()=>{u.stop(),v&&v.active&&As(v.effects,u)};if(i&&t){const S=t;t=(...j)=>{S(...j),x()}}let A=_?new Array(e.length).fill(rr):rr;const C=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(t){const j=u.run();if(s||y||(_?j.some((B,U)=>Ct(B,A[U])):Ct(j,A))){f&&f();const B=It;It=u;try{const U=[j,A===rr?void 0:_&&A[0]===rr?[]:A,h];l?l(t,3,U):t(...U),A=j}finally{It=B}}}else u.run()};return a&&a(C),u=new Do(d),u.scheduler=o?()=>o(C,!1):C,h=S=>ac(S,!1,u),f=u.onStop=()=>{const S=hr.get(u);if(S){if(l)l(S,4);else for(const j of S)j();hr.delete(u)}},t?r?C(!0):A=u.run():o?o(C.bind(null,!0),!0):u.run(),x.pause=u.pause.bind(u),x.resume=u.resume.bind(u),x.stop=x,x}function pt(e,t=1/0,n){if(t<=0||!de(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Pe(e))pt(e.value,t,n);else if(z(e))for(let r=0;r<e.length;r++)pt(e[r],t,n);else if(ko(e)||an(e))e.forEach(r=>{pt(r,t,n)});else if(Oo(e)){for(const r in e)pt(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&pt(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Gn(e,t,n,r){try{return r?e(...r):e()}catch(s){kr(s,t,n)}}function ot(e,t,n,r){if(q(e)){const s=Gn(e,t,n,r);return s&&Ro(s)&&s.catch(i=>{kr(i,t,n)}),s}if(z(e)){const s=[];for(let i=0;i<e.length;i++)s.push(ot(e[i],t,n,r));return s}}function kr(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||re;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}a=a.parent}if(i){kt(),Gn(i,null,10,[e,l,c]),Rt();return}}cc(e,n,s,r,o)}function cc(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const Ae=[];let nt=-1;const cn=[];let wt=null,tn=0;const ta=Promise.resolve();let pr=null;function na(e){const t=pr||ta;return e?t.then(this?e.bind(this):e):t}function uc(e){let t=nt+1,n=Ae.length;for(;t<n;){const r=t+n>>>1,s=Ae[r],i=qn(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function Ns(e){if(!(e.flags&1)){const t=qn(e),n=Ae[Ae.length-1];!n||!(e.flags&2)&&t>=qn(n)?Ae.push(e):Ae.splice(uc(t),0,e),e.flags|=1,ra()}}function ra(){pr||(pr=ta.then(ia))}function dc(e){z(e)?cn.push(...e):wt&&e.id===-1?wt.splice(tn+1,0,e):e.flags&1||(cn.push(e),e.flags|=1),ra()}function ai(e,t,n=nt+1){for(;n<Ae.length;n++){const r=Ae[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Ae.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function sa(e){if(cn.length){const t=[...new Set(cn)].sort((n,r)=>qn(n)-qn(r));if(cn.length=0,wt){wt.push(...t);return}for(wt=t,tn=0;tn<wt.length;tn++){const n=wt[tn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}wt=null,tn=0}}const qn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ia(e){try{for(nt=0;nt<Ae.length;nt++){const t=Ae[nt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Gn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;nt<Ae.length;nt++){const t=Ae[nt];t&&(t.flags&=-2)}nt=-1,Ae.length=0,sa(),pr=null,(Ae.length||cn.length)&&ia()}}let He=null,oa=null;function gr(e){const t=He;return He=e,oa=e&&e.type.__scopeId||null,t}function aa(e,t=He,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&mi(-1);const i=gr(t);let o;try{o=e(...s)}finally{gr(i),r._d&&mi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function la(e,t){if(He===null)return e;const n=Ir(He),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,o,a,l=re]=t[s];i&&(q(i)&&(i={mounted:i,updated:i}),i.deep&&pt(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Tt(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(kt(),ot(l,n,8,[e.el,a,e,t]),Rt())}}const fc=Symbol("_vte"),hc=e=>e.__isTeleport;function Us(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Us(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Be(e,t){return q(e)?Ce({name:e.name},t,{setup:e}):e}function ca(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function mr(e,t,n,r,s=!1){if(z(e)){e.forEach((y,_)=>mr(y,t&&(z(t)?t[_]:t),n,r,s));return}if($n(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&mr(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?Ir(r.component):r.el,o=s?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===re?a.refs={}:a.refs,d=a.setupState,f=J(d),h=d===re?()=>!1:y=>Y(f,y);if(c!=null&&c!==l&&(ge(c)?(u[c]=null,h(c)&&(d[c]=null)):Pe(c)&&(c.value=null)),q(l))Gn(l,a,12,[o,u]);else{const y=ge(l),_=Pe(l);if(y||_){const v=()=>{if(e.f){const x=y?h(l)?d[l]:u[l]:l.value;s?z(x)&&As(x,i):z(x)?x.includes(i)||x.push(i):y?(u[l]=[i],h(l)&&(d[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else y?(u[l]=o,h(l)&&(d[l]=o)):_&&(l.value=o,e.k&&(u[e.k]=o))};o?(v.id=-1,De(v,n)):v()}}}Cr().requestIdleCallback;Cr().cancelIdleCallback;const $n=e=>!!e.type.__asyncLoader,ua=e=>e.type.__isKeepAlive;function pc(e,t){da(e,"a",t)}function gc(e,t){da(e,"da",t)}function da(e,t,n=Re){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Rr(t,r,n),n){let s=n.parent;for(;s&&s.parent;)ua(s.parent.vnode)&&mc(r,t,n,s),s=s.parent}}function mc(e,t,n,r){const s=Rr(t,e,r,!0);fa(()=>{As(r[t],s)},n)}function Rr(e,t,n=Re,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{kt();const a=Jn(n),l=ot(t,n,e,o);return a(),Rt(),l});return r?s.unshift(i):s.push(i),i}}const gt=e=>(t,n=Re)=>{(!Vn||e==="sp")&&Rr(e,(...r)=>t(...r),n)},yc=gt("bm"),yn=gt("m"),_c=gt("bu"),Fs=gt("u"),vc=gt("bum"),fa=gt("um"),wc=gt("sp"),bc=gt("rtg"),Ec=gt("rtc");function Sc(e,t=Re){Rr("ec",e,t)}const Pc=Symbol.for("v-ndc");function In(e,t,n,r){let s;const i=n,o=z(e);if(o||ge(e)){const a=o&&ln(e);let l=!1;a&&(l=!Ve(e),e=xr(e)),s=new Array(e.length);for(let c=0,u=e.length;c<u;c++)s[c]=t(l?Se(e[c]):e[c],c,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,i)}else if(de(e))if(e[Symbol.iterator])s=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=t(e[u],u,l,i)}}else s=[];return s}const ls=e=>e?ja(e)?Ir(e):ls(e.parent):null,jn=Ce(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ls(e.parent),$root:e=>ls(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>pa(e),$forceUpdate:e=>e.f||(e.f=()=>{Ns(e.update)}),$nextTick:e=>e.n||(e.n=na.bind(e.proxy)),$watch:e=>Vc.bind(e)}),qr=(e,t)=>e!==re&&!e.__isScriptSetup&&Y(e,t),Cc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(qr(r,t))return o[t]=1,r[t];if(s!==re&&Y(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&Y(c,t))return o[t]=3,i[t];if(n!==re&&Y(n,t))return o[t]=4,n[t];cs&&(o[t]=0)}}const u=jn[t];let d,f;if(u)return t==="$attrs"&&Ee(e.attrs,"get",""),u(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==re&&Y(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,Y(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return qr(s,t)?(s[t]=n,!0):r!==re&&Y(r,t)?(r[t]=n,!0):Y(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==re&&Y(e,o)||qr(t,o)||(a=i[0])&&Y(a,o)||Y(r,o)||Y(jn,o)||Y(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Y(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function li(e){return z(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let cs=!0;function xc(e){const t=pa(e),n=e.proxy,r=e.ctx;cs=!1,t.beforeCreate&&ci(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:y,activated:_,deactivated:v,beforeDestroy:x,beforeUnmount:A,destroyed:C,unmounted:S,render:j,renderTracked:B,renderTriggered:U,errorCaptured:ae,serverPrefetch:le,expose:_e,inheritAttrs:ve,components:me,directives:Z,filters:at}=t;if(c&&Ac(c,r,null),o)for(const ee in o){const Q=o[ee];q(Q)&&(r[ee]=Q.bind(n))}if(s){const ee=s.call(n,n);de(ee)&&(e.data=Ar(ee))}if(cs=!0,i)for(const ee in i){const Q=i[ee],lt=q(Q)?Q.bind(n,n):q(Q.get)?Q.get.bind(n,n):it,mt=!q(Q)&&q(Q.set)?Q.set.bind(n):it,Je=Fe({get:lt,set:mt});Object.defineProperty(r,ee,{enumerable:!0,configurable:!0,get:()=>Je.value,set:Te=>Je.value=Te})}if(a)for(const ee in a)ha(a[ee],r,n,ee);if(l){const ee=q(l)?l.call(n):l;Reflect.ownKeys(ee).forEach(Q=>{Ln(Q,ee[Q])})}u&&ci(u,e,"c");function pe(ee,Q){z(Q)?Q.forEach(lt=>ee(lt.bind(n))):Q&&ee(Q.bind(n))}if(pe(yc,d),pe(yn,f),pe(_c,h),pe(Fs,y),pe(pc,_),pe(gc,v),pe(Sc,ae),pe(Ec,B),pe(bc,U),pe(vc,A),pe(fa,S),pe(wc,le),z(_e))if(_e.length){const ee=e.exposed||(e.exposed={});_e.forEach(Q=>{Object.defineProperty(ee,Q,{get:()=>n[Q],set:lt=>n[Q]=lt})})}else e.exposed||(e.exposed={});j&&e.render===it&&(e.render=j),ve!=null&&(e.inheritAttrs=ve),me&&(e.components=me),Z&&(e.directives=Z),le&&ca(e)}function Ac(e,t,n=it){z(e)&&(e=us(e));for(const r in e){const s=e[r];let i;de(s)?"default"in s?i=ce(s.from||r,s.default,!0):i=ce(s.from||r):i=ce(s),Pe(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function ci(e,t,n){ot(z(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function ha(e,t,n,r){let s=r.includes(".")?ka(n,r):()=>n[r];if(ge(e)){const i=t[e];q(i)&&ur(s,i)}else if(q(e))ur(s,e.bind(n));else if(de(e))if(z(e))e.forEach(i=>ha(i,t,n,r));else{const i=q(e.handler)?e.handler.bind(n):t[e.handler];q(i)&&ur(s,i,e)}}function pa(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(c=>yr(l,c,o,!0)),yr(l,t,o)),de(t)&&i.set(t,l),l}function yr(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&yr(e,i,n,!0),s&&s.forEach(o=>yr(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=kc[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const kc={data:ui,props:di,emits:di,methods:An,computed:An,beforeCreate:xe,created:xe,beforeMount:xe,mounted:xe,beforeUpdate:xe,updated:xe,beforeDestroy:xe,beforeUnmount:xe,destroyed:xe,unmounted:xe,activated:xe,deactivated:xe,errorCaptured:xe,serverPrefetch:xe,components:An,directives:An,watch:Tc,provide:ui,inject:Rc};function ui(e,t){return t?e?function(){return Ce(q(e)?e.call(this,this):e,q(t)?t.call(this,this):t)}:t:e}function Rc(e,t){return An(us(e),us(t))}function us(e){if(z(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function xe(e,t){return e?[...new Set([].concat(e,t))]:t}function An(e,t){return e?Ce(Object.create(null),e,t):t}function di(e,t){return e?z(e)&&z(t)?[...new Set([...e,...t])]:Ce(Object.create(null),li(e),li(t??{})):t}function Tc(e,t){if(!e)return t;if(!t)return e;const n=Ce(Object.create(null),e);for(const r in t)n[r]=xe(e[r],t[r]);return n}function ga(){return{app:null,config:{isNativeTag:Pl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Oc=0;function $c(e,t){return function(r,s=null){q(r)||(r=Ce({},r)),s!=null&&!de(s)&&(s=null);const i=ga(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:Oc++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:du,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&q(u.install)?(o.add(u),u.install(c,...d)):q(u)&&(o.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||je(r,s);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),e(h,u,f),l=!0,c._container=u,u.__vue_app__=c,Ir(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(ot(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=un;un=c;try{return u()}finally{un=d}}};return c}}let un=null;function Ln(e,t){if(Re){let n=Re.provides;const r=Re.parent&&Re.parent.provides;r===n&&(n=Re.provides=Object.create(r)),n[e]=t}}function ce(e,t,n=!1){const r=Re||He;if(r||un){const s=un?un._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&q(t)?t.call(r&&r.proxy):t}}const ma={},ya=()=>Object.create(ma),_a=e=>Object.getPrototypeOf(e)===ma;function Ic(e,t,n,r=!1){const s={},i=ya();e.propsDefaults=Object.create(null),va(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:Yo(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function jc(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=J(s),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Tr(e.emitsOptions,f))continue;const h=t[f];if(l)if(Y(i,f))h!==i[f]&&(i[f]=h,c=!0);else{const y=xt(f);s[y]=ds(l,a,y,h,e,!1)}else h!==i[f]&&(i[f]=h,c=!0)}}}else{va(e,t,s,i)&&(c=!0);let u;for(const d in a)(!t||!Y(t,d)&&((u=zt(d))===d||!Y(t,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=ds(l,a,d,void 0,e,!0)):delete s[d]);if(i!==a)for(const d in i)(!t||!Y(t,d))&&(delete i[d],c=!0)}c&&ht(e.attrs,"set","")}function va(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Rn(l))continue;const c=t[l];let u;s&&Y(s,u=xt(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Tr(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=J(n),c=a||re;for(let u=0;u<i.length;u++){const d=i[u];n[d]=ds(s,l,d,c[d],e,!Y(c,d))}}return o}function ds(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=Y(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&q(l)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const u=Jn(s);r=c[n]=l.call(null,t),u()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===zt(n))&&(r=!0))}return r}const Lc=new WeakMap;function wa(e,t,n=!1){const r=n?Lc:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!q(e)){const u=d=>{l=!0;const[f,h]=wa(d,t,!0);Ce(o,f),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return de(e)&&r.set(e,on),on;if(z(i))for(let u=0;u<i.length;u++){const d=xt(i[u]);fi(d)&&(o[d]=re)}else if(i)for(const u in i){const d=xt(u);if(fi(d)){const f=i[u],h=o[d]=z(f)||q(f)?{type:f}:Ce({},f),y=h.type;let _=!1,v=!0;if(z(y))for(let x=0;x<y.length;++x){const A=y[x],C=q(A)&&A.name;if(C==="Boolean"){_=!0;break}else C==="String"&&(v=!1)}else _=q(y)&&y.name==="Boolean";h[0]=_,h[1]=v,(_||Y(h,"default"))&&a.push(d)}}const c=[o,a];return de(e)&&r.set(e,c),c}function fi(e){return e[0]!=="$"&&!Rn(e)}const ba=e=>e[0]==="_"||e==="$stable",zs=e=>z(e)?e.map(rt):[rt(e)],Mc=(e,t,n)=>{if(t._n)return t;const r=aa((...s)=>zs(t(...s)),n);return r._c=!1,r},Ea=(e,t,n)=>{const r=e._ctx;for(const s in e){if(ba(s))continue;const i=e[s];if(q(i))t[s]=Mc(s,i,r);else if(i!=null){const o=zs(i);t[s]=()=>o}}},Sa=(e,t)=>{const n=zs(t);e.slots.default=()=>n},Pa=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},Dc=(e,t,n)=>{const r=e.slots=ya();if(e.vnode.shapeFlag&32){const s=t._;s?(Pa(r,t,n),n&&Io(r,"_",s,!0)):Ea(t,r)}else t&&Sa(e,t)},Nc=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=re;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:Pa(s,t,n):(i=!t.$stable,Ea(t,s)),o=t}else t&&(Sa(e,t),o={default:1});if(i)for(const a in s)!ba(a)&&o[a]==null&&delete s[a]},De=Zc;function Uc(e){return Fc(e)}function Fc(e,t){const n=Cr();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=it,insertStaticContent:y}=e,_=(p,g,m,w=null,P=null,E=null,O=void 0,T=null,R=!!g.dynamicChildren)=>{if(p===g)return;p&&!En(p,g)&&(w=b(p),Te(p,P,E,!0),p=null),g.patchFlag===-2&&(R=!1,g.dynamicChildren=null);const{type:k,ref:N,shapeFlag:I}=g;switch(k){case Or:v(p,g,m,w);break;case Ut:x(p,g,m,w);break;case Vr:p==null&&A(g,m,w,O);break;case ke:me(p,g,m,w,P,E,O,T,R);break;default:I&1?j(p,g,m,w,P,E,O,T,R):I&6?Z(p,g,m,w,P,E,O,T,R):(I&64||I&128)&&k.process(p,g,m,w,P,E,O,T,R,M)}N!=null&&P&&mr(N,p&&p.ref,E,g||p,!g)},v=(p,g,m,w)=>{if(p==null)r(g.el=a(g.children),m,w);else{const P=g.el=p.el;g.children!==p.children&&c(P,g.children)}},x=(p,g,m,w)=>{p==null?r(g.el=l(g.children||""),m,w):g.el=p.el},A=(p,g,m,w)=>{[p.el,p.anchor]=y(p.children,g,m,w,p.el,p.anchor)},C=({el:p,anchor:g},m,w)=>{let P;for(;p&&p!==g;)P=f(p),r(p,m,w),p=P;r(g,m,w)},S=({el:p,anchor:g})=>{let m;for(;p&&p!==g;)m=f(p),s(p),p=m;s(g)},j=(p,g,m,w,P,E,O,T,R)=>{g.type==="svg"?O="svg":g.type==="math"&&(O="mathml"),p==null?B(g,m,w,P,E,O,T,R):le(p,g,P,E,O,T,R)},B=(p,g,m,w,P,E,O,T)=>{let R,k;const{props:N,shapeFlag:I,transition:D,dirs:F}=p;if(R=p.el=o(p.type,E,N&&N.is,N),I&8?u(R,p.children):I&16&&ae(p.children,R,null,w,P,Hr(p,E),O,T),F&&Tt(p,null,w,"created"),U(R,p,p.scopeId,O,w),N){for(const se in N)se!=="value"&&!Rn(se)&&i(R,se,null,N[se],E,w);"value"in N&&i(R,"value",null,N.value,E),(k=N.onVnodeBeforeMount)&&et(k,w,p)}F&&Tt(p,null,w,"beforeMount");const W=zc(P,D);W&&D.beforeEnter(R),r(R,g,m),((k=N&&N.onVnodeMounted)||W||F)&&De(()=>{k&&et(k,w,p),W&&D.enter(R),F&&Tt(p,null,w,"mounted")},P)},U=(p,g,m,w,P)=>{if(m&&h(p,m),w)for(let E=0;E<w.length;E++)h(p,w[E]);if(P){let E=P.subTree;if(g===E||Ta(E.type)&&(E.ssContent===g||E.ssFallback===g)){const O=P.vnode;U(p,O,O.scopeId,O.slotScopeIds,P.parent)}}},ae=(p,g,m,w,P,E,O,T,R=0)=>{for(let k=R;k<p.length;k++){const N=p[k]=T?bt(p[k]):rt(p[k]);_(null,N,g,m,w,P,E,O,T)}},le=(p,g,m,w,P,E,O)=>{const T=g.el=p.el;let{patchFlag:R,dynamicChildren:k,dirs:N}=g;R|=p.patchFlag&16;const I=p.props||re,D=g.props||re;let F;if(m&&Ot(m,!1),(F=D.onVnodeBeforeUpdate)&&et(F,m,g,p),N&&Tt(g,p,m,"beforeUpdate"),m&&Ot(m,!0),(I.innerHTML&&D.innerHTML==null||I.textContent&&D.textContent==null)&&u(T,""),k?_e(p.dynamicChildren,k,T,m,w,Hr(g,P),E):O||Q(p,g,T,null,m,w,Hr(g,P),E,!1),R>0){if(R&16)ve(T,I,D,m,P);else if(R&2&&I.class!==D.class&&i(T,"class",null,D.class,P),R&4&&i(T,"style",I.style,D.style,P),R&8){const W=g.dynamicProps;for(let se=0;se<W.length;se++){const X=W[se],Le=I[X],Oe=D[X];(Oe!==Le||X==="value")&&i(T,X,Le,Oe,P,m)}}R&1&&p.children!==g.children&&u(T,g.children)}else!O&&k==null&&ve(T,I,D,m,P);((F=D.onVnodeUpdated)||N)&&De(()=>{F&&et(F,m,g,p),N&&Tt(g,p,m,"updated")},w)},_e=(p,g,m,w,P,E,O)=>{for(let T=0;T<g.length;T++){const R=p[T],k=g[T],N=R.el&&(R.type===ke||!En(R,k)||R.shapeFlag&70)?d(R.el):m;_(R,k,N,null,w,P,E,O,!0)}},ve=(p,g,m,w,P)=>{if(g!==m){if(g!==re)for(const E in g)!Rn(E)&&!(E in m)&&i(p,E,g[E],null,P,w);for(const E in m){if(Rn(E))continue;const O=m[E],T=g[E];O!==T&&E!=="value"&&i(p,E,T,O,P,w)}"value"in m&&i(p,"value",g.value,m.value,P)}},me=(p,g,m,w,P,E,O,T,R)=>{const k=g.el=p?p.el:a(""),N=g.anchor=p?p.anchor:a("");let{patchFlag:I,dynamicChildren:D,slotScopeIds:F}=g;F&&(T=T?T.concat(F):F),p==null?(r(k,m,w),r(N,m,w),ae(g.children||[],m,N,P,E,O,T,R)):I>0&&I&64&&D&&p.dynamicChildren?(_e(p.dynamicChildren,D,m,P,E,O,T),(g.key!=null||P&&g===P.subTree)&&Ca(p,g,!0)):Q(p,g,m,N,P,E,O,T,R)},Z=(p,g,m,w,P,E,O,T,R)=>{g.slotScopeIds=T,p==null?g.shapeFlag&512?P.ctx.activate(g,m,w,O,R):at(g,m,w,P,E,O,R):Ke(p,g,R)},at=(p,g,m,w,P,E,O)=>{const T=p.component=iu(p,w,P);if(ua(p)&&(T.ctx.renderer=M),ou(T,!1,O),T.asyncDep){if(P&&P.registerDep(T,pe,O),!p.el){const R=T.subTree=je(Ut);x(null,R,g,m)}}else pe(T,p,g,m,P,E,O)},Ke=(p,g,m)=>{const w=g.component=p.component;if(Jc(p,g,m))if(w.asyncDep&&!w.asyncResolved){ee(w,g,m);return}else w.next=g,w.update();else g.el=p.el,w.vnode=g},pe=(p,g,m,w,P,E,O)=>{const T=()=>{if(p.isMounted){let{next:I,bu:D,u:F,parent:W,vnode:se}=p;{const Ze=xa(p);if(Ze){I&&(I.el=se.el,ee(p,I,O)),Ze.asyncDep.then(()=>{p.isUnmounted||T()});return}}let X=I,Le;Ot(p,!1),I?(I.el=se.el,ee(p,I,O)):I=se,D&&cr(D),(Le=I.props&&I.props.onVnodeBeforeUpdate)&&et(Le,W,I,se),Ot(p,!0);const Oe=pi(p),Ye=p.subTree;p.subTree=Oe,_(Ye,Oe,d(Ye.el),b(Ye),p,P,E),I.el=Oe.el,X===null&&Yc(p,Oe.el),F&&De(F,P),(Le=I.props&&I.props.onVnodeUpdated)&&De(()=>et(Le,W,I,se),P)}else{let I;const{el:D,props:F}=g,{bm:W,m:se,parent:X,root:Le,type:Oe}=p,Ye=$n(g);Ot(p,!1),W&&cr(W),!Ye&&(I=F&&F.onVnodeBeforeMount)&&et(I,X,g),Ot(p,!0);{Le.ce&&Le.ce._injectChildStyle(Oe);const Ze=p.subTree=pi(p);_(null,Ze,m,w,p,P,E),g.el=Ze.el}if(se&&De(se,P),!Ye&&(I=F&&F.onVnodeMounted)){const Ze=g;De(()=>et(I,X,Ze),P)}(g.shapeFlag&256||X&&$n(X.vnode)&&X.vnode.shapeFlag&256)&&p.a&&De(p.a,P),p.isMounted=!0,g=m=w=null}};p.scope.on();const R=p.effect=new Do(T);p.scope.off();const k=p.update=R.run.bind(R),N=p.job=R.runIfDirty.bind(R);N.i=p,N.id=p.uid,R.scheduler=()=>Ns(N),Ot(p,!0),k()},ee=(p,g,m)=>{g.component=p;const w=p.vnode.props;p.vnode=g,p.next=null,jc(p,g.props,w,m),Nc(p,g.children,m),kt(),ai(p),Rt()},Q=(p,g,m,w,P,E,O,T,R=!1)=>{const k=p&&p.children,N=p?p.shapeFlag:0,I=g.children,{patchFlag:D,shapeFlag:F}=g;if(D>0){if(D&128){mt(k,I,m,w,P,E,O,T,R);return}else if(D&256){lt(k,I,m,w,P,E,O,T,R);return}}F&8?(N&16&&qe(k,P,E),I!==k&&u(m,I)):N&16?F&16?mt(k,I,m,w,P,E,O,T,R):qe(k,P,E,!0):(N&8&&u(m,""),F&16&&ae(I,m,w,P,E,O,T,R))},lt=(p,g,m,w,P,E,O,T,R)=>{p=p||on,g=g||on;const k=p.length,N=g.length,I=Math.min(k,N);let D;for(D=0;D<I;D++){const F=g[D]=R?bt(g[D]):rt(g[D]);_(p[D],F,m,null,P,E,O,T,R)}k>N?qe(p,P,E,!0,!1,I):ae(g,m,w,P,E,O,T,R,I)},mt=(p,g,m,w,P,E,O,T,R)=>{let k=0;const N=g.length;let I=p.length-1,D=N-1;for(;k<=I&&k<=D;){const F=p[k],W=g[k]=R?bt(g[k]):rt(g[k]);if(En(F,W))_(F,W,m,null,P,E,O,T,R);else break;k++}for(;k<=I&&k<=D;){const F=p[I],W=g[D]=R?bt(g[D]):rt(g[D]);if(En(F,W))_(F,W,m,null,P,E,O,T,R);else break;I--,D--}if(k>I){if(k<=D){const F=D+1,W=F<N?g[F].el:w;for(;k<=D;)_(null,g[k]=R?bt(g[k]):rt(g[k]),m,W,P,E,O,T,R),k++}}else if(k>D)for(;k<=I;)Te(p[k],P,E,!0),k++;else{const F=k,W=k,se=new Map;for(k=W;k<=D;k++){const Me=g[k]=R?bt(g[k]):rt(g[k]);Me.key!=null&&se.set(Me.key,k)}let X,Le=0;const Oe=D-W+1;let Ye=!1,Ze=0;const wn=new Array(Oe);for(k=0;k<Oe;k++)wn[k]=0;for(k=F;k<=I;k++){const Me=p[k];if(Le>=Oe){Te(Me,P,E,!0);continue}let Xe;if(Me.key!=null)Xe=se.get(Me.key);else for(X=W;X<=D;X++)if(wn[X-W]===0&&En(Me,g[X])){Xe=X;break}Xe===void 0?Te(Me,P,E,!0):(wn[Xe-W]=k+1,Xe>=Ze?Ze=Xe:Ye=!0,_(Me,g[Xe],m,null,P,E,O,T,R),Le++)}const ni=Ye?Bc(wn):on;for(X=ni.length-1,k=Oe-1;k>=0;k--){const Me=W+k,Xe=g[Me],ri=Me+1<N?g[Me+1].el:w;wn[k]===0?_(null,Xe,m,ri,P,E,O,T,R):Ye&&(X<0||k!==ni[X]?Je(Xe,m,ri,2):X--)}}},Je=(p,g,m,w,P=null)=>{const{el:E,type:O,transition:T,children:R,shapeFlag:k}=p;if(k&6){Je(p.component.subTree,g,m,w);return}if(k&128){p.suspense.move(g,m,w);return}if(k&64){O.move(p,g,m,M);return}if(O===ke){r(E,g,m);for(let I=0;I<R.length;I++)Je(R[I],g,m,w);r(p.anchor,g,m);return}if(O===Vr){C(p,g,m);return}if(w!==2&&k&1&&T)if(w===0)T.beforeEnter(E),r(E,g,m),De(()=>T.enter(E),P);else{const{leave:I,delayLeave:D,afterLeave:F}=T,W=()=>r(E,g,m),se=()=>{I(E,()=>{W(),F&&F()})};D?D(E,W,se):se()}else r(E,g,m)},Te=(p,g,m,w=!1,P=!1)=>{const{type:E,props:O,ref:T,children:R,dynamicChildren:k,shapeFlag:N,patchFlag:I,dirs:D,cacheIndex:F}=p;if(I===-2&&(P=!1),T!=null&&mr(T,null,m,p,!0),F!=null&&(g.renderCache[F]=void 0),N&256){g.ctx.deactivate(p);return}const W=N&1&&D,se=!$n(p);let X;if(se&&(X=O&&O.onVnodeBeforeUnmount)&&et(X,g,p),N&6)Xn(p.component,m,w);else{if(N&128){p.suspense.unmount(m,w);return}W&&Tt(p,null,g,"beforeUnmount"),N&64?p.type.remove(p,g,m,M,w):k&&!k.hasOnce&&(E!==ke||I>0&&I&64)?qe(k,g,m,!1,!0):(E===ke&&I&384||!P&&N&16)&&qe(R,g,m),w&&Ht(p)}(se&&(X=O&&O.onVnodeUnmounted)||W)&&De(()=>{X&&et(X,g,p),W&&Tt(p,null,g,"unmounted")},m)},Ht=p=>{const{type:g,el:m,anchor:w,transition:P}=p;if(g===ke){Vt(m,w);return}if(g===Vr){S(p);return}const E=()=>{s(m),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(p.shapeFlag&1&&P&&!P.persisted){const{leave:O,delayLeave:T}=P,R=()=>O(m,E);T?T(p.el,E,R):R()}else E()},Vt=(p,g)=>{let m;for(;p!==g;)m=f(p),s(p),p=m;s(g)},Xn=(p,g,m)=>{const{bum:w,scope:P,job:E,subTree:O,um:T,m:R,a:k}=p;hi(R),hi(k),w&&cr(w),P.stop(),E&&(E.flags|=8,Te(O,p,g,m)),T&&De(T,g),De(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},qe=(p,g,m,w=!1,P=!1,E=0)=>{for(let O=E;O<p.length;O++)Te(p[O],g,m,w,P)},b=p=>{if(p.shapeFlag&6)return b(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=f(p.anchor||p.el),m=g&&g[fc];return m?f(m):g};let L=!1;const $=(p,g,m)=>{p==null?g._vnode&&Te(g._vnode,null,null,!0):_(g._vnode||null,p,g,null,null,null,m),g._vnode=p,L||(L=!0,ai(),sa(),L=!1)},M={p:_,um:Te,m:Je,r:Ht,mt:at,mc:ae,pc:Q,pbc:_e,n:b,o:e};return{render:$,hydrate:void 0,createApp:$c($)}}function Hr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ot({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function zc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ca(e,t,n=!1){const r=e.children,s=t.children;if(z(r)&&z(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=bt(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Ca(o,a)),a.type===Or&&(a.el=o.el)}}function Bc(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=n[n.length-1],e[s]<c){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function xa(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:xa(t)}function hi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const qc=Symbol.for("v-scx"),Hc=()=>ce(qc);function ur(e,t,n){return Aa(e,t,n)}function Aa(e,t,n=re){const{immediate:r,deep:s,flush:i,once:o}=n,a=Ce({},n),l=t&&r||!t&&i!=="post";let c;if(Vn){if(i==="sync"){const h=Hc();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=it,h.resume=it,h.pause=it,h}}const u=Re;a.call=(h,y,_)=>ot(h,u,y,_);let d=!1;i==="post"?a.scheduler=h=>{De(h,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(h,y)=>{y?h():Ns(h)}),a.augmentJob=h=>{t&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=lc(e,t,a);return Vn&&(c?c.push(f):l&&f()),f}function Vc(e,t,n){const r=this.proxy,s=ge(e)?e.includes(".")?ka(r,e):()=>r[e]:e.bind(r,r);let i;q(t)?i=t:(i=t.handler,n=t);const o=Jn(this),a=Aa(s,i.bind(r),n);return o(),a}function ka(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Kc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${xt(t)}Modifiers`]||e[`${zt(t)}Modifiers`];function Wc(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||re;let s=n;const i=t.startsWith("update:"),o=i&&Kc(r,t.slice(7));o&&(o.trim&&(s=n.map(u=>ge(u)?u.trim():u)),o.number&&(s=n.map(ns)));let a,l=r[a=Nr(t)]||r[a=Nr(xt(t))];!l&&i&&(l=r[a=Nr(zt(t))]),l&&ot(l,e,6,s);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ot(c,e,6,s)}}function Ra(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!q(e)){const l=c=>{const u=Ra(c,t,!0);u&&(a=!0,Ce(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(de(e)&&r.set(e,null),null):(z(i)?i.forEach(l=>o[l]=null):Ce(o,i),de(e)&&r.set(e,o),o)}function Tr(e,t){return!e||!Er(t)?!1:(t=t.slice(2).replace(/Once$/,""),Y(e,t[0].toLowerCase()+t.slice(1))||Y(e,zt(t))||Y(e,t))}function pi(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:y,inheritAttrs:_}=e,v=gr(e);let x,A;try{if(n.shapeFlag&4){const S=s||r,j=S;x=rt(c.call(j,S,u,d,h,f,y)),A=a}else{const S=t;x=rt(S.length>1?S(d,{attrs:a,slots:o,emit:l}):S(d,null)),A=t.props?a:Qc(a)}}catch(S){Mn.length=0,kr(S,e,1),x=je(Ut)}let C=x;if(A&&_!==!1){const S=Object.keys(A),{shapeFlag:j}=C;S.length&&j&7&&(i&&S.some(xs)&&(A=Gc(A,i)),C=fn(C,A,!1,!0))}return n.dirs&&(C=fn(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&Us(C,n.transition),x=C,gr(v),x}const Qc=e=>{let t;for(const n in e)(n==="class"||n==="style"||Er(n))&&((t||(t={}))[n]=e[n]);return t},Gc=(e,t)=>{const n={};for(const r in e)(!xs(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Jc(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?gi(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==r[f]&&!Tr(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?gi(r,o,c):!0:!!o;return!1}function gi(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Tr(n,i))return!0}return!1}function Yc({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Ta=e=>e.__isSuspense;function Zc(e,t){t&&t.pendingBranch?z(e)?t.effects.push(...e):t.effects.push(e):dc(e)}const ke=Symbol.for("v-fgt"),Or=Symbol.for("v-txt"),Ut=Symbol.for("v-cmt"),Vr=Symbol.for("v-stc"),Mn=[];let ze=null;function te(e=!1){Mn.push(ze=e?null:[])}function Xc(){Mn.pop(),ze=Mn[Mn.length-1]||null}let Hn=1;function mi(e,t=!1){Hn+=e,e<0&&ze&&t&&(ze.hasOnce=!0)}function Oa(e){return e.dynamicChildren=Hn>0?ze||on:null,Xc(),Hn>0&&ze&&ze.push(e),e}function ue(e,t,n,r,s,i){return Oa(V(e,t,n,r,s,i,!0))}function $r(e,t,n,r,s){return Oa(je(e,t,n,r,s,!0))}function _r(e){return e?e.__v_isVNode===!0:!1}function En(e,t){return e.type===t.type&&e.key===t.key}const $a=({key:e})=>e??null,dr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ge(e)||Pe(e)||q(e)?{i:He,r:e,k:t,f:!!n}:e:null);function V(e,t=null,n=null,r=0,s=null,i=e===ke?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&$a(t),ref:t&&dr(t),scopeId:oa,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:He};return a?(qs(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=ge(n)?8:16),Hn>0&&!o&&ze&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ze.push(l),l}const je=eu;function eu(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Pc)&&(e=Ut),_r(e)){const a=fn(e,t,!0);return n&&qs(a,n),Hn>0&&!i&&ze&&(a.shapeFlag&6?ze[ze.indexOf(e)]=a:ze.push(a)),a.patchFlag=-2,a}if(uu(e)&&(e=e.__vccOpts),t){t=tu(t);let{class:a,style:l}=t;a&&!ge(a)&&(t.class=Ts(a)),de(l)&&(Ds(l)&&!z(l)&&(l=Ce({},l)),t.style=Rs(l))}const o=ge(e)?1:Ta(e)?128:hc(e)?64:de(e)?4:q(e)?2:0;return V(e,t,n,r,s,o,i,!0)}function tu(e){return e?Ds(e)||_a(e)?Ce({},e):e:null}function fn(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=e,c=t?nu(s||{},t):s,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&$a(c),ref:t&&t.ref?n&&i?z(i)?i.concat(dr(t)):[i,dr(t)]:dr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ke?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&fn(e.ssContent),ssFallback:e.ssFallback&&fn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Us(u,l.clone(u)),u}function Ia(e=" ",t=0){return je(Or,null,e,t)}function Bs(e="",t=!1){return t?(te(),$r(Ut,null,e)):je(Ut,null,e)}function rt(e){return e==null||typeof e=="boolean"?je(Ut):z(e)?je(ke,null,e.slice()):_r(e)?bt(e):je(Or,null,String(e))}function bt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:fn(e)}function qs(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(z(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),qs(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!_a(t)?t._ctx=He:s===3&&He&&(He.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else q(t)?(t={default:t,_ctx:He},n=32):(t=String(t),r&64?(n=16,t=[Ia(t)]):n=8);e.children=t,e.shapeFlag|=n}function nu(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Ts([t.class,r.class]));else if(s==="style")t.style=Rs([t.style,r.style]);else if(Er(s)){const i=t[s],o=r[s];o&&i!==o&&!(z(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function et(e,t,n,r=null){ot(e,t,7,[n,r])}const ru=ga();let su=0;function iu(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||ru,i={uid:su++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ll(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wa(r,s),emitsOptions:Ra(r,s),emit:null,emitted:null,propsDefaults:re,inheritAttrs:r.inheritAttrs,ctx:re,data:re,props:re,attrs:re,slots:re,refs:re,setupState:re,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Wc.bind(null,i),e.ce&&e.ce(i),i}let Re=null,vr,fs;{const e=Cr(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};vr=t("__VUE_INSTANCE_SETTERS__",n=>Re=n),fs=t("__VUE_SSR_SETTERS__",n=>Vn=n)}const Jn=e=>{const t=Re;return vr(e),e.scope.on(),()=>{e.scope.off(),vr(t)}},yi=()=>{Re&&Re.scope.off(),vr(null)};function ja(e){return e.vnode.shapeFlag&4}let Vn=!1;function ou(e,t=!1,n=!1){t&&fs(t);const{props:r,children:s}=e.vnode,i=ja(e);Ic(e,r,i,t),Dc(e,s,n);const o=i?au(e,t):void 0;return t&&fs(!1),o}function au(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Cc);const{setup:r}=n;if(r){kt();const s=e.setupContext=r.length>1?cu(e):null,i=Jn(e),o=Gn(r,e,0,[e.props,s]),a=Ro(o);if(Rt(),i(),(a||e.sp)&&!$n(e)&&ca(e),a){if(o.then(yi,yi),t)return o.then(l=>{_i(e,l)}).catch(l=>{kr(l,e,0)});e.asyncDep=o}else _i(e,o)}else La(e)}function _i(e,t,n){q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:de(t)&&(e.setupState=ea(t)),La(e)}function La(e,t,n){const r=e.type;e.render||(e.render=r.render||it);{const s=Jn(e);kt();try{xc(e)}finally{Rt(),s()}}}const lu={get(e,t){return Ee(e,"get",""),e[t]}};function cu(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,lu),slots:e.slots,emit:e.emit,expose:t}}function Ir(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ea(tc(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in jn)return jn[n](e)},has(t,n){return n in t||n in jn}})):e.proxy}function uu(e){return q(e)&&"__vccOpts"in e}const Fe=(e,t)=>oc(e,t,Vn);function Ie(e,t,n){const r=arguments.length;return r===2?de(t)&&!z(t)?_r(t)?je(e,null,[t]):je(e,t):je(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&_r(n)&&(n=[n]),je(e,t,n))}const du="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let hs;const vi=typeof window<"u"&&window.trustedTypes;if(vi)try{hs=vi.createPolicy("vue",{createHTML:e=>e})}catch{}const Ma=hs?e=>hs.createHTML(e):e=>e,fu="http://www.w3.org/2000/svg",hu="http://www.w3.org/1998/Math/MathML",dt=typeof document<"u"?document:null,wi=dt&&dt.createElement("template"),pu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?dt.createElementNS(fu,e):t==="mathml"?dt.createElementNS(hu,e):n?dt.createElement(e,{is:n}):dt.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>dt.createTextNode(e),createComment:e=>dt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>dt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{wi.innerHTML=Ma(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=wi.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},gu=Symbol("_vtc");function mu(e,t,n){const r=e[gu];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const bi=Symbol("_vod"),yu=Symbol("_vsh"),_u=Symbol(""),vu=/(^|;)\s*display\s*:/;function wu(e,t,n){const r=e.style,s=ge(n);let i=!1;if(n&&!s){if(t)if(ge(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&fr(r,a,"")}else for(const o in t)n[o]==null&&fr(r,o,"");for(const o in n)o==="display"&&(i=!0),fr(r,o,n[o])}else if(s){if(t!==n){const o=r[_u];o&&(n+=";"+o),r.cssText=n,i=vu.test(n)}}else t&&e.removeAttribute("style");bi in e&&(e[bi]=i?r.display:"",e[yu]&&(r.display="none"))}const Ei=/\s*!important$/;function fr(e,t,n){if(z(n))n.forEach(r=>fr(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=bu(e,t);Ei.test(n)?e.setProperty(zt(r),n.replace(Ei,""),"important"):e[r]=n}}const Si=["Webkit","Moz","ms"],Kr={};function bu(e,t){const n=Kr[t];if(n)return n;let r=xt(t);if(r!=="filter"&&r in e)return Kr[t]=r;r=$o(r);for(let s=0;s<Si.length;s++){const i=Si[s]+r;if(i in e)return Kr[t]=i}return t}const Pi="http://www.w3.org/1999/xlink";function Ci(e,t,n,r,s,i=jl(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Pi,t.slice(6,t.length)):e.setAttributeNS(Pi,t,n):n==null||i&&!jo(n)?e.removeAttribute(t):e.setAttribute(t,i?"":At(n)?String(n):n)}function xi(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Ma(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=jo(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(s||t)}function nn(e,t,n,r){e.addEventListener(t,n,r)}function Eu(e,t,n,r){e.removeEventListener(t,n,r)}const Ai=Symbol("_vei");function Su(e,t,n,r,s=null){const i=e[Ai]||(e[Ai]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=Pu(t);if(r){const c=i[t]=Au(r,s);nn(e,a,c,l)}else o&&(Eu(e,a,o,l),i[t]=void 0)}}const ki=/(?:Once|Passive|Capture)$/;function Pu(e){let t;if(ki.test(e)){t={};let r;for(;r=e.match(ki);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):zt(e.slice(2)),t]}let Wr=0;const Cu=Promise.resolve(),xu=()=>Wr||(Cu.then(()=>Wr=0),Wr=Date.now());function Au(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ot(ku(r,n.value),t,5,[r])};return n.value=e,n.attached=xu(),n}function ku(e,t){if(z(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Ri=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Ru=(e,t,n,r,s,i)=>{const o=s==="svg";t==="class"?mu(e,r,o):t==="style"?wu(e,n,r):Er(t)?xs(t)||Su(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Tu(e,t,r,o))?(xi(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ci(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ge(r))?xi(e,xt(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Ci(e,t,r,o))};function Tu(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ri(t)&&q(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Ri(t)&&ge(n)?!1:t in e}const Ti=e=>{const t=e.props["onUpdate:modelValue"]||!1;return z(t)?n=>cr(t,n):t};function Ou(e){e.target.composing=!0}function Oi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Qr=Symbol("_assign"),Da={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[Qr]=Ti(s);const i=r||s.props&&s.props.type==="number";nn(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=ns(a)),e[Qr](a)}),n&&nn(e,"change",()=>{e.value=e.value.trim()}),t||(nn(e,"compositionstart",Ou),nn(e,"compositionend",Oi),nn(e,"change",Oi))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(e[Qr]=Ti(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?ns(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===l)||(e.value=l))}},$u=["ctrl","shift","alt","meta"],Iu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>$u.some(n=>e[`${n}Key`]&&!t.includes(n))},ju=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<t.length;o++){const a=Iu[t[o]];if(a&&a(s,t))return}return e(s,...i)})},Lu=Ce({patchProp:Ru},pu);let $i;function Mu(){return $i||($i=Uc(Lu))}const Du=(...e)=>{const t=Mu().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Uu(r);if(!s)return;const i=t._component;!q(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,Nu(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function Nu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Uu(e){return ge(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const rn=typeof document<"u";function Na(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Fu(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Na(e.default)}const G=Object.assign;function Gr(e,t){const n={};for(const r in t){const s=t[r];n[r]=Ge(s)?s.map(e):e(s)}return n}const Dn=()=>{},Ge=Array.isArray,Ua=/#/g,zu=/&/g,Bu=/\//g,qu=/=/g,Hu=/\?/g,Fa=/\+/g,Vu=/%5B/g,Ku=/%5D/g,za=/%5E/g,Wu=/%60/g,Ba=/%7B/g,Qu=/%7C/g,qa=/%7D/g,Gu=/%20/g;function Hs(e){return encodeURI(""+e).replace(Qu,"|").replace(Vu,"[").replace(Ku,"]")}function Ju(e){return Hs(e).replace(Ba,"{").replace(qa,"}").replace(za,"^")}function ps(e){return Hs(e).replace(Fa,"%2B").replace(Gu,"+").replace(Ua,"%23").replace(zu,"%26").replace(Wu,"`").replace(Ba,"{").replace(qa,"}").replace(za,"^")}function Yu(e){return ps(e).replace(qu,"%3D")}function Zu(e){return Hs(e).replace(Ua,"%23").replace(Hu,"%3F")}function Xu(e){return e==null?"":Zu(e).replace(Bu,"%2F")}function Kn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const ed=/\/$/,td=e=>e.replace(ed,"");function Jr(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),s=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=id(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Kn(o)}}function nd(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ii(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function rd(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&hn(t.matched[r],n.matched[s])&&Ha(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function hn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ha(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!sd(e[n],t[n]))return!1;return!0}function sd(e,t){return Ge(e)?ji(e,t):Ge(t)?ji(t,e):e===t}function ji(e,t){return Ge(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function id(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const yt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Wn;(function(e){e.pop="pop",e.push="push"})(Wn||(Wn={}));var Nn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Nn||(Nn={}));function od(e){if(!e)if(rn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),td(e)}const ad=/^[^#]+#/;function ld(e,t){return e.replace(ad,"#")+t}function cd(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const jr=()=>({left:window.scrollX,top:window.scrollY});function ud(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=cd(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Li(e,t){return(history.state?history.state.position-t:-1)+e}const gs=new Map;function dd(e,t){gs.set(e,t)}function fd(e){const t=gs.get(e);return gs.delete(e),t}let hd=()=>location.protocol+"//"+location.host;function Va(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Ii(l,"")}return Ii(n,e)+r+s}function pd(e,t,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const h=Va(e,location),y=n.value,_=t.value;let v=0;if(f){if(n.value=h,t.value=f,o&&o===y){o=null;return}v=_?f.position-_.position:0}else r(h);s.forEach(x=>{x(n.value,y,{delta:v,type:Wn.pop,direction:v?v>0?Nn.forward:Nn.back:Nn.unknown})})};function l(){o=n.value}function c(f){s.push(f);const h=()=>{const y=s.indexOf(f);y>-1&&s.splice(y,1)};return i.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(G({},f.state,{scroll:jr()}),"")}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function Mi(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?jr():null}}function gd(e){const{history:t,location:n}=window,r={value:Va(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const d=e.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:hd()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=G({},t.state,Mi(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=G({},s.value,t.state,{forward:l,scroll:jr()});i(u.current,u,!0);const d=G({},Mi(r.value,l,null),{position:u.position+1},c);i(l,d,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function md(e){e=od(e);const t=gd(e),n=pd(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=G({location:"",base:e,go:r,createHref:ld.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function yd(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),md(e)}function _d(e){return typeof e=="string"||e&&typeof e=="object"}function Ka(e){return typeof e=="string"||typeof e=="symbol"}const Wa=Symbol("");var Di;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Di||(Di={}));function pn(e,t){return G(new Error,{type:e,[Wa]:!0},t)}function ut(e,t){return e instanceof Error&&Wa in e&&(t==null||!!(e.type&t))}const Ni="[^/]+?",vd={sensitive:!1,strict:!1,start:!0,end:!0},wd=/[.+*?^${}()[\]/\\]/g;function bd(e,t){const n=G({},vd,t),r=[];let s=n.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(s+="/"),s+=f.value.replace(wd,"\\$&"),h+=40;else if(f.type===1){const{value:y,repeatable:_,optional:v,regexp:x}=f;i.push({name:y,repeatable:_,optional:v});const A=x||Ni;if(A!==Ni){h+=10;try{new RegExp(`(${A})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${y}" (${A}): `+S.message)}}let C=_?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;d||(C=v&&c.length<2?`(?:/${C})`:"/"+C),v&&(C+="?"),s+=C,h+=20,v&&(h+=-8),_&&(h+=-20),A===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",y=i[f-1];d[y.name]=h&&y.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:y,repeatable:_,optional:v}=h,x=y in c?c[y]:"";if(Ge(x)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const A=Ge(x)?x.join("/"):x;if(!A)if(v)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${y}"`);u+=A}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Ed(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Qa(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=Ed(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Ui(r))return 1;if(Ui(s))return-1}return s.length-r.length}function Ui(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Sd={type:0,value:""},Pd=/[a-zA-Z0-9_]/;function Cd(e){if(!e)return[[]];if(e==="/")return[[Sd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",u="";function d(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:Pd.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),d(),o(),s}function xd(e,t,n){const r=bd(Cd(e.path),n),s=G(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Ad(e,t){const n=[],r=new Map;t=qi({strict:!1,end:!0,sensitive:!1},t);function s(d){return r.get(d)}function i(d,f,h){const y=!h,_=zi(d);_.aliasOf=h&&h.record;const v=qi(t,d),x=[_];if("alias"in d){const S=typeof d.alias=="string"?[d.alias]:d.alias;for(const j of S)x.push(zi(G({},_,{components:h?h.record.components:_.components,path:j,aliasOf:h?h.record:_})))}let A,C;for(const S of x){const{path:j}=S;if(f&&j[0]!=="/"){const B=f.record.path,U=B[B.length-1]==="/"?"":"/";S.path=f.record.path+(j&&U+j)}if(A=xd(S,f,v),h?h.alias.push(A):(C=C||A,C!==A&&C.alias.push(A),y&&d.name&&!Bi(A)&&o(d.name)),Ga(A)&&l(A),_.children){const B=_.children;for(let U=0;U<B.length;U++)i(B[U],A,h&&h.children[U])}h=h||A}return C?()=>{o(C)}:Dn}function o(d){if(Ka(d)){const f=r.get(d);f&&(r.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=Td(d,n);n.splice(f,0,d),d.record.name&&!Bi(d)&&r.set(d.record.name,d)}function c(d,f){let h,y={},_,v;if("name"in d&&d.name){if(h=r.get(d.name),!h)throw pn(1,{location:d});v=h.record.name,y=G(Fi(f.params,h.keys.filter(C=>!C.optional).concat(h.parent?h.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),d.params&&Fi(d.params,h.keys.map(C=>C.name))),_=h.stringify(y)}else if(d.path!=null)_=d.path,h=n.find(C=>C.re.test(_)),h&&(y=h.parse(_),v=h.record.name);else{if(h=f.name?r.get(f.name):n.find(C=>C.re.test(f.path)),!h)throw pn(1,{location:d,currentLocation:f});v=h.record.name,y=G({},f.params,d.params),_=h.stringify(y)}const x=[];let A=h;for(;A;)x.unshift(A.record),A=A.parent;return{name:v,path:_,params:y,matched:x,meta:Rd(x)}}e.forEach(d=>i(d));function u(){n.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function Fi(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function zi(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:kd(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function kd(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Bi(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Rd(e){return e.reduce((t,n)=>G(t,n.meta),{})}function qi(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Td(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;Qa(e,t[i])<0?r=i:n=i+1}const s=Od(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function Od(e){let t=e;for(;t=t.parent;)if(Ga(t)&&Qa(e,t)===0)return t}function Ga({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function $d(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Fa," "),o=i.indexOf("="),a=Kn(o<0?i:i.slice(0,o)),l=o<0?null:Kn(i.slice(o+1));if(a in t){let c=t[a];Ge(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Hi(e){let t="";for(let n in e){const r=e[n];if(n=Yu(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ge(r)?r.map(i=>i&&ps(i)):[r&&ps(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Id(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Ge(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const jd=Symbol(""),Vi=Symbol(""),Lr=Symbol(""),Vs=Symbol(""),ms=Symbol("");function Sn(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Et(e,t,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(pn(4,{from:n,to:t})):f instanceof Error?l(f):_d(f)?l(pn(2,{from:t,to:f})):(o&&r.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),a())},u=i(()=>e.call(r&&r.instances[s],t,n,c));let d=Promise.resolve(u);e.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function Yr(e,t,n,r,s=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Na(l)){const u=(l.__vccOpts||l)[t];u&&i.push(Et(u,n,r,o,a,s))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=Fu(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[t];return h&&Et(h,n,r,o,a,s)()}))}}return i}function Ki(e){const t=ce(Lr),n=ce(Vs),r=Fe(()=>{const l=ye(e.to);return t.resolve(l)}),s=Fe(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(hn.bind(null,u));if(f>-1)return f;const h=Wi(l[c-2]);return c>1&&Wi(u)===h&&d[d.length-1].path!==h?d.findIndex(hn.bind(null,l[c-2])):f}),i=Fe(()=>s.value>-1&&Nd(n.params,r.value.params)),o=Fe(()=>s.value>-1&&s.value===n.matched.length-1&&Ha(n.params,r.value.params));function a(l={}){if(Dd(l)){const c=t[ye(e.replace)?"replace":"push"](ye(e.to)).catch(Dn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:Fe(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function Ld(e){return e.length===1?e[0]:e}const Md=Be({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ki,setup(e,{slots:t}){const n=Ar(Ki(e)),{options:r}=ce(Lr),s=Fe(()=>({[Qi(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Qi(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&Ld(t.default(n));return e.custom?i:Ie("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Ja=Md;function Dd(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Nd(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Ge(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Wi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Qi=(e,t,n)=>e??t??n,Ud=Be({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=ce(ms),s=Fe(()=>e.route||r.value),i=ce(Vi,0),o=Fe(()=>{let c=ye(i);const{matched:u}=s.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=Fe(()=>s.value.matched[o.value]);Ln(Vi,Fe(()=>o.value+1)),Ln(jd,a),Ln(ms,s);const l=fe();return ur(()=>[l.value,a.value,e.name],([c,u,d],[f,h,y])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!hn(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=s.value,u=e.name,d=a.value,f=d&&d.components[u];if(!f)return Gi(n.default,{Component:f,route:c});const h=d.props[u],y=h?h===!0?c.params:typeof h=="function"?h(c):h:null,v=Ie(f,G({},y,t,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Gi(n.default,{Component:v,route:c})||v}}});function Gi(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Ks=Ud;function Fd(e){const t=Ad(e.routes,e),n=e.parseQuery||$d,r=e.stringifyQuery||Hi,s=e.history,i=Sn(),o=Sn(),a=Sn(),l=nc(yt);let c=yt;rn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Gr.bind(null,b=>""+b),d=Gr.bind(null,Xu),f=Gr.bind(null,Kn);function h(b,L){let $,M;return Ka(b)?($=t.getRecordMatcher(b),M=L):M=b,t.addRoute(M,$)}function y(b){const L=t.getRecordMatcher(b);L&&t.removeRoute(L)}function _(){return t.getRoutes().map(b=>b.record)}function v(b){return!!t.getRecordMatcher(b)}function x(b,L){if(L=G({},L||l.value),typeof b=="string"){const m=Jr(n,b,L.path),w=t.resolve({path:m.path},L),P=s.createHref(m.fullPath);return G(m,w,{params:f(w.params),hash:Kn(m.hash),redirectedFrom:void 0,href:P})}let $;if(b.path!=null)$=G({},b,{path:Jr(n,b.path,L.path).path});else{const m=G({},b.params);for(const w in m)m[w]==null&&delete m[w];$=G({},b,{params:d(m)}),L.params=d(L.params)}const M=t.resolve($,L),ne=b.hash||"";M.params=u(f(M.params));const p=nd(r,G({},b,{hash:Ju(ne),path:M.path})),g=s.createHref(p);return G({fullPath:p,hash:ne,query:r===Hi?Id(b.query):b.query||{}},M,{redirectedFrom:void 0,href:g})}function A(b){return typeof b=="string"?Jr(n,b,l.value.path):G({},b)}function C(b,L){if(c!==b)return pn(8,{from:L,to:b})}function S(b){return U(b)}function j(b){return S(G(A(b),{replace:!0}))}function B(b){const L=b.matched[b.matched.length-1];if(L&&L.redirect){const{redirect:$}=L;let M=typeof $=="function"?$(b):$;return typeof M=="string"&&(M=M.includes("?")||M.includes("#")?M=A(M):{path:M},M.params={}),G({query:b.query,hash:b.hash,params:M.path!=null?{}:b.params},M)}}function U(b,L){const $=c=x(b),M=l.value,ne=b.state,p=b.force,g=b.replace===!0,m=B($);if(m)return U(G(A(m),{state:typeof m=="object"?G({},ne,m.state):ne,force:p,replace:g}),L||$);const w=$;w.redirectedFrom=L;let P;return!p&&rd(r,M,$)&&(P=pn(16,{to:w,from:M}),Je(M,M,!0,!1)),(P?Promise.resolve(P):_e(w,M)).catch(E=>ut(E)?ut(E,2)?E:mt(E):Q(E,w,M)).then(E=>{if(E){if(ut(E,2))return U(G({replace:g},A(E.to),{state:typeof E.to=="object"?G({},ne,E.to.state):ne,force:p}),L||w)}else E=me(w,M,!0,g,ne);return ve(w,M,E),E})}function ae(b,L){const $=C(b,L);return $?Promise.reject($):Promise.resolve()}function le(b){const L=Vt.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(b):b()}function _e(b,L){let $;const[M,ne,p]=zd(b,L);$=Yr(M.reverse(),"beforeRouteLeave",b,L);for(const m of M)m.leaveGuards.forEach(w=>{$.push(Et(w,b,L))});const g=ae.bind(null,b,L);return $.push(g),qe($).then(()=>{$=[];for(const m of i.list())$.push(Et(m,b,L));return $.push(g),qe($)}).then(()=>{$=Yr(ne,"beforeRouteUpdate",b,L);for(const m of ne)m.updateGuards.forEach(w=>{$.push(Et(w,b,L))});return $.push(g),qe($)}).then(()=>{$=[];for(const m of p)if(m.beforeEnter)if(Ge(m.beforeEnter))for(const w of m.beforeEnter)$.push(Et(w,b,L));else $.push(Et(m.beforeEnter,b,L));return $.push(g),qe($)}).then(()=>(b.matched.forEach(m=>m.enterCallbacks={}),$=Yr(p,"beforeRouteEnter",b,L,le),$.push(g),qe($))).then(()=>{$=[];for(const m of o.list())$.push(Et(m,b,L));return $.push(g),qe($)}).catch(m=>ut(m,8)?m:Promise.reject(m))}function ve(b,L,$){a.list().forEach(M=>le(()=>M(b,L,$)))}function me(b,L,$,M,ne){const p=C(b,L);if(p)return p;const g=L===yt,m=rn?history.state:{};$&&(M||g?s.replace(b.fullPath,G({scroll:g&&m&&m.scroll},ne)):s.push(b.fullPath,ne)),l.value=b,Je(b,L,$,g),mt()}let Z;function at(){Z||(Z=s.listen((b,L,$)=>{if(!Xn.listening)return;const M=x(b),ne=B(M);if(ne){U(G(ne,{replace:!0,force:!0}),M).catch(Dn);return}c=M;const p=l.value;rn&&dd(Li(p.fullPath,$.delta),jr()),_e(M,p).catch(g=>ut(g,12)?g:ut(g,2)?(U(G(A(g.to),{force:!0}),M).then(m=>{ut(m,20)&&!$.delta&&$.type===Wn.pop&&s.go(-1,!1)}).catch(Dn),Promise.reject()):($.delta&&s.go(-$.delta,!1),Q(g,M,p))).then(g=>{g=g||me(M,p,!1),g&&($.delta&&!ut(g,8)?s.go(-$.delta,!1):$.type===Wn.pop&&ut(g,20)&&s.go(-1,!1)),ve(M,p,g)}).catch(Dn)}))}let Ke=Sn(),pe=Sn(),ee;function Q(b,L,$){mt(b);const M=pe.list();return M.length?M.forEach(ne=>ne(b,L,$)):console.error(b),Promise.reject(b)}function lt(){return ee&&l.value!==yt?Promise.resolve():new Promise((b,L)=>{Ke.add([b,L])})}function mt(b){return ee||(ee=!b,at(),Ke.list().forEach(([L,$])=>b?$(b):L()),Ke.reset()),b}function Je(b,L,$,M){const{scrollBehavior:ne}=e;if(!rn||!ne)return Promise.resolve();const p=!$&&fd(Li(b.fullPath,0))||(M||!$)&&history.state&&history.state.scroll||null;return na().then(()=>ne(b,L,p)).then(g=>g&&ud(g)).catch(g=>Q(g,b,L))}const Te=b=>s.go(b);let Ht;const Vt=new Set,Xn={currentRoute:l,listening:!0,addRoute:h,removeRoute:y,clearRoutes:t.clearRoutes,hasRoute:v,getRoutes:_,resolve:x,options:e,push:S,replace:j,go:Te,back:()=>Te(-1),forward:()=>Te(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:pe.add,isReady:lt,install(b){const L=this;b.component("RouterLink",Ja),b.component("RouterView",Ks),b.config.globalProperties.$router=L,Object.defineProperty(b.config.globalProperties,"$route",{enumerable:!0,get:()=>ye(l)}),rn&&!Ht&&l.value===yt&&(Ht=!0,S(s.location).catch(ne=>{}));const $={};for(const ne in yt)Object.defineProperty($,ne,{get:()=>l.value[ne],enumerable:!0});b.provide(Lr,L),b.provide(Vs,Yo($)),b.provide(ms,l);const M=b.unmount;Vt.add(b),b.unmount=function(){Vt.delete(b),Vt.size<1&&(c=yt,Z&&Z(),Z=null,l.value=yt,Ht=!1,ee=!1),M()}}};function qe(b){return b.reduce((L,$)=>L.then(()=>le($)),Promise.resolve())}return Xn}function zd(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>hn(c,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>hn(c,l))||s.push(l))}return[n,r,s]}function Yn(){return ce(Lr)}function Mr(e){return ce(Vs)}const Bd=Be({__name:"App",setup(e){return(t,n)=>(te(),$r(ye(Ks)))}}),qd={showNotification:e=>alert(e)},Hd=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},Vd={};function Kd(e,t){return te(),ue("div")}const Wd=Hd(Vd,[["render",Kd]]);/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 *  2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var st=function(){return st=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},st.apply(this,arguments)};var Ft;(function(e){var t=function(){function o(a,l,c,u){if(this.version=a,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version value out of range");if(u<-1||u>7)throw new RangeError("Mask value out of range");this.size=a*4+17;for(var d=[],f=0;f<this.size;f++)d.push(!1);for(var f=0;f<this.size;f++)this.modules.push(d.slice()),this.isFunction.push(d.slice());this.drawFunctionPatterns();var h=this.addEccAndInterleave(c);if(this.drawCodewords(h),u==-1)for(var y=1e9,f=0;f<8;f++){this.applyMask(f),this.drawFormatBits(f);var _=this.getPenaltyScore();_<y&&(u=f,y=_),this.applyMask(f)}s(0<=u&&u<=7),this.mask=u,this.applyMask(u),this.drawFormatBits(u),this.isFunction=[]}return o.encodeText=function(a,l){var c=e.QrSegment.makeSegments(a);return o.encodeSegments(c,l)},o.encodeBinary=function(a,l){var c=e.QrSegment.makeBytes(a);return o.encodeSegments([c],l)},o.encodeSegments=function(a,l,c,u,d,f){if(c===void 0&&(c=1),u===void 0&&(u=40),d===void 0&&(d=-1),f===void 0&&(f=!0),!(o.MIN_VERSION<=c&&c<=u&&u<=o.MAX_VERSION)||d<-1||d>7)throw new RangeError("Invalid value");var h,y;for(h=c;;h++){var _=o.getNumDataCodewords(h,l)*8,v=i.getTotalBits(a,h);if(v<=_){y=v;break}if(h>=u)throw new RangeError("Data too long")}for(var x=0,A=[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH];x<A.length;x++){var C=A[x];f&&y<=o.getNumDataCodewords(h,C)*8&&(l=C)}for(var S=[],j=0,B=a;j<B.length;j++){var U=B[j];n(U.mode.modeBits,4,S),n(U.numChars,U.mode.numCharCountBits(h),S);for(var ae=0,le=U.getData();ae<le.length;ae++){var _e=le[ae];S.push(_e)}}s(S.length==y);var ve=o.getNumDataCodewords(h,l)*8;s(S.length<=ve),n(0,Math.min(4,ve-S.length),S),n(0,(8-S.length%8)%8,S),s(S.length%8==0);for(var me=236;S.length<ve;me^=253)n(me,8,S);for(var Z=[];Z.length*8<S.length;)Z.push(0);return S.forEach(function(at,Ke){return Z[Ke>>>3]|=at<<7-(Ke&7)}),new o(h,l,Z,d)},o.prototype.getModule=function(a,l){return 0<=a&&a<this.size&&0<=l&&l<this.size&&this.modules[l][a]},o.prototype.getModules=function(){return this.modules},o.prototype.drawFunctionPatterns=function(){for(var a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var l=this.getAlignmentPatternPositions(),c=l.length,a=0;a<c;a++)for(var u=0;u<c;u++)a==0&&u==0||a==0&&u==c-1||a==c-1&&u==0||this.drawAlignmentPattern(l[a],l[u]);this.drawFormatBits(0),this.drawVersion()},o.prototype.drawFormatBits=function(a){for(var l=this.errorCorrectionLevel.formatBits<<3|a,c=l,u=0;u<10;u++)c=c<<1^(c>>>9)*1335;var d=(l<<10|c)^21522;s(d>>>15==0);for(var u=0;u<=5;u++)this.setFunctionModule(8,u,r(d,u));this.setFunctionModule(8,7,r(d,6)),this.setFunctionModule(8,8,r(d,7)),this.setFunctionModule(7,8,r(d,8));for(var u=9;u<15;u++)this.setFunctionModule(14-u,8,r(d,u));for(var u=0;u<8;u++)this.setFunctionModule(this.size-1-u,8,r(d,u));for(var u=8;u<15;u++)this.setFunctionModule(8,this.size-15+u,r(d,u));this.setFunctionModule(8,this.size-8,!0)},o.prototype.drawVersion=function(){if(!(this.version<7)){for(var a=this.version,l=0;l<12;l++)a=a<<1^(a>>>11)*7973;var c=this.version<<12|a;s(c>>>18==0);for(var l=0;l<18;l++){var u=r(c,l),d=this.size-11+l%3,f=Math.floor(l/3);this.setFunctionModule(d,f,u),this.setFunctionModule(f,d,u)}}},o.prototype.drawFinderPattern=function(a,l){for(var c=-4;c<=4;c++)for(var u=-4;u<=4;u++){var d=Math.max(Math.abs(u),Math.abs(c)),f=a+u,h=l+c;0<=f&&f<this.size&&0<=h&&h<this.size&&this.setFunctionModule(f,h,d!=2&&d!=4)}},o.prototype.drawAlignmentPattern=function(a,l){for(var c=-2;c<=2;c++)for(var u=-2;u<=2;u++)this.setFunctionModule(a+u,l+c,Math.max(Math.abs(u),Math.abs(c))!=1)},o.prototype.setFunctionModule=function(a,l,c){this.modules[l][a]=c,this.isFunction[l][a]=!0},o.prototype.addEccAndInterleave=function(a){var l=this.version,c=this.errorCorrectionLevel;if(a.length!=o.getNumDataCodewords(l,c))throw new RangeError("Invalid argument");for(var u=o.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l],d=o.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l],f=Math.floor(o.getNumRawDataModules(l)/8),h=u-f%u,y=Math.floor(f/u),_=[],v=o.reedSolomonComputeDivisor(d),x=0,A=0;x<u;x++){var C=a.slice(A,A+y-d+(x<h?0:1));A+=C.length;var S=o.reedSolomonComputeRemainder(C,v);x<h&&C.push(0),_.push(C.concat(S))}for(var j=[],B=function(U){_.forEach(function(ae,le){(U!=y-d||le>=h)&&j.push(ae[U])})},x=0;x<_[0].length;x++)B(x);return s(j.length==f),j},o.prototype.drawCodewords=function(a){if(a.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var l=0,c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(var u=0;u<this.size;u++)for(var d=0;d<2;d++){var f=c-d,h=(c+1&2)==0,y=h?this.size-1-u:u;!this.isFunction[y][f]&&l<a.length*8&&(this.modules[y][f]=r(a[l>>>3],7-(l&7)),l++)}}s(l==a.length*8)},o.prototype.applyMask=function(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(var l=0;l<this.size;l++)for(var c=0;c<this.size;c++){var u=void 0;switch(a){case 0:u=(c+l)%2==0;break;case 1:u=l%2==0;break;case 2:u=c%3==0;break;case 3:u=(c+l)%3==0;break;case 4:u=(Math.floor(c/3)+Math.floor(l/2))%2==0;break;case 5:u=c*l%2+c*l%3==0;break;case 6:u=(c*l%2+c*l%3)%2==0;break;case 7:u=((c+l)%2+c*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][c]&&u&&(this.modules[l][c]=!this.modules[l][c])}},o.prototype.getPenaltyScore=function(){for(var a=0,l=0;l<this.size;l++){for(var c=!1,u=0,d=[0,0,0,0,0,0,0],f=0;f<this.size;f++)this.modules[l][f]==c?(u++,u==5?a+=o.PENALTY_N1:u>5&&a++):(this.finderPenaltyAddHistory(u,d),c||(a+=this.finderPenaltyCountPatterns(d)*o.PENALTY_N3),c=this.modules[l][f],u=1);a+=this.finderPenaltyTerminateAndCount(c,u,d)*o.PENALTY_N3}for(var f=0;f<this.size;f++){for(var c=!1,h=0,d=[0,0,0,0,0,0,0],l=0;l<this.size;l++)this.modules[l][f]==c?(h++,h==5?a+=o.PENALTY_N1:h>5&&a++):(this.finderPenaltyAddHistory(h,d),c||(a+=this.finderPenaltyCountPatterns(d)*o.PENALTY_N3),c=this.modules[l][f],h=1);a+=this.finderPenaltyTerminateAndCount(c,h,d)*o.PENALTY_N3}for(var l=0;l<this.size-1;l++)for(var f=0;f<this.size-1;f++){var y=this.modules[l][f];y==this.modules[l][f+1]&&y==this.modules[l+1][f]&&y==this.modules[l+1][f+1]&&(a+=o.PENALTY_N2)}for(var _=0,v=0,x=this.modules;v<x.length;v++){var A=x[v];_=A.reduce(function(j,B){return j+(B?1:0)},_)}var C=this.size*this.size,S=Math.ceil(Math.abs(_*20-C*10)/C)-1;return s(0<=S&&S<=9),a+=S*o.PENALTY_N4,s(0<=a&&a<=2568888),a},o.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var a=Math.floor(this.version/7)+2,l=Math.floor((this.version*8+a*3+5)/(a*4-4))*2,c=[6],u=this.size-7;c.length<a;u-=l)c.splice(1,0,u);return c},o.getNumRawDataModules=function(a){if(a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version number out of range");var l=(16*a+128)*a+64;if(a>=2){var c=Math.floor(a/7)+2;l-=(25*c-10)*c-55,a>=7&&(l-=36)}return s(208<=l&&l<=29648),l},o.getNumDataCodewords=function(a,l){return Math.floor(o.getNumRawDataModules(a)/8)-o.ECC_CODEWORDS_PER_BLOCK[l.ordinal][a]*o.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][a]},o.reedSolomonComputeDivisor=function(a){if(a<1||a>255)throw new RangeError("Degree out of range");for(var l=[],c=0;c<a-1;c++)l.push(0);l.push(1);for(var u=1,c=0;c<a;c++){for(var d=0;d<l.length;d++)l[d]=o.reedSolomonMultiply(l[d],u),d+1<l.length&&(l[d]^=l[d+1]);u=o.reedSolomonMultiply(u,2)}return l},o.reedSolomonComputeRemainder=function(a,l){for(var c=l.map(function(y){return 0}),u=function(y){var _=y^c.shift();c.push(0),l.forEach(function(v,x){return c[x]^=o.reedSolomonMultiply(v,_)})},d=0,f=a;d<f.length;d++){var h=f[d];u(h)}return c},o.reedSolomonMultiply=function(a,l){if(a>>>8||l>>>8)throw new RangeError("Byte out of range");for(var c=0,u=7;u>=0;u--)c=c<<1^(c>>>7)*285,c^=(l>>>u&1)*a;return s(c>>>8==0),c},o.prototype.finderPenaltyCountPatterns=function(a){var l=a[1];s(l<=this.size*3);var c=l>0&&a[2]==l&&a[3]==l*3&&a[4]==l&&a[5]==l;return(c&&a[0]>=l*4&&a[6]>=l?1:0)+(c&&a[6]>=l*4&&a[0]>=l?1:0)},o.prototype.finderPenaltyTerminateAndCount=function(a,l,c){return a&&(this.finderPenaltyAddHistory(l,c),l=0),l+=this.size,this.finderPenaltyAddHistory(l,c),this.finderPenaltyCountPatterns(c)},o.prototype.finderPenaltyAddHistory=function(a,l){l[0]==0&&(a+=this.size),l.pop(),l.unshift(a)},o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o}();e.QrCode=t;function n(o,a,l){if(a<0||a>31||o>>>a)throw new RangeError("Value out of range");for(var c=a-1;c>=0;c--)l.push(o>>>c&1)}function r(o,a){return(o>>>a&1)!=0}function s(o){if(!o)throw new Error("Assertion error")}var i=function(){function o(a,l,c){if(this.mode=a,this.numChars=l,this.bitData=c,l<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}return o.makeBytes=function(a){for(var l=[],c=0,u=a;c<u.length;c++){var d=u[c];n(d,8,l)}return new o(o.Mode.BYTE,a.length,l)},o.makeNumeric=function(a){if(!o.isNumeric(a))throw new RangeError("String contains non-numeric characters");for(var l=[],c=0;c<a.length;){var u=Math.min(a.length-c,3);n(parseInt(a.substring(c,c+u),10),u*3+1,l),c+=u}return new o(o.Mode.NUMERIC,a.length,l)},o.makeAlphanumeric=function(a){if(!o.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");var l=[],c;for(c=0;c+2<=a.length;c+=2){var u=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c))*45;u+=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c+1)),n(u,11,l)}return c<a.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c)),6,l),new o(o.Mode.ALPHANUMERIC,a.length,l)},o.makeSegments=function(a){return a==""?[]:o.isNumeric(a)?[o.makeNumeric(a)]:o.isAlphanumeric(a)?[o.makeAlphanumeric(a)]:[o.makeBytes(o.toUtf8ByteArray(a))]},o.makeEci=function(a){var l=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)n(a,8,l);else if(a<16384)n(2,2,l),n(a,14,l);else if(a<1e6)n(6,3,l),n(a,21,l);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,l)},o.isNumeric=function(a){return o.NUMERIC_REGEX.test(a)},o.isAlphanumeric=function(a){return o.ALPHANUMERIC_REGEX.test(a)},o.prototype.getData=function(){return this.bitData.slice()},o.getTotalBits=function(a,l){for(var c=0,u=0,d=a;u<d.length;u++){var f=d[u],h=f.mode.numCharCountBits(l);if(f.numChars>=1<<h)return 1/0;c+=4+h+f.bitData.length}return c},o.toUtf8ByteArray=function(a){a=encodeURI(a);for(var l=[],c=0;c<a.length;c++)a.charAt(c)!="%"?l.push(a.charCodeAt(c)):(l.push(parseInt(a.substring(c+1,c+3),16)),c+=2);return l},o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",o}();e.QrSegment=i})(Ft||(Ft={}));(function(e){(function(t){var n=function(){function r(s,i){this.ordinal=s,this.formatBits=i}return r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),r}();t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Ft||(Ft={}));(function(e){(function(t){var n=function(){function r(s,i){this.modeBits=s,this.numBitsCharCount=i}return r.prototype.numCharCountBits=function(s){return this.numBitsCharCount[Math.floor((s+7)/17)]},r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),r}();t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Ft||(Ft={}));var sn=Ft,Ws="L",Qs={L:sn.QrCode.Ecc.LOW,M:sn.QrCode.Ecc.MEDIUM,Q:sn.QrCode.Ecc.QUARTILE,H:sn.QrCode.Ecc.HIGH},Qd=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function Gs(e){return e in Qs}function Ya(e,t){t===void 0&&(t=0);var n=[];return e.forEach(function(r,s){var i=null;r.forEach(function(o,a){if(!o&&i!==null){n.push("M".concat(i+t," ").concat(s+t,"h").concat(a-i,"v1H").concat(i+t,"z")),i=null;return}if(a===r.length-1){if(!o)return;i===null?n.push("M".concat(a+t,",").concat(s+t," h1v1H").concat(a+t,"z")):n.push("M".concat(i+t,",").concat(s+t," h").concat(a+1-i,"v1H").concat(i+t,"z"));return}o&&i===null&&(i=a)})}),n.join("")}function Za(e,t,n,r){var s=r.width,i=r.height,o=r.x,a=r.y,l=e.length+n*2,c=Math.floor(t*.1),u=l/t,d=(s||c)*u,f=(i||c)*u,h=o==null?e.length/2-d/2:o*u,y=a==null?e.length/2-f/2:a*u,_=null;if(r.excavate){var v=Math.floor(h),x=Math.floor(y),A=Math.ceil(d+h-v),C=Math.ceil(f+y-x);_={x:v,y:x,w:A,h:C}}return{x:h,y,h:f,w:d,excavation:_}}function Xa(e,t){return e.slice().map(function(n,r){return r<t.y||r>=t.y+t.h?n:n.map(function(s,i){return i<t.x||i>=t.x+t.w?s:!1})})}var Js={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:Ws,validator:function(e){return Gs(e)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(e){return["linear","radial"].indexOf(e)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},Gd=st(st({},Js),{renderAs:{type:String,required:!1,default:"canvas",validator:function(e){return["canvas","svg"].indexOf(e)>-1}}}),Jd=Be({name:"QRCodeSvg",props:Js,setup:function(e){var t=fe(0),n=fe(""),r,s=function(){var o=e.value,a=e.level,l=e.margin,c=l>>>0,u=Gs(a)?a:Ws,d=sn.QrCode.encodeText(o,Qs[u]).getModules();if(t.value=d.length+c*2,e.imageSettings.src){var f=Za(d,e.size,c,e.imageSettings);r={x:f.x+c,y:f.y+c,width:f.w,height:f.h},f.excavation&&(d=Xa(d,f.excavation))}n.value=Ya(d,c)},i=function(){if(!e.gradient)return null;var o=e.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return Ie(e.gradientType==="linear"?"linearGradient":"radialGradient",st({id:"qr-gradient"},o),[Ie("stop",{offset:"0%",style:{stopColor:e.gradientStartColor}}),Ie("stop",{offset:"100%",style:{stopColor:e.gradientEndColor}})])};return s(),Fs(s),function(){return Ie("svg",{width:e.size,height:e.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(t.value," ").concat(t.value)},[Ie("defs",{},[i()]),Ie("rect",{width:"100%",height:"100%",fill:e.background}),Ie("path",{fill:e.gradient?"url(#qr-gradient)":e.foreground,d:n.value}),e.imageSettings.src&&Ie("image",st({href:e.imageSettings.src},r))])}}}),Yd=Be({name:"QRCodeCanvas",props:Js,setup:function(e,t){var n=fe(null),r=fe(null),s=function(){var o=e.value,a=e.level,l=e.size,c=e.margin,u=e.background,d=e.foreground,f=e.gradient,h=e.gradientType,y=e.gradientStartColor,_=e.gradientEndColor,v=c>>>0,x=Gs(a)?a:Ws,A=n.value;if(A){var C=A.getContext("2d");if(C){var S=sn.QrCode.encodeText(o,Qs[x]).getModules(),j=S.length+v*2,B=r.value,U={x:0,y:0,width:0,height:0},ae=e.imageSettings.src&&B!=null&&B.naturalWidth!==0&&B.naturalHeight!==0;if(ae){var le=Za(S,e.size,v,e.imageSettings);U={x:le.x+v,y:le.y+v,width:le.w,height:le.h},le.excavation&&(S=Xa(S,le.excavation))}var _e=window.devicePixelRatio||1,ve=l/j*_e;if(A.height=A.width=l*_e,C.scale(ve,ve),C.fillStyle=u,C.fillRect(0,0,j,j),f){var me=void 0;h==="linear"?me=C.createLinearGradient(0,0,j,j):me=C.createRadialGradient(j/2,j/2,0,j/2,j/2,j/2),me.addColorStop(0,y),me.addColorStop(1,_),C.fillStyle=me}else C.fillStyle=d;Qd?C.fill(new Path2D(Ya(S,v))):S.forEach(function(Z,at){Z.forEach(function(Ke,pe){Ke&&C.fillRect(pe+v,at+v,1,1)})}),ae&&C.drawImage(B,U.x,U.y,U.width,U.height)}}};yn(s),Fs(s);var i=t.attrs.style;return function(){return Ie(ke,[Ie("canvas",st(st({},t.attrs),{ref:n,style:st(st({},i),{width:"".concat(e.size,"px"),height:"".concat(e.size,"px")})})),e.imageSettings.src&&Ie("img",{ref:r,src:e.imageSettings.src,style:{display:"none"},onLoad:s})])}}}),Zd=Be({name:"Qrcode",render:function(){var e=this.$props,t=e.renderAs,n=e.value,r=e.size,s=e.margin,i=e.level,o=e.background,a=e.foreground,l=e.imageSettings,c=e.gradient,u=e.gradientType,d=e.gradientStartColor,f=e.gradientEndColor;return Ie(t==="svg"?Jd:Yd,{value:n,size:r,margin:s,level:i,background:o,foreground:a,imageSettings:l,gradient:c,gradientType:u,gradientStartColor:d,gradientEndColor:f})},props:Gd});const Xd={key:0,"data-testid":"lobby-stage"},ef={"data-testid":"lobby-id"},tf={"data-testid":"username"},nf=["src"],rf={key:1,"data-testid":"before-answer-stage"},sf={"data-testid":"question-title"},of={"data-testid":"time-left"},af={key:2,"data-testid":"answering-stage"},lf={"data-testid":"time-left"},cf={"data-testid":"question-title"},uf=["src"],df={"data-testid":"answer-title"},ff={key:3,"data-testid":"statistics-stage"},hf={"data-testid":"question-title"},pf=["data-is-correct"],gf={"data-testid":"title"},mf={"data-testid":"player-count"},Ji=1e3,Yi=10,Zi=20,yf=Be({__name:"AdminLobby",props:{timeToStartAnswering:Number,timeToAnswer:Number},setup(e){const t=ce("container"),n=ce("notificationProvider"),r=Mr(),s=Yn(),i=parseInt(r.params.lobbyId),o=parseInt(r.params.quizId),a=s.resolve({name:"player-lobby"}).href,l=new URL(location.origin+a).toString(),c=fe("lobby"),u=fe([]),d=fe(null),f=fe(null),h=fe(0),y=fe(e.timeToStartAnswering||Yi),_=fe(e.timeToAnswer||Zi),v=Fe(()=>!d.value||c.value!=="statistics"?[]:d.value.questions[h.value].answers.map(B=>{var U,ae;return{...B,playerCount:(ae=(U=f.value)==null?void 0:U.find(le=>le.answerId===B.id))==null?void 0:ae.playerCount}})),x=Fe(()=>h.value<d.value.questions.length-1),A=()=>{const B=setInterval(()=>{if(_.value===0){clearInterval(B),c.value="statistics",t.quizService.getPlayerCountPerAnswerInQuestionByLobbyIdAndQuestionId(i,d.value.questions[h.value].id).then(U=>{f.value=U}),t.quizService.updateAnsweringCountdown(i,_.value--);return}t.quizService.updateAnsweringCountdown(i,_.value--)},Ji)},C=()=>{const B=setInterval(()=>{if(y.value===0){A(),clearInterval(B),c.value="answering",t.quizService.updateCountdownBeforeAnswer(i,y.value--);return}t.quizService.updateCountdownBeforeAnswer(i,y.value--)},Ji)},S=async()=>{try{await t.quizService.startQuiz(i),await t.quizService.stopListeningForNewPlayers(i),c.value="before-answer",t.quizService.sendQuestion(i,d.value.questions[h.value]),C()}catch(B){B instanceof Error&&n.showNotification("Error: "+B.message)}},j=async()=>{h.value++,t.quizService.sendQuestion(i,d.value.questions[h.value]),c.value="before-answer",y.value=e.timeToStartAnswering||Yi,_.value=e.timeToAnswer||Zi,C()};return yn(async()=>{t.quizService.startListeningForNewPlayers(i,B=>{u.value.push(B)}),u.value=await t.quizService.getPlayersByLobby(i),d.value=await t.quizService.getQuizWithQuestionsAndAnswersByQuizId(o)}),(B,U)=>{var ae,le,_e,ve,me;return te(),ue("div",null,[c.value==="lobby"?(te(),ue("div",Xd,[V("div",ef,"Lobby ID: "+he(ye(i)),1),je(Zd,{value:ye(l),"data-testid":"qr-code"},null,8,["value"]),V("p",null,he(ye(l)),1),V("button",{"data-testid":"initialize-quiz",onClick:S}," initialize quiz "),(te(!0),ue(ke,null,In(u.value,Z=>(te(),ue("div",{"data-testid":"player",key:Z.id},[V("p",tf,he(Z.username),1),V("img",{"data-testid":"avatar",src:Z.image,width:"20"},null,8,nf)]))),128))])):c.value==="before-answer"?(te(),ue("div",rf,[V("div",sf,he((ae=d.value)==null?void 0:ae.questions[h.value].title),1),V("div",of,he(y.value),1)])):c.value==="answering"?(te(),ue("div",af,[V("div",lf,he(_.value),1),V("div",cf,he((le=d.value)==null?void 0:le.questions[h.value].title),1),V("img",{src:(_e=d.value)==null?void 0:_e.questions[h.value].image,"data-testid":"question-image"},null,8,uf),(te(!0),ue(ke,null,In((ve=d.value)==null?void 0:ve.questions[h.value].answers,Z=>(te(),ue("div",{key:Z.id,"data-testid":"answer"},[V("div",df,he(Z.title),1)]))),128))])):c.value==="statistics"?(te(),ue("div",ff,[V("div",hf,he((me=d.value)==null?void 0:me.questions[h.value].title),1),(te(!0),ue(ke,null,In(v.value,Z=>(te(),ue("div",{key:Z.id,"data-testid":"answer","data-is-correct":Z.isCorrect},[V("div",gf,he(Z.title),1),V("div",mf,he(Z.playerCount||0),1)],8,pf))),128)),x.value?(te(),ue("button",{key:0,"data-testid":"next-question",onClick:j}," next question ")):(te(),$r(ye(Ja),{key:1,"data-testid":"awards-button",onClick:j,to:{name:"admin-awards",params:{quizId:ye(o),lobbyId:ye(i)}}},{default:aa(()=>U[0]||(U[0]=[Ia(" awards ")])),_:1},8,["to"]))])):Bs("",!0)])}}}),_f={"data-testid":"quiz-title"},vf=["onClick"],wf=Be({__name:"AdminView",setup(e){const{quizService:t}=ce("container"),{showNotification:n}=ce("notificationProvider"),r=Yn(),s=fe([]);yn(async()=>{s.value=await t.getQuizzes()});const i=async o=>{try{const a=await t.createLobby(o);r.push({name:"admin-lobby",params:{lobbyId:a.id,quizId:o}})}catch{n("Error: Failed to create lobby")}};return(o,a)=>(te(!0),ue(ke,null,In(s.value,l=>(te(),ue("div",{key:l.id},[V("h1",_f,he(l.name),1),V("button",{"data-testid":"initialize-quiz-button",onClick:c=>i(l.id)}," Initialize ",8,vf)]))),128))}}),bf=Be({__name:"HomeView",setup(e){const t=Yn(),n=ce("container"),r=ce("notificationProvider"),s=fe(""),i=async()=>{if(isNaN(parseInt(s.value))){r.showNotification("Error: Invalid lobby id");return}try{const o=await n.quizService.getQuizByLobbyId(parseInt(s.value));await t.push({name:"player-lobby",params:{lobbyId:s.value,quizId:o.id}})}catch(o){o instanceof Error&&r.showNotification(`Error: ${o.message}`)}};return(o,a)=>(te(),ue("div",null,[V("form",{"data-testid":"join-lobby-form",onSubmit:i},[la(V("input",{type:"text","data-testid":"join-lobby-input","onUpdate:modelValue":a[0]||(a[0]=l=>s.value=l)},null,512),[[Da,s.value]])],32)]))}}),Ef={key:0},Sf=["src"],Pf={"data-testid":"player-username"},Cf=Be({__name:"PlayerLobbyBeforeQuizStarts",setup(e){const t=Yn(),n=Mr(),r=parseInt(n.params.lobbyId),s=parseInt(n.params.quizId),i=ce("container"),o=ce("notificationProvider"),{player:a}=ce("playerProvider");return a||(o.showNotification("Error: Player not found"),t.push({name:"home"})),yn(()=>{i.quizService.listenQuizStart(r,()=>{t.push({name:"player-quiz",params:{quizId:s,lobbyId:r}})})}),(l,c)=>ye(a)?(te(),ue("div",Ef,[V("img",{src:ye(a).image,"data-testid":"player-avatar"},null,8,Sf),V("span",Pf,he(ye(a).username),1)])):Bs("",!0)}}),xf={player:null},Af=Be({__name:"PlayerProviders",setup(e){return Ln("playerProvider",xf),(t,n)=>(te(),$r(ye(Ks)))}}),kf={"data-testid":"player-section"},Rf={"data-testid":"username"},Tf=["src"],Of={"data-testid":"points"},$f={key:0,"data-testid":"before-answer-stage"},If={"data-testid":"question-title"},jf={"data-testid":"time-left"},Lf={key:1,"data-testid":"answering-stage"},Mf={"data-testid":"time-left"},Df={"data-testid":"question-title"},Nf=["onClick"],Uf={key:2,"data-testid":"player-points-stage"},Ff={"data-testid":"points"},zf=Be({__name:"PlayerQuizView",setup(e){const t=Mr(),n=parseInt(t.params.lobbyId),r=ce("playerProvider"),s=ce("container"),i=fe(null),o=fe(0),a=fe(0),l=fe("before-answer"),c=fe(0),u=fe(0),d=async f=>{if(l.value="player-points",!i.value)return;const h=await s.quizService.sendAnswer(n,r.player.id,i.value.id,f);h&&(u.value=h.points,c.value=h.points+c.value)};return yn(()=>{s.quizService.listenQuestion(n,f=>{i.value=f,l.value="before-answer",u.value=0}),s.quizService.listenUpdateCountdownBeforeAnswer(n,f=>{o.value=f,f===0&&(l.value="answering")}),s.quizService.listenUpdateAnsweringCountdown(n,f=>{a.value=f,f===0&&(l.value="player-points")})}),(f,h)=>{var y,_,v,x,A;return te(),ue("div",null,[V("div",kf,[V("div",Rf,he((y=ye(r).player)==null?void 0:y.username),1),V("img",{"data-testid":"image",src:(_=ye(r).player)==null?void 0:_.image,width:"50"},null,8,Tf),V("div",Of,he(c.value),1)]),l.value==="before-answer"?(te(),ue("div",$f,[V("div",If,he((v=i.value)==null?void 0:v.title),1),V("div",jf,he(o.value),1)])):l.value==="answering"?(te(),ue("div",Lf,[V("div",Mf,he(a.value),1),V("div",Df,he((x=i.value)==null?void 0:x.title),1),(te(!0),ue(ke,null,In((A=i.value)==null?void 0:A.answers,C=>(te(),ue("div",{"data-testid":"answer",key:C.id},[V("button",{"data-testid":"answer-button",onClick:S=>d(C.id)},he(C.title),9,Nf)]))),128))])):l.value==="player-points"?(te(),ue("div",Uf,[V("div",Ff,he(u.value),1)])):Bs("",!0)])}}}),Bf={fileToDataURL(e){return new Promise((t,n)=>{const r=new FileReader;r.onloadend=s=>t(r.result),r.onerror=s=>n(r.error),r.onabort=s=>n(new Error("Read aborted")),r.readAsDataURL(e)})}},qf=["src"],Hf=Be({__name:"PlayersLobby",setup(e){const t=ce("container"),n=ce("notificationProvider"),r=ce("playerProvider"),s=Mr(),i=Yn(),o=parseInt(s.params.lobbyId),a=parseInt(s.params.quizId),l=fe(""),c=fe(null),u=fe(""),d=async()=>{if(l.value.length<4){n.showNotification("Error: Username should be at least 4 characters long");return}try{r.player=await t.quizService.createPlayerByLobbyId(o,l.value,c.value),await i.push({name:"player-lobby-before-quiz-starts",params:{lobbyId:o,quizId:a}})}catch{n.showNotification("Error: Failed to create player")}},f=async h=>{const y=await t.avatarService.generateAvatarByString(l.value);c.value=y,u.value=await Bf.fileToDataURL(y)};return(h,y)=>(te(),ue("div",null,[V("form",{onSubmit:ju(d,["prevent"]),"data-testid":"player-form"},[V("img",{"data-testid":"player-avatar",src:u.value},null,8,qf),la(V("input",{type:"text",onInput:f,"onUpdate:modelValue":y[0]||(y[0]=_=>l.value=_),"data-testid":"player-username-input"},null,544),[[Da,l.value]]),y[1]||(y[1]=V("input",{type:"submit","data-testid":"player-submit"},null,-1))],32)]))}}),Vf=Fd({history:yd("/supahoot/"),routes:[{path:"/admin",name:"admin",component:wf},{path:"/admin/quiz/:quizId/lobby/:lobbyId",name:"admin-lobby",component:yf},{path:"/admin/quiz/:quizId/lobby/:lobbyId/awards",name:"admin-awards",component:Wd},{path:"/",name:"home",component:bf},{path:"/quiz/:quizId/lobby/:lobbyId",component:Af,children:[{path:"",name:"player-lobby",component:Hf},{path:"before-start",name:"player-lobby-before-quiz-starts",component:Cf},{path:"quiz-started",name:"player-quiz",component:zf}]}]}),Kf="modulepreload",Wf=function(e){return"/supahoot/"+e},Xi={},gn=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Wf(l),l in Xi)return;Xi[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Kf,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Qf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gn(async()=>{const{default:r}=await Promise.resolve().then(()=>_n);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Ys extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Gf extends Ys{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Jf extends Ys{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Yf extends Ys{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ys;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ys||(ys={}));var Zf=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Xf{constructor(t,{headers:n={},customFetch:r,region:s=ys.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Qf(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Zf(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(y=>{throw new Gf(y)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Jf(u);if(!u.ok)throw new Yf(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield u.json():f==="application/octet-stream"?h=yield u.blob():f==="text/event-stream"?h=u:f==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(s){return{data:null,error:s}}})}}function eh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function th(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var we={},Wt={},Qt={},Gt={},Jt={},Yt={},nh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mn=nh();const rh=mn.fetch,el=mn.fetch.bind(mn),tl=mn.Headers,sh=mn.Request,ih=mn.Response,_n=Object.freeze(Object.defineProperty({__proto__:null,Headers:tl,Request:sh,Response:ih,default:el,fetch:rh},Symbol.toStringTag,{value:"Module"})),oh=th(_n);var sr={},eo;function nl(){if(eo)return sr;eo=1,Object.defineProperty(sr,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return sr.default=e,sr}var to;function rl(){if(to)return Yt;to=1;var e=Yt&&Yt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Yt,"__esModule",{value:!0});const t=e(oh),n=e(nl());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f;let h=null,y=null,_=null,v=c.status,x=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=j:y=JSON.parse(j))}const C=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),S=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");C&&S&&S.length>1&&(_=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(h={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,_=null,v=406,x="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const C=await c.text();try{h=JSON.parse(C),Array.isArray(h)&&c.status===404&&(y=[],h=null,v=200,x="OK")}catch{c.status===404&&C===""?(v=204,x="No Content"):h={message:C}}if(h&&this.isMaybeSingle&&(!((f=h==null?void 0:h.details)===null||f===void 0)&&f.includes("0 rows"))&&(h=null,v=200,x="OK"),h&&this.shouldThrowOnError)throw new n.default(h)}return{error:h,data:y,count:_,status:v,statusText:x}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}}return Yt.default=r,Yt}var no;function sl(){if(no)return Jt;no=1;var e=Jt&&Jt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jt,"__esModule",{value:!0});const t=e(rl());class n extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const d=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${f}"; options=${d};`,c==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Jt.default=n,Jt}var ro;function Zs(){if(ro)return Gt;ro=1;var e=Gt&&Gt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gt,"__esModule",{value:!0});const t=e(sl());class n extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${l}fts${c}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return Gt.default=n,Gt}var so;function il(){if(so)return Qt;so=1;var e=Qt&&Qt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qt,"__esModule",{value:!0});const t=e(Zs());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=i,this.schema=o,this.fetch=a}select(s,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const c=(s??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(s)){const c=s.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(s)){const d=s.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const i="DELETE",o=[];return s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Qt.default=n,Qt}var Pn={},Cn={},io;function ah(){return io||(io=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.version=void 0,Cn.version="0.0.0-automated"),Cn}var oo;function lh(){if(oo)return Pn;oo=1,Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.DEFAULT_HEADERS=void 0;const e=ah();return Pn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Pn}var ao;function ch(){if(ao)return Wt;ao=1;var e=Wt&&Wt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Wt,"__esModule",{value:!0});const t=e(il()),n=e(Zs()),r=lh();class s{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){let d;const f=new URL(`${this.url}/rpc/${o}`);let h;l||c?(d=l?"HEAD":"GET",Object.entries(a).filter(([_,v])=>v!==void 0).map(([_,v])=>[_,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([_,v])=>{f.searchParams.append(_,v)})):(d="POST",h=a);const y=Object.assign({},this.headers);return u&&(y.Prefer=`count=${u}`),new n.default({method:d,url:f,headers:y,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return Wt.default=s,Wt}var lo;function uh(){if(lo)return we;lo=1;var e=we&&we.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(we,"__esModule",{value:!0}),we.PostgrestError=we.PostgrestBuilder=we.PostgrestTransformBuilder=we.PostgrestFilterBuilder=we.PostgrestQueryBuilder=we.PostgrestClient=void 0;const t=e(ch());we.PostgrestClient=t.default;const n=e(il());we.PostgrestQueryBuilder=n.default;const r=e(Zs());we.PostgrestFilterBuilder=r.default;const s=e(sl());we.PostgrestTransformBuilder=s.default;const i=e(rl());we.PostgrestBuilder=i.default;const o=e(nl());return we.PostgrestError=o.default,we.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},we}var dh=uh();const fh=eh(dh),{PostgrestClient:hh,PostgrestQueryBuilder:Eg,PostgrestFilterBuilder:Sg,PostgrestTransformBuilder:Pg,PostgrestBuilder:Cg,PostgrestError:xg}=fh,ph="2.11.2",gh={"X-Client-Info":`realtime-js/${ph}`},mh="1.0.0",ol=1e4,yh=1e3;var dn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(dn||(dn={}));var Ne;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ne||(Ne={}));var We;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(We||(We={}));var _s;(function(e){e.websocket="websocket"})(_s||(_s={}));var Lt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Lt||(Lt={}));class _h{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class al{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ie||(ie={}));const co=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=vh(o,e,t,s),i),{})},vh=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?ll(i,o):vs(o)},ll=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Sh(t,n)}switch(e){case ie.bool:return wh(t);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return bh(t);case ie.json:case ie.jsonb:return Eh(t);case ie.timestamp:return Ph(t);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return vs(t);default:return vs(t)}},vs=e=>e,wh=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},bh=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Eh=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Sh=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ll(t,a))}return e},Ph=e=>typeof e=="string"?e.replace(" ","T"):e,cl=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Zr{constructor(t,n,r={},s=ol){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var uo;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(uo||(uo={}));class Un{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Un.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Un.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Un.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const f=u.map(v=>v.presence_ref),h=d.map(v=>v.presence_ref),y=u.filter(v=>h.indexOf(v.presence_ref)<0),_=d.filter(v=>f.indexOf(v.presence_ref)<0);y.length>0&&(a[c]=y),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);t[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fo;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(fo||(fo={}));var ho;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ho||(ho={}));var ft;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ft||(ft={}));class Xs{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Zr(this,We.join,this.params,this.timeout),this.rejoinTimer=new al(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ne.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Un(this),this.broadcastEndpointURL=cl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(ft.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(ft.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){t==null||t(ft.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,y=[];for(let _=0;_<h;_++){const v=f[_],{filter:{event:x,schema:A,table:C,filter:S}}=v,j=u&&u[_];if(j&&j.event===x&&j.schema===A&&j.table===C&&j.filter===S)y.push(Object.assign(Object.assign({},v),{id:j.id}));else{this.unsubscribe(),t==null||t(ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(ft.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ne.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Zr(this,We.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Zr(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=We;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var y,_,v;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(_=h.filter)===null||_===void 0?void 0:_.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(h=>h.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var y,_,v,x,A,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const S=h.id,j=(y=h.filter)===null||y===void 0?void 0:y.event;return S&&((_=n.ids)===null||_===void 0?void 0:_.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(A=(x=h==null?void 0:h.filter)===null||x===void 0?void 0:x.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return S==="*"||S===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:_,table:v,commit_timestamp:x,type:A,errors:C}=y;f=Object.assign(Object.assign({},{schema:_,table:v,commit_timestamp:x,eventType:A,new:{},old:{},errors:C}),this._getPayloadRecords(y))}h.callback(f,r)})}_isClosed(){return this.state===Ne.closed}_isJoined(){return this.state===Ne.joined}_isJoining(){return this.state===Ne.joining}_isLeaving(){return this.state===Ne.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Xs.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(We.close,{},t)}_onError(t){this._on(We.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=co(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=co(t.columns,t.old_record)),n}}const Ch=()=>{},xh=typeof WebSocket<"u",Ah=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kh{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=gh,this.params={},this.timeout=ol,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ch,this.conn=null,this.sendBuffer=[],this.serializer=new _h,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>gn(async()=>{const{default:l}=await Promise.resolve().then(()=>_n);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${_s.websocket}`,this.httpEndpoint=cl(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new al(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(xh){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Rh(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),gn(async()=>{const{default:t}=await import("./browser-D-5pusqq.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mh}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case dn.connecting:return Lt.Connecting;case dn.open:return Lt.Open;case dn.closing:return Lt.Closing;default:return Lt.Closed}}isConnected(){return this.connectionState()===Lt.Open}channel(t,n={config:{}}){const r=new Xs(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(We.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(yh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(We.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Ah],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Rh{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=dn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class ei extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function be(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Th extends ei{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ws extends ei{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Oh=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const ul=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gn(async()=>{const{default:r}=await Promise.resolve().then(()=>_n);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},$h=()=>Oh(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gn(()=>Promise.resolve().then(()=>_n),void 0)).Response:Response}),bs=e=>{if(Array.isArray(e))return e.map(n=>bs(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=bs(r)}),t};var Bt=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Xr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ih=(e,t,n)=>Bt(void 0,void 0,void 0,function*(){const r=yield $h();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Th(Xr(s),e.status||500))}).catch(s=>{t(new ws(Xr(s),s))}):t(new ws(Xr(e),e))}),jh=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Zn(e,t,n,r,s,i){return Bt(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,jh(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Ih(l,a,r))})})}function wr(e,t,n,r){return Bt(this,void 0,void 0,function*(){return Zn(e,"GET",t,n,r)})}function St(e,t,n,r,s){return Bt(this,void 0,void 0,function*(){return Zn(e,"POST",t,r,s,n)})}function Lh(e,t,n,r,s){return Bt(this,void 0,void 0,function*(){return Zn(e,"PUT",t,r,s,n)})}function Mh(e,t,n,r){return Bt(this,void 0,void 0,function*(){return Zn(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function dl(e,t,n,r,s){return Bt(this,void 0,void 0,function*(){return Zn(e,"DELETE",t,r,s,n)})}var $e=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Dh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},po={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Nh{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=ul(s)}uploadOrUpdate(t,n,r,s){return $e(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},po),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(be(i))return{data:null,error:i};throw i}})}upload(t,n,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return $e(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:po.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(be(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return $e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield St(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ei("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}update(t,n,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return $e(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}copy(t,n,r){return $e(this,void 0,void 0,function*(){try{return{data:{path:(yield St(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return $e(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield St(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return $e(this,void 0,void 0,function*(){try{const s=yield St(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}download(t,n){return $e(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield wr(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(be(a))return{data:null,error:a};throw a}})}info(t){return $e(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield wr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:bs(r),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}exists(t){return $e(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Mh(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(be(r)&&r instanceof ws){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return $e(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}list(t,n,r){return $e(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Dh),n),{prefix:t||""});return{data:yield St(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Uh="2.7.1",Fh={"X-Client-Info":`storage-js/${Uh}`};var Zt=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class zh{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Fh),n),this.fetch=ul(r)}listBuckets(){return Zt(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(be(t))return{data:null,error:t};throw t}})}getBucket(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Zt(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Zt(this,void 0,void 0,function*(){try{return{data:yield Lh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}}class Bh extends zh{constructor(t,n={},r){super(t,n,r)}from(t){return new Nh(this.url,this.headers,t,this.fetch)}}const qh="2.48.1";let kn="";typeof Deno<"u"?kn="deno":typeof document<"u"?kn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kn="react-native":kn="node";const Hh={"X-Client-Info":`supabase-js-${kn}/${qh}`},Vh={headers:Hh},Kh={schema:"public"},Wh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qh={};var Gh=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Jh=e=>{let t;return e?t=e:typeof fetch>"u"?t=el:t=fetch,(...n)=>t(...n)},Yh=()=>typeof Headers>"u"?tl:Headers,Zh=(e,t,n)=>{const r=Jh(n),s=Yh();return(i,o)=>Gh(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var Xh=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function ep(e){return e.replace(/\/$/,"")}function tp(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>Xh(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const fl="2.67.3",np="http://localhost:9999",rp="supabase.auth.token",sp={"X-Client-Info":`gotrue-js/${fl}`},go=10,Es="X-Supabase-Api-Version",hl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function ip(e){return Math.round(Date.now()/1e3)+e}function op(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const tt=()=>typeof window<"u"&&typeof document<"u",$t={tested:!1,writable:!1},Fn=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($t.tested)return $t.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),$t.tested=!0,$t.writable=!0}catch{$t.tested=!0,$t.writable=!1}return $t.writable};function ap(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const pl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gn(async()=>{const{default:r}=await Promise.resolve().then(()=>_n);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},lp=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",gl=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ir=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},or=async(e,t)=>{await e.removeItem(t)};function cp(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,c,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)o=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Dr{constructor(){this.promise=new Dr.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Dr.promiseConstructor=Promise;function mo(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(cp(r))}async function up(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function dp(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function fp(e){return("0"+e.toString(16)).substr(-2)}function hp(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,fp).join("")}async function pp(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function gp(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mp(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await pp(e);return gp(n)}async function Xt(e,t,n=!1){const r=hp();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await gl(e,`${t}-code-verifier`,s);const i=await mp(r);return[i,r===i?"plain":"s256"]}const yp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _p(e){const t=e.headers.get(Es);if(!t||!t.match(yp))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class ti extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function H(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class vp extends ti{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function wp(e){return H(e)&&e.name==="AuthApiError"}class ml extends ti{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class qt extends ti{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class _t extends qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bp(e){return H(e)&&e.name==="AuthSessionMissingError"}class es extends qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ar extends qt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class lr extends qt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ep(e){return H(e)&&e.name==="AuthImplicitGrantRedirectError"}class yo extends qt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ss extends qt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ts(e){return H(e)&&e.name==="AuthRetryableFetchError"}class _o extends qt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Sp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const jt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Pp=[502,503,504];async function vo(e){var t;if(!lp(e))throw new Ss(jt(e),0);if(Pp.includes(e.status))throw new Ss(jt(e),e.status);let n;try{n=await e.json()}catch(i){throw new ml(jt(i),i)}let r;const s=_p(e);if(s&&s.getTime()>=hl["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _o(jt(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new _t}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new _o(jt(n),e.status,n.weak_password.reasons);throw new vp(jt(n),e.status||500,r)}const Cp=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function K(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Es]||(i[Es]=hl["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await xp(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function xp(e,t,n,r,s,i){const o=Cp(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Ss(jt(l),0)}if(a.ok||await vo(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await vo(l)}}function vt(e){var t;let n=null;Tp(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=ip(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function wo(e){const t=vt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Pt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ap(e){return{data:e,error:null}}function kp(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Sp(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Rp(e){return e}function Tp(e){return e.access_token&&e.refresh_token&&e.expires_in}var Op=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class $p{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=pl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Op(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:kp,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(H(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pt})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Rp});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);c[`${v}Page`]=_}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(H(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await K(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pt})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Pt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await K(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(H(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}}const Ip={getItem:e=>Fn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Fn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Fn()&&globalThis.localStorage.removeItem(e)}};function bo(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function jp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const en={debug:!!(globalThis&&Fn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yl extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Lp extends yl{}async function Mp(e,t,n){en.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),en.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){en.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{en.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw en.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Lp(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(en.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}jp();const Dp={url:np,storageKey:rp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},xn=30*1e3,Eo=3;async function So(e,t,n){return await n()}class Qn{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qn.nextInstanceID,Qn.nextInstanceID+=1,this.instanceID>0&&tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Dp),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new $p({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=pl(s.fetch),this.lock=s.lock||So,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:tt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Mp:this.lock=So,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Fn()?this.storage=Ip:(this.memoryStorage={},this.storage=bo(this.memoryStorage)):(this.memoryStorage={},this.storage=bo(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fl}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=ap(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),tt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ep(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return H(n)?{error:n}:{error:new ml("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:vt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:u,password:d,options:f}=t;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await Xt(this.storage,this.storageKey)),i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:y},xform:vt})}else if("phone"in t){const{phone:u,password:d,options:f}=t;i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:vt})}else throw new ar("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:wo})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:wo})}else throw new ar("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new es}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await ir(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:vt});if(await or(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new es}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(H(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:vt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new es}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Xt(this.storage,this.storageKey));const{error:d}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new ar("You must provide either an email or phone number.")}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:vt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Xt(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Ap})}catch(i){if(H(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new _t;const{error:s}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(H(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await K(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await K(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ar("You must provide either an email or phone number and a type")}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ir(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Pt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _t}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Pt})})}catch(n){if(H(n))return bp(n)&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new _t;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Xt(this.storage,this.storageKey));const{data:c,error:u}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Pt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return mo(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new _t;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=mo(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(H(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new _t;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!tt())throw new lr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new lr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new yo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lr("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new yo("No code detected.");const{data:A,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new lr("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const h=f-u;h*1e3<=xn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const y=f-d;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,u);const{data:_,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(H(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ir(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(wp(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=op(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Xt(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(H(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return tt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(H(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await dp(async s=>(s>0&&await up(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:vt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ts(i)&&Date.now()+o-r<xn})}catch(r){if(this._debug(n,"error",r),H(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),tt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ir(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+go;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${go}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),ts(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new _t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Dr;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new _t;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),H(i)){const o={session:null,error:i};return ts(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gl(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await or(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/xn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${xn}ms, refresh threshold is ${Eo} ticks`),s<=Eo&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof yl)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Xt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await K(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await K(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(H(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(H(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Qn.nextInstanceID=0;const Np=Qn;class Up extends Np{constructor(t){super(t)}}var Fp=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class zp{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=ep(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Kh,realtime:Qh,auth:Object.assign(Object.assign({},Wh),{storageKey:l}),global:Vh},u=tp(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Zh(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new hh(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Xf(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Bh(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Fp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Up({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new kh(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Bp=(e,t,n)=>new zp(e,t,n);class qp{constructor(){er(this,"supabase",Bp("https://dnsewtyjyfqpkugrwhmq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRuc2V3dHlqeWZxcGt1Z3J3aG1xIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY2NTc0ODUsImV4cCI6MjA1MjIzMzQ4NX0.OPESoZ2-AJfV3TvfKxemcLjmn9730bRd5DVXAlJxPbQ"));er(this,"channels",{});er(this,"eventListeners",{listenForNewPlayers:[],startQuiz:[],updateCountdownBeforeAnswer:[],updateAnsweringCountdown:[],listenQuestion:[],listenPlayerQuestionPoints:[]})}async getQuizzes(){const{error:t,data:n}=await this.supabase.from("quizzes").select("*");if(t)throw new Error(t.message);return n}async createLobby(t){const{error:n,data:r}=await this.supabase.from("lobbies").insert({quiz_id:t}).select();if(n)throw new Error(n.message);return r[0]}async getPlayersByLobby(t){const{error:n,data:r}=await this.supabase.from("players").select("*").eq("lobby_id",t),s=r.map(this.generatePlayerWithAvatar.bind(this));if(n)throw new Error(n.message);return s}startListeningForNewPlayers(t,n){this.initializeLobbyChannel(t),this.eventListeners.listenForNewPlayers.push(n)}async stopListeningForNewPlayers(t){this.initializeLobbyChannel(t),this.eventListeners.listenForNewPlayers=[]}async createPlayerByLobbyId(t,n,r){const{error:s,data:i}=await this.supabase.storage.from("player-avatars").upload(`public/${t}_${n}.jpeg`,r);if(s)throw new Error(s.message);const{error:o,data:a}=await this.supabase.from("players").insert({lobby_id:t,username:n,image:i.path}).select();if(o)throw new Error(o.message);return this.generatePlayerWithAvatar(a[0])}async startQuiz(t){if(await this.initializeLobbyChannel(t).send({type:"broadcast",event:"start_quiz"})!=="ok")throw new Error("Failed to start quiz")}async getQuizByLobbyId(t){const{error:n,data:r}=await this.supabase.from("lobbies").select("quizzes(*)").eq("id",t);if(n)throw new Error(n.message);return r[0].quizzes}listenQuizStart(t,n){this.initializeLobbyChannel(t),this.eventListeners.startQuiz.push(n)}listenQuestion(t,n){this.initializeLobbyChannel(t),this.eventListeners.listenQuestion.push(n)}async sendAnswer(t,n,r,s){const{error:i,data:o}=await this.supabase.rpc("register_answer",{lobby_id_input:t,player_id_input:n,question_id_input:r,answer_id_input:s});if(i)throw new Error(i.message);return o.length===0?null:o.map(({answer_id:a,created_at:l,id:c,player_id:u,points:d})=>({answerId:a,createdAt:l,id:c,playerId:u,points:d}))[0]}listenPlayerQuestionPoints(t,n,r){this.initializeLobbyChannel(t),this.eventListeners.listenPlayerQuestionPoints.push({playerId:n,callback:r})}updateCountdownBeforeAnswer(t,n){this.initializeLobbyChannel(t).send({type:"broadcast",event:"update_countdown_before_answer",payload:{count:n}})}listenUpdateCountdownBeforeAnswer(t,n){this.initializeLobbyChannel(t),this.eventListeners.updateCountdownBeforeAnswer.push(n)}updateAnsweringCountdown(t,n){this.initializeLobbyChannel(t).send({type:"broadcast",event:"update_answering_countdown",payload:{count:n}})}listenUpdateAnsweringCountdown(t,n){this.initializeLobbyChannel(t),this.eventListeners.updateAnsweringCountdown.push(n)}sendQuestion(t,n){this.initializeLobbyChannel(t).send({type:"broadcast",event:"send_question",payload:n})}async getQuizWithQuestionsAndAnswersByQuizId(t){const{data:n,error:r}=await this.supabase.from("quizzes").select(`
        *,
        questions (
          *,
          answers (*, isCorrect:is_correct)
        )
      `).eq("id",t);if(r)throw new Error(r.message);return n[0]}async getPlayerCountPerAnswerInQuestionByLobbyIdAndQuestionId(t,n){const{data:r,error:s}=await this.supabase.rpc("get_answer_counts",{lobby_id_input:t,question_id_input:n});if(s)throw new Error(s.message);return r.map(({answer_id:i,player_count:o})=>({answerId:i,playerCount:o}))}initializeLobbyChannel(t){if(this.channels[`lobby-${t}`])return this.channels[`lobby-${t}`];const n=this.supabase.channel(`lobby-${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"players",filter:`lobby_id=eq.${t}`},r=>{const s={...r.new,image:this.getPlayerAvatarUrl(r.new)};this.eventListeners.listenForNewPlayers.forEach(i=>{i(s)})}).on("postgres_changes",{event:"INSERT",schema:"public",table:"players_answers"},r=>{this.eventListeners.listenPlayerQuestionPoints.forEach(({playerId:s,callback:i})=>{r.new.playerId===s&&i(r.new)})}).on("broadcast",{event:"start_quiz"},r=>{this.eventListeners.startQuiz.forEach(s=>{s()})}).on("broadcast",{event:"update_countdown_before_answer"},r=>{this.eventListeners.updateCountdownBeforeAnswer.forEach(s=>{s(r.payload.count)})}).on("broadcast",{event:"update_answering_countdown"},r=>{this.eventListeners.updateAnsweringCountdown.forEach(s=>{s(r.payload.count)})}).on("broadcast",{event:"send_question"},r=>{console.log(" ~ payload:",r),this.eventListeners.listenQuestion.forEach(s=>{s(r.payload)})}).subscribe();return this.channels[`lobby-${t}`]=n,n}generatePlayerWithAvatar(t){return{...t,image:this.getPlayerAvatarUrl(t)}}getPlayerAvatarUrl(t){const{data:{publicUrl:n}}=this.supabase.storage.from("player-avatars").getPublicUrl(t.image);return n}}function Mt(e){return e.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Hp(e){var t,n,r,s,i,o,a;const l=(t=e.meta)===null||t===void 0?void 0:t.title,c=(n=e.meta)===null||n===void 0?void 0:n.creator,u=(r=e.meta)===null||r===void 0?void 0:r.source,d=(i=(s=e.meta)===null||s===void 0?void 0:s.license)===null||i===void 0?void 0:i.url,f=Vp(e);return!l&&!c&&!u&&!d&&!f?"":'<metadata xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"><rdf:RDF><rdf:Description>'+(l?`<dc:title>${Mt(l)}</dc:title>`:"")+(c?`<dc:creator>${Mt(c)}</dc:creator>`:"")+(u?`<dc:source xsi:type="dcterms:URI">${Mt((a=(o=e.meta)===null||o===void 0?void 0:o.source)!==null&&a!==void 0?a:"")}</dc:source>`:"")+(d?`<dcterms:license xsi:type="dcterms:URI">${Mt(d)}</dcterms:license>`:"")+(f?`<dc:rights>${Mt(f)}</dc:rights>`:"")+"</rdf:Description></rdf:RDF></metadata>"}function Vp(e){var t,n,r,s,i,o,a,l,c,u,d,f,h,y,_;let v=!((t=e.meta)===null||t===void 0)&&t.title?`${(n=e.meta)===null||n===void 0?void 0:n.title}`:"Design",x=`${(s=(r=e.meta)===null||r===void 0?void 0:r.creator)!==null&&s!==void 0?s:"Unknown"}`;!((i=e.meta)===null||i===void 0)&&i.source&&(v+=` (${e.meta.source})`);let A="";return((a=(o=e.meta)===null||o===void 0?void 0:o.license)===null||a===void 0?void 0:a.name)!=="MIT"&&((l=e.meta)===null||l===void 0?void 0:l.creator)!=="DiceBear"&&(!((c=e.meta)===null||c===void 0)&&c.title)&&(A+="Remix of "),A+=`${v} by ${x}`,!((d=(u=e.meta)===null||u===void 0?void 0:u.license)===null||d===void 0)&&d.name&&(A+=`, licensed under ${(h=(f=e.meta)===null||f===void 0?void 0:f.license)===null||h===void 0?void 0:h.name}`,!((_=(y=e.meta)===null||y===void 0?void 0:y.license)===null||_===void 0)&&_.url&&(A+=` (${e.meta.license.url})`)),A}const Po=-2147483648,Kp=2147483647;function _l(e){return e^=e<<13,e^=e>>17,e^=e<<5,e}function Wp(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0,t=_l(t);return t}function br(e=""){e=e.toString();let t=Wp(e)||1;const n=()=>t=_l(t),r=(s,i)=>Math.floor((n()-Po)/(Kp-Po)*(i+1-s)+s);return{seed:e,next:n,bool(s=50){return r(1,100)<=s},integer(s,i){return r(s,i)},pick(s,i){var o;return s.length===0?(n(),i):(o=s[r(0,s.length-1)])!==null&&o!==void 0?o:i},shuffle(s){const i=br(n().toString()),o=[...s];for(let a=o.length-1;a>0;a--){const l=i.integer(0,a);[o[a],o[l]]=[o[l],o[a]]}return o},string(s,i="abcdefghijklmnopqrstuvwxyz1234567890"){const o=br(n().toString());let a="";for(let l=0;l<s;l++)a+=i[o.integer(0,i.length-1)];return a}}}function vn(e){let t=e.attributes.viewBox.split(" "),n=parseInt(t[0]),r=parseInt(t[1]),s=parseInt(t[2]),i=parseInt(t[3]);return{x:n,y:r,width:s,height:i}}function Qp(e,t,n,r,s){let{width:i,height:o,x:a,y:l}=vn(e);const c=`<rect fill="${t}" width="${i}" height="${o}" x="${a}" y="${l}" />`;switch(r){case"solid":return c+e.body;case"gradientLinear":return`<rect fill="url(#backgroundLinear)" width="${i}" height="${o}" x="${a}" y="${l}" /><defs><linearGradient id="backgroundLinear" gradientTransform="rotate(${s} 0.5 0.5)"><stop stop-color="${t}"/><stop offset="1" stop-color="${n}"/></linearGradient></defs>`+e.body}}function Gp(e,t){let{width:n,height:r,x:s,y:i}=vn(e),o=t?(t-100)/100:0,a=(n/2+s)*o*-1,l=(r/2+i)*o*-1;return`<g transform="translate(${a} ${l}) scale(${t/100})">${e.body}</g>`}function Jp(e,t,n){let r=vn(e),s=(r.width+r.x*2)*((t??0)/100),i=(r.height+r.y*2)*((n??0)/100);return`<g transform="translate(${s} ${i})">${e.body}</g>`}function Yp(e,t){let{width:n,height:r,x:s,y:i}=vn(e);return`<g transform="rotate(${t}, ${n/2+s}, ${r/2+i})">${e.body}</g>`}function Zp(e){let{width:t,x:n}=vn(e);return`<g transform="scale(-1 1) translate(${t*-1-n*2} 0)">${e.body}</g>`}function Xp(e,t){let{width:n,height:r,x:s,y:i}=vn(e),o=t?n*t/100:0,a=t?r*t/100:0;return`<mask id="viewboxMask"><rect width="${n}" height="${r}" rx="${o}" ry="${a}" x="${s}" y="${i}" fill="#fff" /></mask><g mask="url(#viewboxMask)">${e.body}</g>`}function eg(e){const t={xmlns:"http://www.w3.org/2000/svg",...e.attributes};return Object.keys(t).map(n=>`${Mt(n)}="${Mt(t[n])}"`).join(" ")}function tg(e){const t=br(Math.random().toString()),n={};return e.body.replace(/(id="|url\(#)([a-z0-9-_]+)([")])/gi,(r,s,i,o)=>(n[i]=n[i]||t.string(8),`${s}${n[i]}${o}`))}const ng={properties:{seed:{type:"string"},flip:{type:"boolean",default:!1},rotate:{type:"integer",minimum:0,maximum:360,default:0},scale:{type:"integer",minimum:0,maximum:200,default:100},radius:{type:"integer",minimum:0,maximum:50,default:0},size:{type:"integer",minimum:1},backgroundColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"}},backgroundType:{type:"array",items:{type:"string",enum:["solid","gradientLinear"]},default:["solid"]},backgroundRotation:{type:"array",items:{type:"integer",minimum:-360,maximum:360},default:[0,360]},translateX:{type:"integer",minimum:-100,maximum:100,default:0},translateY:{type:"integer",minimum:-100,maximum:100,default:0},clip:{type:"boolean",default:!0},randomizeIds:{type:"boolean",default:!1}}};function Co(e){var t;let n={},r=(t=e.properties)!==null&&t!==void 0?t:{};return Object.keys(r).forEach(s=>{let i=r[s];typeof i=="object"&&i.default!==void 0&&(Array.isArray(i.default)?n[s]=[...i.default]:typeof i.default=="object"?n[s]={...i.default}:n[s]=i.default)}),n}function rg(e,t){var n;let r={...Co(ng),...Co((n=e.schema)!==null&&n!==void 0?n:{}),...t};return JSON.parse(JSON.stringify(r))}function xo(e){return e==="transparent"?e:`#${e}`}function sg(e,t,n){var r;let s=e.shuffle(t);s.length<=1||t.length==2&&n=="gradientLinear"?(s=t,e.next()):s=e.shuffle(t),s.length===0&&(s=["transparent"]);const i=s[0],o=(r=s[1])!==null&&r!==void 0?r:s[0];return{primary:xo(i),secondary:xo(o)}}function ig(e,t={}){var n,r,s,i,o;t=rg(e,t);const a=br(t.seed),l=e.create({prng:a,options:t}),c=a.pick((n=t.backgroundType)!==null&&n!==void 0?n:[],"solid"),{primary:u,secondary:d}=sg(a,(r=t.backgroundColor)!==null&&r!==void 0?r:[],c),f=a.integer(!((s=t.backgroundRotation)===null||s===void 0)&&s.length?Math.min(...t.backgroundRotation):0,!((i=t.backgroundRotation)===null||i===void 0)&&i.length?Math.max(...t.backgroundRotation):0);t.size&&(l.attributes.width=t.size.toString(),l.attributes.height=t.size.toString()),t.scale!==void 0&&t.scale!==100&&(l.body=Gp(l,t.scale)),t.flip&&(l.body=Zp(l)),t.rotate&&(l.body=Yp(l,t.rotate)),(t.translateX||t.translateY)&&(l.body=Jp(l,t.translateX,t.translateY)),u!=="transparent"&&d!=="transparent"&&(l.body=Qp(l,u,d,c,f)),(t.radius||t.clip)&&(l.body=Xp(l,(o=t.radius)!==null&&o!==void 0?o:0)),t.randomizeIds&&(l.body=tg(l));const h=eg(l),y=Hp(e),_=`<svg ${h}>${y}${l.body}</svg>`;return{toString:()=>_,toJson:()=>{var v;return{svg:_,extra:{primaryBackgroundColor:u,secondaryBackgroundColor:d,backgroundType:c,backgroundRotation:f,...(v=l.extra)===null||v===void 0?void 0:v.call(l)}}},toDataUri:()=>`data:image/svg+xml;utf8,${encodeURIComponent(_)}`}}const og={bite:(e,t)=>'<rect x="4" y="5" width="68" height="22" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="9" width="60" height="14" rx="2" fill="#000" fill-opacity=".6"/><path fill-rule="evenodd" clip-rule="evenodd" d="m20 17 6-8H14l6 8ZM32 17l6-8H26l6 8ZM44 17l6-8H38l6 8ZM56 17l6-8H50l6 8Z" fill="#E1E6E8"/>',diagram:(e,t)=>'<rect x="4" y="4" width="68" height="24" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="8" width="60" height="16" rx="2" fill="#000" fill-opacity=".8"/><path d="M9 17h11l2-4 3 7 4-8 2 9 3-11 3 10 3-3h15l3-4 2 7 3-3h4" stroke="#4EFAC9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>',grill01:(e,t)=>'<g fill="#000" fill-opacity=".6"><rect x="12" y="12" width="4" height="8" rx="2"/><rect x="36" y="12" width="4" height="8" rx="2"/><rect x="24" y="12" width="4" height="8" rx="2"/><rect x="48" y="12" width="4" height="8" rx="2"/><rect x="60" y="12" width="4" height="8" rx="2"/></g>',grill02:(e,t)=>'<g fill="#000" fill-opacity=".6"><rect x="28" y="10" width="6" height="14" rx="2"/><rect x="14" y="10" width="6" height="14" rx="2"/><rect x="42" y="10" width="6" height="14" rx="2"/><rect x="56" y="10" width="6" height="14" rx="2"/></g>',grill03:(e,t)=>'<rect x="4" y="5" width="68" height="22" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="9" width="60" height="14" rx="2" fill="#fff"/><path fill="#000" fill-opacity=".1" d="M18 9h4v14h-4zM42 9h4v14h-4zM30 9h4v14h-4zM54 9h4v14h-4z"/>',smile01:(e,t)=>'<path d="M27.05 8.44a2 2 0 1 1 3.9-.88C31.72 10.96 34.4 13 38 13c3.6 0 6.28-2.04 7.05-5.44a2 2 0 1 1 3.9.88C47.75 13.7 43.43 17 38 17s-9.76-3.3-10.95-8.56Z" fill="#000" fill-opacity=".6"/>',smile02:(e,t)=>'<path fill-rule="evenodd" clip-rule="evenodd" d="M18 10.22C18 21.78 24.47 28 38 28c13.52 0 20-6.34 20-17.78C58 9.5 57.17 8 55 8H21c-2.05 0-3 1.38-3 2.22Z" fill="#000" fill-opacity=".8"/><mask id="mouthSmile02-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="18" y="8" width="40" height="20"><path fill-rule="evenodd" clip-rule="evenodd" d="M18 10.22C18 21.78 24.47 28 38 28c13.52 0 20-6.34 20-17.78C58 9.5 57.17 8 55 8H21c-2.05 0-3 1.38-3 2.22Z" fill="#fff"/></mask><g mask="url(#mouthSmile02-a)"><rect x="30" y="2" width="16" height="14" rx="2" fill="#fff"/></g>',square01:(e,t)=>'<rect x="24" y="6" width="27" height="8" rx="4" fill="#000" fill-opacity=".8"/>',square02:(e,t)=>'<rect x="16" y="8" width="44" height="4" rx="2" fill="#000" fill-opacity=".8"/>'},ag={bulging:(e,t)=>'<circle cx="28" cy="24" r="18" fill="#000" fill-opacity=".2"/><circle cx="74" cy="24" r="18" fill="#000" fill-opacity=".2"/><circle cx="28" cy="24" r="15" fill="#F1EEDA"/><circle cx="74" cy="24" r="15" fill="#F1EEDA"/><rect x="26" y="15" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/><rect x="74" y="15" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/>',dizzy:(e,t)=>'<path d="m25 27.2 5.5 5.5c.5.4 1.2.4 1.6 0l1.6-1.6c.4-.5.4-1.2 0-1.6L28.2 24l5.5-5.5c.4-.5.4-1.2 0-1.6l-1.6-1.6c-.5-.4-1.2-.4-1.6 0L25 20.8l-5.5-5.5c-.5-.4-1.2-.4-1.6 0l-1.6 1.6c-.4.4-.4 1.1 0 1.6l5.5 5.5-5.5 5.5c-.4.5-.4 1.2 0 1.6l1.6 1.6c.5.4 1.2.4 1.6 0l5.5-5.5ZM79 27.2l5.5 5.5c.5.4 1.2.4 1.6 0l1.6-1.6c.4-.5.4-1.2 0-1.6L82.2 24l5.5-5.5c.4-.5.4-1.2 0-1.6l-1.6-1.6c-.5-.4-1.2-.4-1.6 0L79 20.8l-5.5-5.5c-.5-.4-1.2-.4-1.6 0l-1.6 1.6c-.4.4-.4 1.1 0 1.6l5.5 5.5-5.5 5.5c-.4.5-.4 1.2 0 1.6l1.6 1.6c.5.4 1.2.4 1.6 0l5.5-5.5Z" fill="#000" fill-opacity=".8"/>',eva:(e,t)=>'<g fill-rule="evenodd" clip-rule="evenodd"><path d="M53 0c34.75 0 49 17.47 49 31 0 13.53-19.59 17-49 17-29.05 0-51-3.47-51-17S17.11 0 53 0Z" fill="#000" fill-opacity=".8"/><path d="M28.82 34.65c-6.53-1.35-11.24-6.34-10.52-11.14.72-4.79 6.6-7.58 13.12-6.23 6.53 1.36 11.24 6.35 10.52 11.15-.72 4.8-6.6 7.59-13.12 6.23ZM75.42 34.65c-6.52 1.36-12.4-1.43-13.12-6.23-.72-4.8 4-9.8 10.52-11.15 6.52-1.35 12.4 1.44 13.12 6.24.72 4.81-4 9.8-10.52 11.15Z" fill="#25A6F5"/></g>',frame1:(e,t)=>'<rect y="4" width="104" height="42" rx="4" fill="#000" fill-opacity=".8"/><rect x="28" y="25" width="10" height="11" rx="2" fill="#8BDDFF"/><rect x="66" y="25" width="10" height="11" rx="2" fill="#8BDDFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21 4h8L12 46H4L21 4Z" fill="#fff" fill-opacity=".4"/>',frame2:(e,t)=>'<rect x="8" y="10" width="88" height="36" rx="4" fill="#000" fill-opacity=".8"/><rect x="28" y="21" width="10" height="17" rx="2" fill="#5EF2B8"/><rect x="66" y="21" width="10" height="17" rx="2" fill="#5EF2B8"/><path fill-rule="evenodd" clip-rule="evenodd" d="M83 10h5L76 46h-5l12-36Z" fill="#fff" fill-opacity=".4"/>',glow:(e,t)=>'<g fill="#fff"><circle cx="21" cy="30" r="15" fill-opacity=".1"/><circle cx="83" cy="30" r="15" fill-opacity=".1"/><circle cx="21" cy="30" r="12" fill-opacity=".1"/><circle cx="83" cy="30" r="12" fill-opacity=".1"/><circle cx="21" cy="30" r="6" fill-opacity=".8"/><circle cx="83" cy="30" r="6" fill-opacity=".8"/><circle cx="21" cy="30" r="3" fill-opacity=".8"/><circle cx="83" cy="30" r="3" fill-opacity=".8"/></g>',happy:(e,t)=>'<path d="m18 19 12-2M20 31c0-3.31 2.9-6 7-6 3.1 0 6 2.69 6 6M86 20l-12-3M84 31c0-3.31-2.9-6-6-6-4.1 0-7 2.69-7 6" stroke="#000" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>',hearts:(e,t)=>'<path d="M29.27 9.68c-2.55.13-4.96 2.24-6.25 4.15-1.48-1.76-4.1-3.6-6.65-3.47-5.48.28-8.85 3.8-8.63 8.1.3 5.72 4.88 8.89 9.7 12.24 1.71 1.15 5 4.15 5.42 4.82.42.67 2.14.6 2.58-.13a37.8 37.8 0 0 1 4.9-5.36c4.43-3.84 8.66-7.47 8.36-13.2-.23-4.3-3.95-7.44-9.43-7.15ZM87.63 10.36c-2.55-.14-5.17 1.7-6.65 3.47-1.3-1.9-3.7-4.02-6.25-4.15-5.48-.29-9.2 2.86-9.43 7.16-.3 5.72 3.93 9.35 8.36 13.19 1.6 1.32 4.55 4.64 4.9 5.36.35.7 2.06.82 2.58.13.51-.7 3.7-3.67 5.42-4.82 4.81-3.35 9.4-6.52 9.7-12.24.22-4.3-3.15-7.82-8.63-8.1Z" fill="#FF5353" fill-opacity=".8"/>',robocop:(e,t)=>'<rect x="7" y="16" width="91" height="16" rx="4" fill="#000" fill-opacity=".8"/><mask id="eyesRobocop-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="7" y="16" width="91" height="16"><rect x="7" y="16" width="91" height="16" rx="4" fill="#fff"/></mask><g mask="url(#eyesRobocop-a)" fill-rule="evenodd" clip-rule="evenodd" fill="#fff" fill-opacity=".8"><path d="M76 7h18L82 37H64L76 7ZM52 7h9L49 37h-9L52 7Z"/></g>',round:(e,t)=>'<g fill="#fff"><circle cx="24" cy="30" r="6"/><circle cx="80" cy="30" r="6"/></g>',roundFrame01:(e,t)=>'<rect y="12" width="104" height="32" rx="16" fill="#000" fill-opacity=".8"/><rect x="24" y="22" width="10" height="12" rx="2" fill="#F4F4F4"/><rect x="70" y="22" width="10" height="12" rx="2" fill="#F4F4F4"/>',roundFrame02:(e,t)=>'<rect y="11" width="104" height="34" rx="17" fill="#000" fill-opacity=".8"/><circle cx="29" cy="28" r="13" fill="#F1EEDA"/><circle cx="75" cy="28" r="13" fill="#F1EEDA"/><rect x="24" y="23" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/><rect x="70" y="23" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/>',sensor:(e,t)=>'<path d="M28 44a20 20 0 0 0 19.9-18h41.52a5 5 0 1 0 0-4H47.9A20 20 0 1 0 28 44Z" fill="#000" fill-opacity=".2"/><circle cx="94" cy="24" r="2" fill="#fff"/><circle cx="28" cy="24" r="16" fill="#000" fill-opacity=".6"/><circle cx="34" cy="16" r="3" fill="#fff"/>',shade01:(e,t)=>'<path d="M96 2H8c-4.5 0-8 3.5-8 8.03V28c0 4.5 3.5 8 8 8h13c8 0 11 8 18 8h27c7 0 9-8 17-8h13c4.5 0 8-3.5 8-8V10c0-4.5-3.5-8-8-8Z" fill="#000" fill-opacity=".8"/><path d="M87 14H17c-3.5 0-5 3-5 5v2c0 2 1.5 5 5 5h12c6 0 11.62 8 17 8h14c5.38 0 9-8 15-8h12c3.5 0 5-3 5-5v-2c0-2-1.5-5-5-5Z" fill="#FF3D3D"/><path d="M22.44 36.09 37.26 2h11L31.4 40.78l-.76-.58c-2.38-1.82-4.83-3.69-8.2-4.11ZM11.48 36 26.26 2h4L15.48 36h-4Z" fill="#fff" fill-opacity=".2"/>'},lg=Object.freeze(Object.defineProperty({__proto__:null,eyes:ag,mouth:og},Symbol.toStringTag,{value:"Module"}));function Ao({prng:e,group:t,values:n=[]}){const r=lg,s=e.pick(n);if(s&&r[t][s])return{name:s,value:r[t][s]}}function cg({prng:e,options:t}){const n=Ao({prng:e,group:"mouth",values:t.mouth}),r=Ao({prng:e,group:"eyes",values:t.eyes});return{mouth:n,eyes:r}}function ug({prng:e,options:t}){return{}}const dg={$schema:"http://json-schema.org/draft-07/schema#",properties:{backgroundColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"},default:["ffb300","1e88e5","546e7a","6d4c41","00acc1","f4511e","5e35b1","43a047","757575","3949ab","039be5","7cb342","c0ca33","fb8c00","d81b60","8e24aa","e53935","00897b","fdd835"]},eyes:{type:"array",items:{type:"string",enum:["bulging","dizzy","eva","frame1","frame2","glow","happy","hearts","robocop","round","roundFrame01","roundFrame02","sensor","shade01"]},default:["bulging","dizzy","eva","frame1","frame2","glow","happy","hearts","robocop","round","roundFrame01","roundFrame02","sensor","shade01"]},mouth:{type:"array",items:{type:"string",enum:["bite","diagram","grill01","grill02","grill03","smile01","smile02","square01","square02"]},default:["bite","diagram","grill01","grill02","grill03","smile01","smile02","square01","square02"]}}},fg={title:"Bottts",creator:"Pablo Stanley",source:"https://bottts.com/",homepage:"https://twitter.com/pablostanley",license:{name:"Free for personal and commercial use",url:"https://bottts.com/"}},hg=({prng:e,options:t})=>{var n,r,s,i;const o=cg({prng:e,options:t}),a=ug({prng:e,options:t});return{attributes:{viewBox:"0 0 120 120",fill:"none","shape-rendering":"auto"},body:`<g transform="translate(22 68)">${(r=(n=o.mouth)===null||n===void 0?void 0:n.value(o,a))!==null&&r!==void 0?r:""}</g><g transform="translate(8 20)">${(i=(s=o.eyes)===null||s===void 0?void 0:s.value(o,a))!==null&&i!==void 0?i:""}</g>`,extra:()=>({...Object.entries(o).reduce((l,[c,u])=>(l[c]=u==null?void 0:u.name,l),{}),...Object.entries(a).reduce((l,[c,u])=>(l[`${c}Color`]=u,l),{})})}},pg=Object.freeze(Object.defineProperty({__proto__:null,create:hg,meta:fg,schema:dg},Symbol.toStringTag,{value:"Module"}));function Ps(e){switch(e){case"svg":return"image/svg+xml";case"png":case"jpeg":case"webp":case"avif":return`image/${e}`;default:throw new Error(`Unsupported format: ${e}`)}}function gg(e,t=512){let n=t;return e=e.replace(/<svg([^>]*)/,(r,s)=>{const i=s.match(/width="([^"]+)"/);return i&&(n=parseInt(i[1])),s.match(/width="([^"]+)"/)?s=s.replace(/width="([^"]+)"/,`width="${n}"`):s+=` width="${n}"`,s.match(/height="([^"]+)"/)?s=s.replace(/height="([^"]+)"/,`height="${n}"`):s+=` height="${n}"`,`<svg${s}`}),{svg:e,size:n}}const mg=e=>yg(e,"jpeg");function yg(e,t){const n=typeof e=="string"?e:e.toString();return{toDataUri:()=>vl(n,t),toArrayBuffer:()=>_g(n,t)}}async function vl(e,t,n){return t==="svg"?`data:${Ps(t)};utf8,${encodeURIComponent(e)}`:(await wl(e,t)).toDataURL(Ps(t))}async function _g(e,t,n){const r=await wl(e,t);return await new Promise((s,i)=>{r.toBlob(o=>{o?s(o.arrayBuffer()):i(new Error("Could not create blob"))},Ps(t))})}async function wl(e,t,n){const{svg:r,size:s}=gg(e),i=document.createElement("canvas");i.width=s,i.height=s;const o=i.getContext("2d");if(o===null)throw new Error("Could not get canvas context");t==="jpeg"&&(o.fillStyle="white",o.fillRect(0,0,s,s));const a=document.createElement("img");return a.width=s,a.height=s,a.setAttribute("src",await vl(r,"svg")),new Promise((l,c)=>{a.onload=()=>{o.drawImage(a,0,0,s,s),l(i)},a.onerror=u=>c(u)})}class vg{async generateAvatarByString(t){const n=ig(pg,{seed:t}),r=await mg(n).toArrayBuffer(),s=new Uint8Array(r);return new File([s],`${t}.jpeg`,{type:"image/jpeg"})}}const wg={quizService:new qp,avatarService:new vg},bl=Du(Bd);bl.use(Vf).provide("container",wg).provide("notificationProvider",qd);bl.mount("#app");export{eh as g};
