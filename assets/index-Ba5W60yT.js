var vl=Object.defineProperty;var bl=(e,t,n)=>t in e?vl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var er=(e,t,n)=>bl(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function xs(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ee={},on=[],st=()=>{},wl=()=>!1,Er=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ps=e=>e.startsWith("onUpdate:"),be=Object.assign,Cs=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},El=Object.prototype.hasOwnProperty,J=(e,t)=>El.call(e,t),F=Array.isArray,an=e=>Sr(e)==="[object Map]",Co=e=>Sr(e)==="[object Set]",B=e=>typeof e=="function",ce=e=>typeof e=="string",Ct=e=>typeof e=="symbol",ie=e=>e!==null&&typeof e=="object",ko=e=>(ie(e)||B(e))&&B(e.then)&&B(e.catch),Ro=Object.prototype.toString,Sr=e=>Ro.call(e),Sl=e=>Sr(e).slice(8,-1),To=e=>Sr(e)==="[object Object]",ks=e=>ce(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,An=xs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},xl=/-(\w)/g,Pt=xr(e=>e.replace(xl,(t,n)=>n?n.toUpperCase():"")),Pl=/\B([A-Z])/g,Bt=xr(e=>e.replace(Pl,"-$1").toLowerCase()),Ao=xr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Dr=xr(e=>e?`on${Ao(e)}`:""),xt=(e,t)=>!Object.is(e,t),cr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Oo=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},ts=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ii;const Pr=()=>ii||(ii=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Rs(e){if(F(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=ce(r)?Tl(r):Rs(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(ce(e)||ie(e))return e}const Cl=/;(?![^(]*\))/g,kl=/:([^]+)/,Rl=/\/\*[^]*?\*\//g;function Tl(e){const t={};return e.replace(Rl,"").split(Cl).forEach(n=>{if(n){const r=n.split(kl);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ts(e){let t="";if(ce(e))t=e;else if(F(e))for(let n=0;n<e.length;n++){const r=Ts(e[n]);r&&(t+=r+" ")}else if(ie(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Al="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ol=xs(Al);function $o(e){return!!e||e===""}const Io=e=>!!(e&&e.__v_isRef===!0),Dt=e=>ce(e)?e:e==null?"":F(e)||ie(e)&&(e.toString===Ro||!B(e.toString))?Io(e)?Dt(e.value):JSON.stringify(e,jo,2):String(e),jo=(e,t)=>Io(t)?jo(e,t.value):an(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Nr(r,i)+" =>"]=s,n),{})}:Co(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Nr(n))}:Ct(t)?Nr(t):ie(t)&&!F(t)&&!To(t)?String(t):t,Nr=(e,t="")=>{var n;return Ct(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Me;class $l{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Me,!t&&Me&&(this.index=(Me.scopes||(Me.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Me;try{return Me=this,t()}finally{Me=n}}}on(){Me=this}off(){Me=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Il(){return Me}let re;const Ur=new WeakSet;class Lo{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Me&&Me.active&&Me.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ur.has(this)&&(Ur.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Do(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,oi(this),No(this);const t=re,n=We;re=this,We=!0;try{return this.fn()}finally{Uo(this),re=t,We=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)$s(t);this.deps=this.depsTail=void 0,oi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ur.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ns(this)&&this.run()}get dirty(){return ns(this)}}let Mo=0,On,$n;function Do(e,t=!1){if(e.flags|=8,t){e.next=$n,$n=e;return}e.next=On,On=e}function As(){Mo++}function Os(){if(--Mo>0)return;if($n){let t=$n;for($n=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;On;){let t=On;for(On=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function No(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Uo(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),$s(r),jl(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function ns(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Fo(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Fo(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Bn))return;e.globalVersion=Bn;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!ns(e)){e.flags&=-3;return}const n=re,r=We;re=e,We=!0;try{No(e);const s=e.fn(e._value);(t.version===0||xt(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{re=n,We=r,Uo(e),e.flags&=-3}}function $s(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)$s(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function jl(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let We=!0;const Bo=[];function kt(){Bo.push(We),We=!1}function Rt(){const e=Bo.pop();We=e===void 0?!0:e}function oi(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=re;re=void 0;try{t()}finally{re=n}}}let Bn=0;class Ll{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Is{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!re||!We||re===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==re)n=this.activeLink=new Ll(re,this),re.deps?(n.prevDep=re.depsTail,re.depsTail.nextDep=n,re.depsTail=n):re.deps=re.depsTail=n,zo(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=re.depsTail,n.nextDep=void 0,re.depsTail.nextDep=n,re.depsTail=n,re.deps===n&&(re.deps=r)}return n}trigger(t){this.version++,Bn++,this.notify(t)}notify(t){As();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Os()}}}function zo(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)zo(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const rs=new WeakMap,Mt=Symbol(""),ss=Symbol(""),zn=Symbol("");function me(e,t,n){if(We&&re){let r=rs.get(e);r||rs.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new Is),s.map=r,s.key=n),s.track()}}function dt(e,t,n,r,s,i){const o=rs.get(e);if(!o){Bn++;return}const a=l=>{l&&l.trigger()};if(As(),t==="clear")o.forEach(a);else{const l=F(e),c=l&&ks(n);if(l&&n==="length"){const u=Number(r);o.forEach((f,d)=>{(d==="length"||d===zn||!Ct(d)&&d>=u)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(zn)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Mt)),an(e)&&a(o.get(ss)));break;case"delete":l||(a(o.get(Mt)),an(e)&&a(o.get(ss)));break;case"set":an(e)&&a(o.get(Mt));break}}Os()}function Kt(e){const t=G(e);return t===e?t:(me(t,"iterate",zn),qe(e)?t:t.map(ye))}function Cr(e){return me(e=G(e),"iterate",zn),e}const Ml={__proto__:null,[Symbol.iterator](){return Fr(this,Symbol.iterator,ye)},concat(...e){return Kt(this).concat(...e.map(t=>F(t)?Kt(t):t))},entries(){return Fr(this,"entries",e=>(e[1]=ye(e[1]),e))},every(e,t){return lt(this,"every",e,t,void 0,arguments)},filter(e,t){return lt(this,"filter",e,t,n=>n.map(ye),arguments)},find(e,t){return lt(this,"find",e,t,ye,arguments)},findIndex(e,t){return lt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return lt(this,"findLast",e,t,ye,arguments)},findLastIndex(e,t){return lt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return lt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Br(this,"includes",e)},indexOf(...e){return Br(this,"indexOf",e)},join(e){return Kt(this).join(e)},lastIndexOf(...e){return Br(this,"lastIndexOf",e)},map(e,t){return lt(this,"map",e,t,void 0,arguments)},pop(){return wn(this,"pop")},push(...e){return wn(this,"push",e)},reduce(e,...t){return ai(this,"reduce",e,t)},reduceRight(e,...t){return ai(this,"reduceRight",e,t)},shift(){return wn(this,"shift")},some(e,t){return lt(this,"some",e,t,void 0,arguments)},splice(...e){return wn(this,"splice",e)},toReversed(){return Kt(this).toReversed()},toSorted(e){return Kt(this).toSorted(e)},toSpliced(...e){return Kt(this).toSpliced(...e)},unshift(...e){return wn(this,"unshift",e)},values(){return Fr(this,"values",ye)}};function Fr(e,t,n){const r=Cr(e),s=r[t]();return r!==e&&!qe(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const Dl=Array.prototype;function lt(e,t,n,r,s,i){const o=Cr(e),a=o!==e&&!qe(e),l=o[t];if(l!==Dl[t]){const f=l.apply(e,i);return a?ye(f):f}let c=n;o!==e&&(a?c=function(f,d){return n.call(this,ye(f),d,e)}:n.length>2&&(c=function(f,d){return n.call(this,f,d,e)}));const u=l.call(o,c,r);return a&&s?s(u):u}function ai(e,t,n,r){const s=Cr(e);let i=n;return s!==e&&(qe(e)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,e)}):i=function(o,a,l){return n.call(this,o,ye(a),l,e)}),s[t](i,...r)}function Br(e,t,n){const r=G(e);me(r,"iterate",zn);const s=r[t](...n);return(s===-1||s===!1)&&Ms(n[0])?(n[0]=G(n[0]),r[t](...n)):s}function wn(e,t,n=[]){kt(),As();const r=G(e)[t].apply(e,n);return Os(),Rt(),r}const Nl=xs("__proto__,__v_isRef,__isVue"),qo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ct));function Ul(e){Ct(e)||(e=String(e));const t=G(this);return me(t,"has",e),t.hasOwnProperty(e)}class Ho{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Jl:Go:i?Wo:Ko).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=F(t);if(!s){let l;if(o&&(l=Ml[n]))return l;if(n==="hasOwnProperty")return Ul}const a=Reflect.get(t,n,ve(t)?t:r);return(Ct(n)?qo.has(n):Nl(n))||(s||me(t,"get",n),i)?a:ve(a)?o&&ks(n)?a:a.value:ie(a)?s?Qo(a):kr(a):a}}class Vo extends Ho{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._isShallow){const l=Nt(i);if(!qe(r)&&!Nt(r)&&(i=G(i),r=G(r)),!F(t)&&ve(i)&&!ve(r))return l?!1:(i.value=r,!0)}const o=F(t)&&ks(n)?Number(n)<t.length:J(t,n),a=Reflect.set(t,n,r,ve(t)?t:s);return t===G(s)&&(o?xt(r,i)&&dt(t,"set",n,r):dt(t,"add",n,r)),a}deleteProperty(t,n){const r=J(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&dt(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!Ct(n)||!qo.has(n))&&me(t,"has",n),r}ownKeys(t){return me(t,"iterate",F(t)?"length":Mt),Reflect.ownKeys(t)}}class Fl extends Ho{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Bl=new Vo,zl=new Fl,ql=new Vo(!0);const is=e=>e,tr=e=>Reflect.getPrototypeOf(e);function Hl(e,t,n){return function(...r){const s=this.__v_raw,i=G(s),o=an(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...r),u=n?is:t?os:ye;return!t&&me(i,"iterate",l?ss:Mt),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function nr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Vl(e,t){const n={get(s){const i=this.__v_raw,o=G(i),a=G(s);e||(xt(s,a)&&me(o,"get",s),me(o,"get",a));const{has:l}=tr(o),c=t?is:e?os:ye;if(l.call(o,s))return c(i.get(s));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!e&&me(G(s),"iterate",Mt),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=G(i),a=G(s);return e||(xt(s,a)&&me(o,"has",s),me(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=G(a),c=t?is:e?os:ye;return!e&&me(l,"iterate",Mt),a.forEach((u,f)=>s.call(i,c(u),c(f),o))}};return be(n,e?{add:nr("add"),set:nr("set"),delete:nr("delete"),clear:nr("clear")}:{add(s){!t&&!qe(s)&&!Nt(s)&&(s=G(s));const i=G(this);return tr(i).has.call(i,s)||(i.add(s),dt(i,"add",s,s)),this},set(s,i){!t&&!qe(i)&&!Nt(i)&&(i=G(i));const o=G(this),{has:a,get:l}=tr(o);let c=a.call(o,s);c||(s=G(s),c=a.call(o,s));const u=l.call(o,s);return o.set(s,i),c?xt(i,u)&&dt(o,"set",s,i):dt(o,"add",s,i),this},delete(s){const i=G(this),{has:o,get:a}=tr(i);let l=o.call(i,s);l||(s=G(s),l=o.call(i,s)),a&&a.call(i,s);const c=i.delete(s);return l&&dt(i,"delete",s,void 0),c},clear(){const s=G(this),i=s.size!==0,o=s.clear();return i&&dt(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Hl(s,e,t)}),n}function js(e,t){const n=Vl(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(J(n,s)&&s in r?n:r,s,i)}const Kl={get:js(!1,!1)},Wl={get:js(!1,!0)},Gl={get:js(!0,!1)};const Ko=new WeakMap,Wo=new WeakMap,Go=new WeakMap,Jl=new WeakMap;function Ql(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Yl(e){return e.__v_skip||!Object.isExtensible(e)?0:Ql(Sl(e))}function kr(e){return Nt(e)?e:Ls(e,!1,Bl,Kl,Ko)}function Jo(e){return Ls(e,!1,ql,Wl,Wo)}function Qo(e){return Ls(e,!0,zl,Gl,Go)}function Ls(e,t,n,r,s){if(!ie(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=Yl(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function ln(e){return Nt(e)?ln(e.__v_raw):!!(e&&e.__v_isReactive)}function Nt(e){return!!(e&&e.__v_isReadonly)}function qe(e){return!!(e&&e.__v_isShallow)}function Ms(e){return e?!!e.__v_raw:!1}function G(e){const t=e&&e.__v_raw;return t?G(t):e}function Zl(e){return!J(e,"__v_skip")&&Object.isExtensible(e)&&Oo(e,"__v_skip",!0),e}const ye=e=>ie(e)?kr(e):e,os=e=>ie(e)?Qo(e):e;function ve(e){return e?e.__v_isRef===!0:!1}function Ue(e){return Yo(e,!1)}function Xl(e){return Yo(e,!0)}function Yo(e,t){return ve(e)?e:new ec(e,t)}class ec{constructor(t,n){this.dep=new Is,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:G(t),this._value=n?t:ye(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||qe(t)||Nt(t);t=r?t:G(t),xt(t,n)&&(this._rawValue=t,this._value=r?t:ye(t),this.dep.trigger())}}function _e(e){return ve(e)?e.value:e}const tc={get:(e,t,n)=>t==="__v_raw"?e:_e(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return ve(s)&&!ve(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function Zo(e){return ln(e)?e:new Proxy(e,tc)}class nc{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Is(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Bn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&re!==this)return Do(this,!0),!0}get value(){const t=this.dep.track();return Fo(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function rc(e,t,n=!1){let r,s;return B(e)?r=e:(r=e.get,s=e.set),new nc(r,s,n)}const rr={},hr=new WeakMap;let $t;function sc(e,t=!1,n=$t){if(n){let r=hr.get(n);r||hr.set(n,r=[]),r.push(e)}}function ic(e,t,n=ee){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,c=x=>s?x:qe(x)||s===!1||s===0?ht(x,1):ht(x);let u,f,d,h,y=!1,_=!1;if(ve(e)?(f=()=>e.value,y=qe(e)):ln(e)?(f=()=>c(e),y=!0):F(e)?(_=!0,y=e.some(x=>ln(x)||qe(x)),f=()=>e.map(x=>{if(ve(x))return x.value;if(ln(x))return c(x);if(B(x))return l?l(x,2):x()})):B(e)?t?f=l?()=>l(e,2):e:f=()=>{if(d){kt();try{d()}finally{Rt()}}const x=$t;$t=u;try{return l?l(e,3,[h]):e(h)}finally{$t=x}}:f=st,t&&s){const x=f,L=s===!0?1/0:s;f=()=>ht(x(),L)}const w=Il(),k=()=>{u.stop(),w&&w.active&&Cs(w.effects,u)};if(i&&t){const x=t;t=(...L)=>{x(...L),k()}}let R=_?new Array(e.length).fill(rr):rr;const P=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(t){const L=u.run();if(s||y||(_?L.some((Q,q)=>xt(Q,R[q])):xt(L,R))){d&&d();const Q=$t;$t=u;try{const q=[L,R===rr?void 0:_&&R[0]===rr?[]:R,h];l?l(t,3,q):t(...q),R=L}finally{$t=Q}}}else u.run()};return a&&a(P),u=new Lo(f),u.scheduler=o?()=>o(P,!1):P,h=x=>sc(x,!1,u),d=u.onStop=()=>{const x=hr.get(u);if(x){if(l)l(x,4);else for(const L of x)L();hr.delete(u)}},t?r?P(!0):R=u.run():o?o(P.bind(null,!0),!0):u.run(),k.pause=u.pause.bind(u),k.resume=u.resume.bind(u),k.stop=k,k}function ht(e,t=1/0,n){if(t<=0||!ie(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,ve(e))ht(e.value,t,n);else if(F(e))for(let r=0;r<e.length;r++)ht(e[r],t,n);else if(Co(e)||an(e))e.forEach(r=>{ht(r,t,n)});else if(To(e)){for(const r in e)ht(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&ht(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Jn(e,t,n,r){try{return r?e(...r):e()}catch(s){Rr(s,t,n)}}function it(e,t,n,r){if(B(e)){const s=Jn(e,t,n,r);return s&&ko(s)&&s.catch(i=>{Rr(i,t,n)}),s}if(F(e)){const s=[];for(let i=0;i<e.length;i++)s.push(it(e[i],t,n,r));return s}}function Rr(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||ee;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,l,c)===!1)return}a=a.parent}if(i){kt(),Jn(i,null,10,[e,l,c]),Rt();return}}oc(e,n,s,r,o)}function oc(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const Pe=[];let tt=-1;const cn=[];let vt=null,tn=0;const Xo=Promise.resolve();let pr=null;function ea(e){const t=pr||Xo;return e?t.then(this?e.bind(this):e):t}function ac(e){let t=tt+1,n=Pe.length;for(;t<n;){const r=t+n>>>1,s=Pe[r],i=qn(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function Ds(e){if(!(e.flags&1)){const t=qn(e),n=Pe[Pe.length-1];!n||!(e.flags&2)&&t>=qn(n)?Pe.push(e):Pe.splice(ac(t),0,e),e.flags|=1,ta()}}function ta(){pr||(pr=Xo.then(ra))}function lc(e){F(e)?cn.push(...e):vt&&e.id===-1?vt.splice(tn+1,0,e):e.flags&1||(cn.push(e),e.flags|=1),ta()}function li(e,t,n=tt+1){for(;n<Pe.length;n++){const r=Pe[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Pe.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function na(e){if(cn.length){const t=[...new Set(cn)].sort((n,r)=>qn(n)-qn(r));if(cn.length=0,vt){vt.push(...t);return}for(vt=t,tn=0;tn<vt.length;tn++){const n=vt[tn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}vt=null,tn=0}}const qn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ra(e){try{for(tt=0;tt<Pe.length;tt++){const t=Pe[tt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Jn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;tt<Pe.length;tt++){const t=Pe[tt];t&&(t.flags&=-2)}tt=-1,Pe.length=0,na(),pr=null,(Pe.length||cn.length)&&ra()}}let ze=null,sa=null;function gr(e){const t=ze;return ze=e,sa=e&&e.type.__scopeId||null,t}function ia(e,t=ze,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&yi(-1);const i=gr(t);let o;try{o=e(...s)}finally{gr(i),r._d&&yi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function oa(e,t){if(ze===null)return e;const n=$r(ze),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,o,a,l=ee]=t[s];i&&(B(i)&&(i={mounted:i,updated:i}),i.deep&&ht(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Tt(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(kt(),it(l,n,8,[e.el,a,e,t]),Rt())}}const cc=Symbol("_vte"),uc=e=>e.__isTeleport;function Ns(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ns(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Fe(e,t){return B(e)?be({name:e.name},t,{setup:e}):e}function aa(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function mr(e,t,n,r,s=!1){if(F(e)){e.forEach((y,_)=>mr(y,t&&(F(t)?t[_]:t),n,r,s));return}if(In(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&mr(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?$r(r.component):r.el,o=s?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===ee?a.refs={}:a.refs,f=a.setupState,d=G(f),h=f===ee?()=>!1:y=>J(d,y);if(c!=null&&c!==l&&(ce(c)?(u[c]=null,h(c)&&(f[c]=null)):ve(c)&&(c.value=null)),B(l))Jn(l,a,12,[o,u]);else{const y=ce(l),_=ve(l);if(y||_){const w=()=>{if(e.f){const k=y?h(l)?f[l]:u[l]:l.value;s?F(k)&&Cs(k,i):F(k)?k.includes(i)||k.push(i):y?(u[l]=[i],h(l)&&(f[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else y?(u[l]=o,h(l)&&(f[l]=o)):_&&(l.value=o,e.k&&(u[e.k]=o))};o?(w.id=-1,je(w,n)):w()}}}Pr().requestIdleCallback;Pr().cancelIdleCallback;const In=e=>!!e.type.__asyncLoader,la=e=>e.type.__isKeepAlive;function fc(e,t){ca(e,"a",t)}function dc(e,t){ca(e,"da",t)}function ca(e,t,n=Ce){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Tr(t,r,n),n){let s=n.parent;for(;s&&s.parent;)la(s.parent.vnode)&&hc(r,t,n,s),s=s.parent}}function hc(e,t,n,r){const s=Tr(t,e,r,!0);Fs(()=>{Cs(r[t],s)},n)}function Tr(e,t,n=Ce,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{kt();const a=Qn(n),l=it(t,n,e,o);return a(),Rt(),l});return r?s.unshift(i):s.push(i),i}}const pt=e=>(t,n=Ce)=>{(!Vn||e==="sp")&&Tr(e,(...r)=>t(...r),n)},pc=pt("bm"),yn=pt("m"),gc=pt("bu"),Us=pt("u"),mc=pt("bum"),Fs=pt("um"),yc=pt("sp"),_c=pt("rtg"),vc=pt("rtc");function bc(e,t=Ce){Tr("ec",e,t)}const wc=Symbol.for("v-ndc");function Bs(e,t,n,r){let s;const i=n,o=F(e);if(o||ce(e)){const a=o&&ln(e);let l=!1;a&&(l=!qe(e),e=Cr(e)),s=new Array(e.length);for(let c=0,u=e.length;c<u;c++)s[c]=t(l?ye(e[c]):e[c],c,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,i)}else if(ie(e))if(e[Symbol.iterator])s=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=t(e[u],u,l,i)}}else s=[];return s}const as=e=>e?Oa(e)?$r(e):as(e.parent):null,jn=be(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>as(e.parent),$root:e=>as(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>fa(e),$forceUpdate:e=>e.f||(e.f=()=>{Ds(e.update)}),$nextTick:e=>e.n||(e.n=ea.bind(e.proxy)),$watch:e=>zc.bind(e)}),zr=(e,t)=>e!==ee&&!e.__isScriptSetup&&J(e,t),Ec={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(zr(r,t))return o[t]=1,r[t];if(s!==ee&&J(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&J(c,t))return o[t]=3,i[t];if(n!==ee&&J(n,t))return o[t]=4,n[t];ls&&(o[t]=0)}}const u=jn[t];let f,d;if(u)return t==="$attrs"&&me(e.attrs,"get",""),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==ee&&J(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,J(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return zr(s,t)?(s[t]=n,!0):r!==ee&&J(r,t)?(r[t]=n,!0):J(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==ee&&J(e,o)||zr(t,o)||(a=i[0])&&J(a,o)||J(r,o)||J(jn,o)||J(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:J(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ci(e){return F(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ls=!0;function Sc(e){const t=fa(e),n=e.proxy,r=e.ctx;ls=!1,t.beforeCreate&&ui(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:y,activated:_,deactivated:w,beforeDestroy:k,beforeUnmount:R,destroyed:P,unmounted:x,render:L,renderTracked:Q,renderTriggered:q,errorCaptured:ue,serverPrefetch:oe,expose:we,inheritAttrs:Ee,components:ge,directives:pe,filters:ot}=t;if(c&&xc(c,r,null),o)for(const Z in o){const K=o[Z];B(K)&&(r[Z]=K.bind(n))}if(s){const Z=s.call(n,n);ie(Z)&&(e.data=kr(Z))}if(ls=!0,i)for(const Z in i){const K=i[Z],at=B(K)?K.bind(n,n):B(K.get)?K.get.bind(n,n):st,gt=!B(K)&&B(K.set)?K.set.bind(n):st,Je=Ke({get:at,set:gt});Object.defineProperty(r,Z,{enumerable:!0,configurable:!0,get:()=>Je.value,set:Re=>Je.value=Re})}if(a)for(const Z in a)ua(a[Z],r,n,Z);if(l){const Z=B(l)?l.call(n):l;Reflect.ownKeys(Z).forEach(K=>{Ln(K,Z[K])})}u&&ui(u,e,"c");function ae(Z,K){F(K)?K.forEach(at=>Z(at.bind(n))):K&&Z(K.bind(n))}if(ae(pc,f),ae(yn,d),ae(gc,h),ae(Us,y),ae(fc,_),ae(dc,w),ae(bc,ue),ae(vc,Q),ae(_c,q),ae(mc,R),ae(Fs,x),ae(yc,oe),F(we))if(we.length){const Z=e.exposed||(e.exposed={});we.forEach(K=>{Object.defineProperty(Z,K,{get:()=>n[K],set:at=>n[K]=at})})}else e.exposed||(e.exposed={});L&&e.render===st&&(e.render=L),Ee!=null&&(e.inheritAttrs=Ee),ge&&(e.components=ge),pe&&(e.directives=pe),oe&&aa(e)}function xc(e,t,n=st){F(e)&&(e=cs(e));for(const r in e){const s=e[r];let i;ie(s)?"default"in s?i=se(s.from||r,s.default,!0):i=se(s.from||r):i=se(s),ve(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function ui(e,t,n){it(F(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function ua(e,t,n,r){let s=r.includes(".")?Pa(n,r):()=>n[r];if(ce(e)){const i=t[e];B(i)&&ur(s,i)}else if(B(e))ur(s,e.bind(n));else if(ie(e))if(F(e))e.forEach(i=>ua(i,t,n,r));else{const i=B(e.handler)?e.handler.bind(n):t[e.handler];B(i)&&ur(s,i,e)}}function fa(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(c=>yr(l,c,o,!0)),yr(l,t,o)),ie(t)&&i.set(t,l),l}function yr(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&yr(e,i,n,!0),s&&s.forEach(o=>yr(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=Pc[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Pc={data:fi,props:di,emits:di,methods:kn,computed:kn,beforeCreate:Se,created:Se,beforeMount:Se,mounted:Se,beforeUpdate:Se,updated:Se,beforeDestroy:Se,beforeUnmount:Se,destroyed:Se,unmounted:Se,activated:Se,deactivated:Se,errorCaptured:Se,serverPrefetch:Se,components:kn,directives:kn,watch:kc,provide:fi,inject:Cc};function fi(e,t){return t?e?function(){return be(B(e)?e.call(this,this):e,B(t)?t.call(this,this):t)}:t:e}function Cc(e,t){return kn(cs(e),cs(t))}function cs(e){if(F(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Se(e,t){return e?[...new Set([].concat(e,t))]:t}function kn(e,t){return e?be(Object.create(null),e,t):t}function di(e,t){return e?F(e)&&F(t)?[...new Set([...e,...t])]:be(Object.create(null),ci(e),ci(t??{})):t}function kc(e,t){if(!e)return t;if(!t)return e;const n=be(Object.create(null),e);for(const r in t)n[r]=Se(e[r],t[r]);return n}function da(){return{app:null,config:{isNativeTag:wl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Rc=0;function Tc(e,t){return function(r,s=null){B(r)||(r=be({},r)),s!=null&&!ie(s)&&(s=null);const i=da(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:Rc++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:lu,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&B(u.install)?(o.add(u),u.install(c,...f)):B(u)&&(o.add(u),u(c,...f))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,f){return f?(i.components[u]=f,c):i.components[u]},directive(u,f){return f?(i.directives[u]=f,c):i.directives[u]},mount(u,f,d){if(!l){const h=c._ceVNode||ke(r,s);return h.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),e(h,u,d),l=!0,c._container=u,u.__vue_app__=c,$r(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(it(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return i.provides[u]=f,c},runWithContext(u){const f=un;un=c;try{return u()}finally{un=f}}};return c}}let un=null;function Ln(e,t){if(Ce){let n=Ce.provides;const r=Ce.parent&&Ce.parent.provides;r===n&&(n=Ce.provides=Object.create(r)),n[e]=t}}function se(e,t,n=!1){const r=Ce||ze;if(r||un){const s=un?un._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&B(t)?t.call(r&&r.proxy):t}}const ha={},pa=()=>Object.create(ha),ga=e=>Object.getPrototypeOf(e)===ha;function Ac(e,t,n,r=!1){const s={},i=pa();e.propsDefaults=Object.create(null),ma(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:Jo(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Oc(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=G(s),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(Ar(e.emitsOptions,d))continue;const h=t[d];if(l)if(J(i,d))h!==i[d]&&(i[d]=h,c=!0);else{const y=Pt(d);s[y]=us(l,a,y,h,e,!1)}else h!==i[d]&&(i[d]=h,c=!0)}}}else{ma(e,t,s,i)&&(c=!0);let u;for(const f in a)(!t||!J(t,f)&&((u=Bt(f))===f||!J(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(s[f]=us(l,a,f,void 0,e,!0)):delete s[f]);if(i!==a)for(const f in i)(!t||!J(t,f))&&(delete i[f],c=!0)}c&&dt(e.attrs,"set","")}function ma(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(An(l))continue;const c=t[l];let u;s&&J(s,u=Pt(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Ar(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=G(n),c=a||ee;for(let u=0;u<i.length;u++){const f=i[u];n[f]=us(s,l,f,c[f],e,!J(c,f))}}return o}function us(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=J(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&B(l)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const u=Qn(s);r=c[n]=l.call(null,t),u()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Bt(n))&&(r=!0))}return r}const $c=new WeakMap;function ya(e,t,n=!1){const r=n?$c:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!B(e)){const u=f=>{l=!0;const[d,h]=ya(f,t,!0);be(o,d),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return ie(e)&&r.set(e,on),on;if(F(i))for(let u=0;u<i.length;u++){const f=Pt(i[u]);hi(f)&&(o[f]=ee)}else if(i)for(const u in i){const f=Pt(u);if(hi(f)){const d=i[u],h=o[f]=F(d)||B(d)?{type:d}:be({},d),y=h.type;let _=!1,w=!0;if(F(y))for(let k=0;k<y.length;++k){const R=y[k],P=B(R)&&R.name;if(P==="Boolean"){_=!0;break}else P==="String"&&(w=!1)}else _=B(y)&&y.name==="Boolean";h[0]=_,h[1]=w,(_||J(h,"default"))&&a.push(f)}}const c=[o,a];return ie(e)&&r.set(e,c),c}function hi(e){return e[0]!=="$"&&!An(e)}const _a=e=>e[0]==="_"||e==="$stable",zs=e=>F(e)?e.map(nt):[nt(e)],Ic=(e,t,n)=>{if(t._n)return t;const r=ia((...s)=>zs(t(...s)),n);return r._c=!1,r},va=(e,t,n)=>{const r=e._ctx;for(const s in e){if(_a(s))continue;const i=e[s];if(B(i))t[s]=Ic(s,i,r);else if(i!=null){const o=zs(i);t[s]=()=>o}}},ba=(e,t)=>{const n=zs(t);e.slots.default=()=>n},wa=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},jc=(e,t,n)=>{const r=e.slots=pa();if(e.vnode.shapeFlag&32){const s=t._;s?(wa(r,t,n),n&&Oo(r,"_",s,!0)):va(t,r)}else t&&ba(e,t)},Lc=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=ee;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:wa(s,t,n):(i=!t.$stable,va(t,s)),o=t}else t&&(ba(e,t),o={default:1});if(i)for(const a in s)!_a(a)&&o[a]==null&&delete s[a]},je=Jc;function Mc(e){return Dc(e)}function Dc(e,t){const n=Pr();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=st,insertStaticContent:y}=e,_=(p,g,m,v=null,S=null,E=null,O=void 0,A=null,T=!!g.dynamicChildren)=>{if(p===g)return;p&&!En(p,g)&&(v=b(p),Re(p,S,E,!0),p=null),g.patchFlag===-2&&(T=!1,g.dynamicChildren=null);const{type:C,ref:N,shapeFlag:I}=g;switch(C){case Or:w(p,g,m,v);break;case Ut:k(p,g,m,v);break;case Hr:p==null&&R(g,m,v,O);break;case De:ge(p,g,m,v,S,E,O,A,T);break;default:I&1?L(p,g,m,v,S,E,O,A,T):I&6?pe(p,g,m,v,S,E,O,A,T):(I&64||I&128)&&C.process(p,g,m,v,S,E,O,A,T,M)}N!=null&&S&&mr(N,p&&p.ref,E,g||p,!g)},w=(p,g,m,v)=>{if(p==null)r(g.el=a(g.children),m,v);else{const S=g.el=p.el;g.children!==p.children&&c(S,g.children)}},k=(p,g,m,v)=>{p==null?r(g.el=l(g.children||""),m,v):g.el=p.el},R=(p,g,m,v)=>{[p.el,p.anchor]=y(p.children,g,m,v,p.el,p.anchor)},P=({el:p,anchor:g},m,v)=>{let S;for(;p&&p!==g;)S=d(p),r(p,m,v),p=S;r(g,m,v)},x=({el:p,anchor:g})=>{let m;for(;p&&p!==g;)m=d(p),s(p),p=m;s(g)},L=(p,g,m,v,S,E,O,A,T)=>{g.type==="svg"?O="svg":g.type==="math"&&(O="mathml"),p==null?Q(g,m,v,S,E,O,A,T):oe(p,g,S,E,O,A,T)},Q=(p,g,m,v,S,E,O,A)=>{let T,C;const{props:N,shapeFlag:I,transition:D,dirs:U}=p;if(T=p.el=o(p.type,E,N&&N.is,N),I&8?u(T,p.children):I&16&&ue(p.children,T,null,v,S,qr(p,E),O,A),U&&Tt(p,null,v,"created"),q(T,p,p.scopeId,O,v),N){for(const te in N)te!=="value"&&!An(te)&&i(T,te,null,N[te],E,v);"value"in N&&i(T,"value",null,N.value,E),(C=N.onVnodeBeforeMount)&&Xe(C,v,p)}U&&Tt(p,null,v,"beforeMount");const V=Nc(S,D);V&&D.beforeEnter(T),r(T,g,m),((C=N&&N.onVnodeMounted)||V||U)&&je(()=>{C&&Xe(C,v,p),V&&D.enter(T),U&&Tt(p,null,v,"mounted")},S)},q=(p,g,m,v,S)=>{if(m&&h(p,m),v)for(let E=0;E<v.length;E++)h(p,v[E]);if(S){let E=S.subTree;if(g===E||ka(E.type)&&(E.ssContent===g||E.ssFallback===g)){const O=S.vnode;q(p,O,O.scopeId,O.slotScopeIds,S.parent)}}},ue=(p,g,m,v,S,E,O,A,T=0)=>{for(let C=T;C<p.length;C++){const N=p[C]=A?bt(p[C]):nt(p[C]);_(null,N,g,m,v,S,E,O,A)}},oe=(p,g,m,v,S,E,O)=>{const A=g.el=p.el;let{patchFlag:T,dynamicChildren:C,dirs:N}=g;T|=p.patchFlag&16;const I=p.props||ee,D=g.props||ee;let U;if(m&&At(m,!1),(U=D.onVnodeBeforeUpdate)&&Xe(U,m,g,p),N&&Tt(g,p,m,"beforeUpdate"),m&&At(m,!0),(I.innerHTML&&D.innerHTML==null||I.textContent&&D.textContent==null)&&u(A,""),C?we(p.dynamicChildren,C,A,m,v,qr(g,S),E):O||K(p,g,A,null,m,v,qr(g,S),E,!1),T>0){if(T&16)Ee(A,I,D,m,S);else if(T&2&&I.class!==D.class&&i(A,"class",null,D.class,S),T&4&&i(A,"style",I.style,D.style,S),T&8){const V=g.dynamicProps;for(let te=0;te<V.length;te++){const Y=V[te],$e=I[Y],Te=D[Y];(Te!==$e||Y==="value")&&i(A,Y,$e,Te,S,m)}}T&1&&p.children!==g.children&&u(A,g.children)}else!O&&C==null&&Ee(A,I,D,m,S);((U=D.onVnodeUpdated)||N)&&je(()=>{U&&Xe(U,m,g,p),N&&Tt(g,p,m,"updated")},v)},we=(p,g,m,v,S,E,O)=>{for(let A=0;A<g.length;A++){const T=p[A],C=g[A],N=T.el&&(T.type===De||!En(T,C)||T.shapeFlag&70)?f(T.el):m;_(T,C,N,null,v,S,E,O,!0)}},Ee=(p,g,m,v,S)=>{if(g!==m){if(g!==ee)for(const E in g)!An(E)&&!(E in m)&&i(p,E,g[E],null,S,v);for(const E in m){if(An(E))continue;const O=m[E],A=g[E];O!==A&&E!=="value"&&i(p,E,A,O,S,v)}"value"in m&&i(p,"value",g.value,m.value,S)}},ge=(p,g,m,v,S,E,O,A,T)=>{const C=g.el=p?p.el:a(""),N=g.anchor=p?p.anchor:a("");let{patchFlag:I,dynamicChildren:D,slotScopeIds:U}=g;U&&(A=A?A.concat(U):U),p==null?(r(C,m,v),r(N,m,v),ue(g.children||[],m,N,S,E,O,A,T)):I>0&&I&64&&D&&p.dynamicChildren?(we(p.dynamicChildren,D,m,S,E,O,A),(g.key!=null||S&&g===S.subTree)&&Ea(p,g,!0)):K(p,g,m,N,S,E,O,A,T)},pe=(p,g,m,v,S,E,O,A,T)=>{g.slotScopeIds=A,p==null?g.shapeFlag&512?S.ctx.activate(g,m,v,O,T):ot(g,m,v,S,E,O,T):He(p,g,T)},ot=(p,g,m,v,S,E,O)=>{const A=p.component=nu(p,v,S);if(la(p)&&(A.ctx.renderer=M),ru(A,!1,O),A.asyncDep){if(S&&S.registerDep(A,ae,O),!p.el){const T=A.subTree=ke(Ut);k(null,T,g,m)}}else ae(A,p,g,m,S,E,O)},He=(p,g,m)=>{const v=g.component=p.component;if(Wc(p,g,m))if(v.asyncDep&&!v.asyncResolved){Z(v,g,m);return}else v.next=g,v.update();else g.el=p.el,v.vnode=g},ae=(p,g,m,v,S,E,O)=>{const A=()=>{if(p.isMounted){let{next:I,bu:D,u:U,parent:V,vnode:te}=p;{const Ye=Sa(p);if(Ye){I&&(I.el=te.el,Z(p,I,O)),Ye.asyncDep.then(()=>{p.isUnmounted||A()});return}}let Y=I,$e;At(p,!1),I?(I.el=te.el,Z(p,I,O)):I=te,D&&cr(D),($e=I.props&&I.props.onVnodeBeforeUpdate)&&Xe($e,V,I,te),At(p,!0);const Te=gi(p),Qe=p.subTree;p.subTree=Te,_(Qe,Te,f(Qe.el),b(Qe),p,S,E),I.el=Te.el,Y===null&&Gc(p,Te.el),U&&je(U,S),($e=I.props&&I.props.onVnodeUpdated)&&je(()=>Xe($e,V,I,te),S)}else{let I;const{el:D,props:U}=g,{bm:V,m:te,parent:Y,root:$e,type:Te}=p,Qe=In(g);At(p,!1),V&&cr(V),!Qe&&(I=U&&U.onVnodeBeforeMount)&&Xe(I,Y,g),At(p,!0);{$e.ce&&$e.ce._injectChildStyle(Te);const Ye=p.subTree=gi(p);_(null,Ye,m,v,p,S,E),g.el=Ye.el}if(te&&je(te,S),!Qe&&(I=U&&U.onVnodeMounted)){const Ye=g;je(()=>Xe(I,Y,Ye),S)}(g.shapeFlag&256||Y&&In(Y.vnode)&&Y.vnode.shapeFlag&256)&&p.a&&je(p.a,S),p.isMounted=!0,g=m=v=null}};p.scope.on();const T=p.effect=new Lo(A);p.scope.off();const C=p.update=T.run.bind(T),N=p.job=T.runIfDirty.bind(T);N.i=p,N.id=p.uid,T.scheduler=()=>Ds(N),At(p,!0),C()},Z=(p,g,m)=>{g.component=p;const v=p.vnode.props;p.vnode=g,p.next=null,Oc(p,g.props,v,m),Lc(p,g.children,m),kt(),li(p),Rt()},K=(p,g,m,v,S,E,O,A,T=!1)=>{const C=p&&p.children,N=p?p.shapeFlag:0,I=g.children,{patchFlag:D,shapeFlag:U}=g;if(D>0){if(D&128){gt(C,I,m,v,S,E,O,A,T);return}else if(D&256){at(C,I,m,v,S,E,O,A,T);return}}U&8?(N&16&&Be(C,S,E),I!==C&&u(m,I)):N&16?U&16?gt(C,I,m,v,S,E,O,A,T):Be(C,S,E,!0):(N&8&&u(m,""),U&16&&ue(I,m,v,S,E,O,A,T))},at=(p,g,m,v,S,E,O,A,T)=>{p=p||on,g=g||on;const C=p.length,N=g.length,I=Math.min(C,N);let D;for(D=0;D<I;D++){const U=g[D]=T?bt(g[D]):nt(g[D]);_(p[D],U,m,null,S,E,O,A,T)}C>N?Be(p,S,E,!0,!1,I):ue(g,m,v,S,E,O,A,T,I)},gt=(p,g,m,v,S,E,O,A,T)=>{let C=0;const N=g.length;let I=p.length-1,D=N-1;for(;C<=I&&C<=D;){const U=p[C],V=g[C]=T?bt(g[C]):nt(g[C]);if(En(U,V))_(U,V,m,null,S,E,O,A,T);else break;C++}for(;C<=I&&C<=D;){const U=p[I],V=g[D]=T?bt(g[D]):nt(g[D]);if(En(U,V))_(U,V,m,null,S,E,O,A,T);else break;I--,D--}if(C>I){if(C<=D){const U=D+1,V=U<N?g[U].el:v;for(;C<=D;)_(null,g[C]=T?bt(g[C]):nt(g[C]),m,V,S,E,O,A,T),C++}}else if(C>D)for(;C<=I;)Re(p[C],S,E,!0),C++;else{const U=C,V=C,te=new Map;for(C=V;C<=D;C++){const Ie=g[C]=T?bt(g[C]):nt(g[C]);Ie.key!=null&&te.set(Ie.key,C)}let Y,$e=0;const Te=D-V+1;let Qe=!1,Ye=0;const bn=new Array(Te);for(C=0;C<Te;C++)bn[C]=0;for(C=U;C<=I;C++){const Ie=p[C];if($e>=Te){Re(Ie,S,E,!0);continue}let Ze;if(Ie.key!=null)Ze=te.get(Ie.key);else for(Y=V;Y<=D;Y++)if(bn[Y-V]===0&&En(Ie,g[Y])){Ze=Y;break}Ze===void 0?Re(Ie,S,E,!0):(bn[Ze-V]=C+1,Ze>=Ye?Ye=Ze:Qe=!0,_(Ie,g[Ze],m,null,S,E,O,A,T),$e++)}const ri=Qe?Uc(bn):on;for(Y=ri.length-1,C=Te-1;C>=0;C--){const Ie=V+C,Ze=g[Ie],si=Ie+1<N?g[Ie+1].el:v;bn[C]===0?_(null,Ze,m,si,S,E,O,A,T):Qe&&(Y<0||C!==ri[Y]?Je(Ze,m,si,2):Y--)}}},Je=(p,g,m,v,S=null)=>{const{el:E,type:O,transition:A,children:T,shapeFlag:C}=p;if(C&6){Je(p.component.subTree,g,m,v);return}if(C&128){p.suspense.move(g,m,v);return}if(C&64){O.move(p,g,m,M);return}if(O===De){r(E,g,m);for(let I=0;I<T.length;I++)Je(T[I],g,m,v);r(p.anchor,g,m);return}if(O===Hr){P(p,g,m);return}if(v!==2&&C&1&&A)if(v===0)A.beforeEnter(E),r(E,g,m),je(()=>A.enter(E),S);else{const{leave:I,delayLeave:D,afterLeave:U}=A,V=()=>r(E,g,m),te=()=>{I(E,()=>{V(),U&&U()})};D?D(E,V,te):te()}else r(E,g,m)},Re=(p,g,m,v=!1,S=!1)=>{const{type:E,props:O,ref:A,children:T,dynamicChildren:C,shapeFlag:N,patchFlag:I,dirs:D,cacheIndex:U}=p;if(I===-2&&(S=!1),A!=null&&mr(A,null,m,p,!0),U!=null&&(g.renderCache[U]=void 0),N&256){g.ctx.deactivate(p);return}const V=N&1&&D,te=!In(p);let Y;if(te&&(Y=O&&O.onVnodeBeforeUnmount)&&Xe(Y,g,p),N&6)Xn(p.component,m,v);else{if(N&128){p.suspense.unmount(m,v);return}V&&Tt(p,null,g,"beforeUnmount"),N&64?p.type.remove(p,g,m,M,v):C&&!C.hasOnce&&(E!==De||I>0&&I&64)?Be(C,g,m,!1,!0):(E===De&&I&384||!S&&N&16)&&Be(T,g,m),v&&Ht(p)}(te&&(Y=O&&O.onVnodeUnmounted)||V)&&je(()=>{Y&&Xe(Y,g,p),V&&Tt(p,null,g,"unmounted")},m)},Ht=p=>{const{type:g,el:m,anchor:v,transition:S}=p;if(g===De){Vt(m,v);return}if(g===Hr){x(p);return}const E=()=>{s(m),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(p.shapeFlag&1&&S&&!S.persisted){const{leave:O,delayLeave:A}=S,T=()=>O(m,E);A?A(p.el,E,T):T()}else E()},Vt=(p,g)=>{let m;for(;p!==g;)m=d(p),s(p),p=m;s(g)},Xn=(p,g,m)=>{const{bum:v,scope:S,job:E,subTree:O,um:A,m:T,a:C}=p;pi(T),pi(C),v&&cr(v),S.stop(),E&&(E.flags|=8,Re(O,p,g,m)),A&&je(A,g),je(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Be=(p,g,m,v=!1,S=!1,E=0)=>{for(let O=E;O<p.length;O++)Re(p[O],g,m,v,S)},b=p=>{if(p.shapeFlag&6)return b(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=d(p.anchor||p.el),m=g&&g[cc];return m?d(m):g};let j=!1;const $=(p,g,m)=>{p==null?g._vnode&&Re(g._vnode,null,null,!0):_(g._vnode||null,p,g,null,null,null,m),g._vnode=p,j||(j=!0,li(),na(),j=!1)},M={p:_,um:Re,m:Je,r:Ht,mt:ot,mc:ue,pc:K,pbc:we,n:b,o:e};return{render:$,hydrate:void 0,createApp:Tc($)}}function qr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function At({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Nc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ea(e,t,n=!1){const r=e.children,s=t.children;if(F(r)&&F(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=bt(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Ea(o,a)),a.type===Or&&(a.el=o.el)}}function Uc(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=n[n.length-1],e[s]<c){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function Sa(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Sa(t)}function pi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Fc=Symbol.for("v-scx"),Bc=()=>se(Fc);function ur(e,t,n){return xa(e,t,n)}function xa(e,t,n=ee){const{immediate:r,deep:s,flush:i,once:o}=n,a=be({},n),l=t&&r||!t&&i!=="post";let c;if(Vn){if(i==="sync"){const h=Bc();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=st,h.resume=st,h.pause=st,h}}const u=Ce;a.call=(h,y,_)=>it(h,u,y,_);let f=!1;i==="post"?a.scheduler=h=>{je(h,u&&u.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(h,y)=>{y?h():Ds(h)}),a.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=ic(e,t,a);return Vn&&(c?c.push(d):l&&d()),d}function zc(e,t,n){const r=this.proxy,s=ce(e)?e.includes(".")?Pa(r,e):()=>r[e]:e.bind(r,r);let i;B(t)?i=t:(i=t.handler,n=t);const o=Qn(this),a=xa(s,i.bind(r),n);return o(),a}function Pa(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const qc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Pt(t)}Modifiers`]||e[`${Bt(t)}Modifiers`];function Hc(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||ee;let s=n;const i=t.startsWith("update:"),o=i&&qc(r,t.slice(7));o&&(o.trim&&(s=n.map(u=>ce(u)?u.trim():u)),o.number&&(s=n.map(ts)));let a,l=r[a=Dr(t)]||r[a=Dr(Pt(t))];!l&&i&&(l=r[a=Dr(Bt(t))]),l&&it(l,e,6,s);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,it(c,e,6,s)}}function Ca(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!B(e)){const l=c=>{const u=Ca(c,t,!0);u&&(a=!0,be(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(ie(e)&&r.set(e,null),null):(F(i)?i.forEach(l=>o[l]=null):be(o,i),ie(e)&&r.set(e,o),o)}function Ar(e,t){return!e||!Er(t)?!1:(t=t.slice(2).replace(/Once$/,""),J(e,t[0].toLowerCase()+t.slice(1))||J(e,Bt(t))||J(e,t))}function gi(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:f,data:d,setupState:h,ctx:y,inheritAttrs:_}=e,w=gr(e);let k,R;try{if(n.shapeFlag&4){const x=s||r,L=x;k=nt(c.call(L,x,u,f,h,d,y)),R=a}else{const x=t;k=nt(x.length>1?x(f,{attrs:a,slots:o,emit:l}):x(f,null)),R=t.props?a:Vc(a)}}catch(x){Mn.length=0,Rr(x,e,1),k=ke(Ut)}let P=k;if(R&&_!==!1){const x=Object.keys(R),{shapeFlag:L}=P;x.length&&L&7&&(i&&x.some(Ps)&&(R=Kc(R,i)),P=dn(P,R,!1,!0))}return n.dirs&&(P=dn(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&Ns(P,n.transition),k=P,gr(w),k}const Vc=e=>{let t;for(const n in e)(n==="class"||n==="style"||Er(n))&&((t||(t={}))[n]=e[n]);return t},Kc=(e,t)=>{const n={};for(const r in e)(!Ps(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Wc(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?mi(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==r[d]&&!Ar(c,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?mi(r,o,c):!0:!!o;return!1}function mi(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Ar(n,i))return!0}return!1}function Gc({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const ka=e=>e.__isSuspense;function Jc(e,t){t&&t.pendingBranch?F(e)?t.effects.push(...e):t.effects.push(e):lc(e)}const De=Symbol.for("v-fgt"),Or=Symbol.for("v-txt"),Ut=Symbol.for("v-cmt"),Hr=Symbol.for("v-stc"),Mn=[];let Ne=null;function he(e=!1){Mn.push(Ne=e?null:[])}function Qc(){Mn.pop(),Ne=Mn[Mn.length-1]||null}let Hn=1;function yi(e,t=!1){Hn+=e,e<0&&Ne&&t&&(Ne.hasOnce=!0)}function Ra(e){return e.dynamicChildren=Hn>0?Ne||on:null,Qc(),Hn>0&&Ne&&Ne.push(e),e}function xe(e,t,n,r,s,i){return Ra(le(e,t,n,r,s,i,!0))}function qs(e,t,n,r,s){return Ra(ke(e,t,n,r,s,!0))}function _r(e){return e?e.__v_isVNode===!0:!1}function En(e,t){return e.type===t.type&&e.key===t.key}const Ta=({key:e})=>e??null,fr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ce(e)||ve(e)||B(e)?{i:ze,r:e,k:t,f:!!n}:e:null);function le(e,t=null,n=null,r=0,s=null,i=e===De?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ta(t),ref:t&&fr(t),scopeId:sa,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ze};return a?(Hs(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=ce(n)?8:16),Hn>0&&!o&&Ne&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ne.push(l),l}const ke=Yc;function Yc(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===wc)&&(e=Ut),_r(e)){const a=dn(e,t,!0);return n&&Hs(a,n),Hn>0&&!i&&Ne&&(a.shapeFlag&6?Ne[Ne.indexOf(e)]=a:Ne.push(a)),a.patchFlag=-2,a}if(au(e)&&(e=e.__vccOpts),t){t=Zc(t);let{class:a,style:l}=t;a&&!ce(a)&&(t.class=Ts(a)),ie(l)&&(Ms(l)&&!F(l)&&(l=be({},l)),t.style=Rs(l))}const o=ce(e)?1:ka(e)?128:uc(e)?64:ie(e)?4:B(e)?2:0;return le(e,t,n,r,s,o,i,!0)}function Zc(e){return e?Ms(e)||ga(e)?be({},e):e:null}function dn(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=e,c=t?Xc(s||{},t):s,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Ta(c),ref:t&&t.ref?n&&i?F(i)?i.concat(fr(t)):[i,fr(t)]:fr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==De?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&dn(e.ssContent),ssFallback:e.ssFallback&&dn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Ns(u,l.clone(u)),u}function Aa(e=" ",t=0){return ke(Or,null,e,t)}function Rn(e="",t=!1){return t?(he(),qs(Ut,null,e)):ke(Ut,null,e)}function nt(e){return e==null||typeof e=="boolean"?ke(Ut):F(e)?ke(De,null,e.slice()):_r(e)?bt(e):ke(Or,null,String(e))}function bt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:dn(e)}function Hs(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(F(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Hs(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!ga(t)?t._ctx=ze:s===3&&ze&&(ze.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else B(t)?(t={default:t,_ctx:ze},n=32):(t=String(t),r&64?(n=16,t=[Aa(t)]):n=8);e.children=t,e.shapeFlag|=n}function Xc(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Ts([t.class,r.class]));else if(s==="style")t.style=Rs([t.style,r.style]);else if(Er(s)){const i=t[s],o=r[s];o&&i!==o&&!(F(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function Xe(e,t,n,r=null){it(e,t,7,[n,r])}const eu=da();let tu=0;function nu(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||eu,i={uid:tu++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new $l(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ya(r,s),emitsOptions:Ca(r,s),emit:null,emitted:null,propsDefaults:ee,inheritAttrs:r.inheritAttrs,ctx:ee,data:ee,props:ee,attrs:ee,slots:ee,refs:ee,setupState:ee,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Hc.bind(null,i),e.ce&&e.ce(i),i}let Ce=null,vr,fs;{const e=Pr(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};vr=t("__VUE_INSTANCE_SETTERS__",n=>Ce=n),fs=t("__VUE_SSR_SETTERS__",n=>Vn=n)}const Qn=e=>{const t=Ce;return vr(e),e.scope.on(),()=>{e.scope.off(),vr(t)}},_i=()=>{Ce&&Ce.scope.off(),vr(null)};function Oa(e){return e.vnode.shapeFlag&4}let Vn=!1;function ru(e,t=!1,n=!1){t&&fs(t);const{props:r,children:s}=e.vnode,i=Oa(e);Ac(e,r,i,t),jc(e,s,n);const o=i?su(e,t):void 0;return t&&fs(!1),o}function su(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ec);const{setup:r}=n;if(r){kt();const s=e.setupContext=r.length>1?ou(e):null,i=Qn(e),o=Jn(r,e,0,[e.props,s]),a=ko(o);if(Rt(),i(),(a||e.sp)&&!In(e)&&aa(e),a){if(o.then(_i,_i),t)return o.then(l=>{vi(e,l)}).catch(l=>{Rr(l,e,0)});e.asyncDep=o}else vi(e,o)}else $a(e)}function vi(e,t,n){B(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ie(t)&&(e.setupState=Zo(t)),$a(e)}function $a(e,t,n){const r=e.type;e.render||(e.render=r.render||st);{const s=Qn(e);kt();try{Sc(e)}finally{Rt(),s()}}}const iu={get(e,t){return me(e,"get",""),e[t]}};function ou(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,iu),slots:e.slots,emit:e.emit,expose:t}}function $r(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Zo(Zl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in jn)return jn[n](e)},has(t,n){return n in t||n in jn}})):e.proxy}function au(e){return B(e)&&"__vccOpts"in e}const Ke=(e,t)=>rc(e,t,Vn);function Oe(e,t,n){const r=arguments.length;return r===2?ie(t)&&!F(t)?_r(t)?ke(e,null,[t]):ke(e,t):ke(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&_r(n)&&(n=[n]),ke(e,t,n))}const lu="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ds;const bi=typeof window<"u"&&window.trustedTypes;if(bi)try{ds=bi.createPolicy("vue",{createHTML:e=>e})}catch{}const Ia=ds?e=>ds.createHTML(e):e=>e,cu="http://www.w3.org/2000/svg",uu="http://www.w3.org/1998/Math/MathML",ut=typeof document<"u"?document:null,wi=ut&&ut.createElement("template"),fu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?ut.createElementNS(cu,e):t==="mathml"?ut.createElementNS(uu,e):n?ut.createElement(e,{is:n}):ut.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>ut.createTextNode(e),createComment:e=>ut.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ut.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{wi.innerHTML=Ia(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=wi.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},du=Symbol("_vtc");function hu(e,t,n){const r=e[du];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ei=Symbol("_vod"),pu=Symbol("_vsh"),gu=Symbol(""),mu=/(^|;)\s*display\s*:/;function yu(e,t,n){const r=e.style,s=ce(n);let i=!1;if(n&&!s){if(t)if(ce(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&dr(r,a,"")}else for(const o in t)n[o]==null&&dr(r,o,"");for(const o in n)o==="display"&&(i=!0),dr(r,o,n[o])}else if(s){if(t!==n){const o=r[gu];o&&(n+=";"+o),r.cssText=n,i=mu.test(n)}}else t&&e.removeAttribute("style");Ei in e&&(e[Ei]=i?r.display:"",e[pu]&&(r.display="none"))}const Si=/\s*!important$/;function dr(e,t,n){if(F(n))n.forEach(r=>dr(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=_u(e,t);Si.test(n)?e.setProperty(Bt(r),n.replace(Si,""),"important"):e[r]=n}}const xi=["Webkit","Moz","ms"],Vr={};function _u(e,t){const n=Vr[t];if(n)return n;let r=Pt(t);if(r!=="filter"&&r in e)return Vr[t]=r;r=Ao(r);for(let s=0;s<xi.length;s++){const i=xi[s]+r;if(i in e)return Vr[t]=i}return t}const Pi="http://www.w3.org/1999/xlink";function Ci(e,t,n,r,s,i=Ol(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Pi,t.slice(6,t.length)):e.setAttributeNS(Pi,t,n):n==null||i&&!$o(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Ct(n)?String(n):n)}function ki(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Ia(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=$o(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(s||t)}function nn(e,t,n,r){e.addEventListener(t,n,r)}function vu(e,t,n,r){e.removeEventListener(t,n,r)}const Ri=Symbol("_vei");function bu(e,t,n,r,s=null){const i=e[Ri]||(e[Ri]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=wu(t);if(r){const c=i[t]=xu(r,s);nn(e,a,c,l)}else o&&(vu(e,a,o,l),i[t]=void 0)}}const Ti=/(?:Once|Passive|Capture)$/;function wu(e){let t;if(Ti.test(e)){t={};let r;for(;r=e.match(Ti);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Bt(e.slice(2)),t]}let Kr=0;const Eu=Promise.resolve(),Su=()=>Kr||(Eu.then(()=>Kr=0),Kr=Date.now());function xu(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;it(Pu(r,n.value),t,5,[r])};return n.value=e,n.attached=Su(),n}function Pu(e,t){if(F(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Ai=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Cu=(e,t,n,r,s,i)=>{const o=s==="svg";t==="class"?hu(e,r,o):t==="style"?yu(e,n,r):Er(t)?Ps(t)||bu(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ku(e,t,r,o))?(ki(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ci(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ce(r))?ki(e,Pt(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Ci(e,t,r,o))};function ku(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ai(t)&&B(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Ai(t)&&ce(n)?!1:t in e}const Oi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return F(t)?n=>cr(t,n):t};function Ru(e){e.target.composing=!0}function $i(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Wr=Symbol("_assign"),ja={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[Wr]=Oi(s);const i=r||s.props&&s.props.type==="number";nn(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=ts(a)),e[Wr](a)}),n&&nn(e,"change",()=>{e.value=e.value.trim()}),t||(nn(e,"compositionstart",Ru),nn(e,"compositionend",$i),nn(e,"change",$i))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(e[Wr]=Oi(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?ts(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===l)||(e.value=l))}},Tu=["ctrl","shift","alt","meta"],Au={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Tu.some(n=>e[`${n}Key`]&&!t.includes(n))},Ou=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<t.length;o++){const a=Au[t[o]];if(a&&a(s,t))return}return e(s,...i)})},$u=be({patchProp:Cu},fu);let Ii;function Iu(){return Ii||(Ii=Mc($u))}const ju=(...e)=>{const t=Iu().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Mu(r);if(!s)return;const i=t._component;!B(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,Lu(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function Lu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Mu(e){return ce(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const rn=typeof document<"u";function La(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Du(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&La(e.default)}const W=Object.assign;function Gr(e,t){const n={};for(const r in t){const s=t[r];n[r]=Ge(s)?s.map(e):e(s)}return n}const Dn=()=>{},Ge=Array.isArray,Ma=/#/g,Nu=/&/g,Uu=/\//g,Fu=/=/g,Bu=/\?/g,Da=/\+/g,zu=/%5B/g,qu=/%5D/g,Na=/%5E/g,Hu=/%60/g,Ua=/%7B/g,Vu=/%7C/g,Fa=/%7D/g,Ku=/%20/g;function Vs(e){return encodeURI(""+e).replace(Vu,"|").replace(zu,"[").replace(qu,"]")}function Wu(e){return Vs(e).replace(Ua,"{").replace(Fa,"}").replace(Na,"^")}function hs(e){return Vs(e).replace(Da,"%2B").replace(Ku,"+").replace(Ma,"%23").replace(Nu,"%26").replace(Hu,"`").replace(Ua,"{").replace(Fa,"}").replace(Na,"^")}function Gu(e){return hs(e).replace(Fu,"%3D")}function Ju(e){return Vs(e).replace(Ma,"%23").replace(Bu,"%3F")}function Qu(e){return e==null?"":Ju(e).replace(Uu,"%2F")}function Kn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Yu=/\/$/,Zu=e=>e.replace(Yu,"");function Jr(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),s=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=nf(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Kn(o)}}function Xu(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ji(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ef(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&hn(t.matched[r],n.matched[s])&&Ba(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function hn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ba(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!tf(e[n],t[n]))return!1;return!0}function tf(e,t){return Ge(e)?Li(e,t):Ge(t)?Li(t,e):e===t}function Li(e,t){return Ge(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function nf(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const mt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Wn;(function(e){e.pop="pop",e.push="push"})(Wn||(Wn={}));var Nn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Nn||(Nn={}));function rf(e){if(!e)if(rn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Zu(e)}const sf=/^[^#]+#/;function of(e,t){return e.replace(sf,"#")+t}function af(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Ir=()=>({left:window.scrollX,top:window.scrollY});function lf(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=af(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Mi(e,t){return(history.state?history.state.position-t:-1)+e}const ps=new Map;function cf(e,t){ps.set(e,t)}function uf(e){const t=ps.get(e);return ps.delete(e),t}let ff=()=>location.protocol+"//"+location.host;function za(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),ji(l,"")}return ji(n,e)+r+s}function df(e,t,n,r){let s=[],i=[],o=null;const a=({state:d})=>{const h=za(e,location),y=n.value,_=t.value;let w=0;if(d){if(n.value=h,t.value=d,o&&o===y){o=null;return}w=_?d.position-_.position:0}else r(h);s.forEach(k=>{k(n.value,y,{delta:w,type:Wn.pop,direction:w?w>0?Nn.forward:Nn.back:Nn.unknown})})};function l(){o=n.value}function c(d){s.push(d);const h=()=>{const y=s.indexOf(d);y>-1&&s.splice(y,1)};return i.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(W({},d.state,{scroll:Ir()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function Di(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Ir():null}}function hf(e){const{history:t,location:n}=window,r={value:za(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:ff()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),s.value=c}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function o(l,c){const u=W({},t.state,Di(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=W({},s.value,t.state,{forward:l,scroll:Ir()});i(u.current,u,!0);const f=W({},Di(r.value,l,null),{position:u.position+1},c);i(l,f,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function pf(e){e=rf(e);const t=hf(e),n=df(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=W({location:"",base:e,go:r,createHref:of.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function gf(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),pf(e)}function mf(e){return typeof e=="string"||e&&typeof e=="object"}function qa(e){return typeof e=="string"||typeof e=="symbol"}const Ha=Symbol("");var Ni;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ni||(Ni={}));function pn(e,t){return W(new Error,{type:e,[Ha]:!0},t)}function ct(e,t){return e instanceof Error&&Ha in e&&(t==null||!!(e.type&t))}const Ui="[^/]+?",yf={sensitive:!1,strict:!1,start:!0,end:!0},_f=/[.+*?^${}()[\]/\\]/g;function vf(e,t){const n=W({},yf,t),r=[];let s=n.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(s+="/"),s+=d.value.replace(_f,"\\$&"),h+=40;else if(d.type===1){const{value:y,repeatable:_,optional:w,regexp:k}=d;i.push({name:y,repeatable:_,optional:w});const R=k||Ui;if(R!==Ui){h+=10;try{new RegExp(`(${R})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${y}" (${R}): `+x.message)}}let P=_?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;f||(P=w&&c.length<2?`(?:/${P})`:"/"+P),w&&(P+="?"),s+=P,h+=20,w&&(h+=-8),_&&(h+=-20),R===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",y=i[d-1];f[y.name]=h&&y.repeatable?h.split("/"):h}return f}function l(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:y,repeatable:_,optional:w}=h,k=y in c?c[y]:"";if(Ge(k)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const R=Ge(k)?k.join("/"):k;if(!R)if(w)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);u+=R}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function bf(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Va(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=bf(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Fi(r))return 1;if(Fi(s))return-1}return s.length-r.length}function Fi(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const wf={type:0,value:""},Ef=/[a-zA-Z0-9_]/;function Sf(e){if(!e)return[[]];if(e==="/")return[[wf]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",u="";function f(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:Ef.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),o(),s}function xf(e,t,n){const r=vf(Sf(e.path),n),s=W(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Pf(e,t){const n=[],r=new Map;t=Hi({strict:!1,end:!0,sensitive:!1},t);function s(f){return r.get(f)}function i(f,d,h){const y=!h,_=zi(f);_.aliasOf=h&&h.record;const w=Hi(t,f),k=[_];if("alias"in f){const x=typeof f.alias=="string"?[f.alias]:f.alias;for(const L of x)k.push(zi(W({},_,{components:h?h.record.components:_.components,path:L,aliasOf:h?h.record:_})))}let R,P;for(const x of k){const{path:L}=x;if(d&&L[0]!=="/"){const Q=d.record.path,q=Q[Q.length-1]==="/"?"":"/";x.path=d.record.path+(L&&q+L)}if(R=xf(x,d,w),h?h.alias.push(R):(P=P||R,P!==R&&P.alias.push(R),y&&f.name&&!qi(R)&&o(f.name)),Ka(R)&&l(R),_.children){const Q=_.children;for(let q=0;q<Q.length;q++)i(Q[q],R,h&&h.children[q])}h=h||R}return P?()=>{o(P)}:Dn}function o(f){if(qa(f)){const d=r.get(f);d&&(r.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const d=Rf(f,n);n.splice(d,0,f),f.record.name&&!qi(f)&&r.set(f.record.name,f)}function c(f,d){let h,y={},_,w;if("name"in f&&f.name){if(h=r.get(f.name),!h)throw pn(1,{location:f});w=h.record.name,y=W(Bi(d.params,h.keys.filter(P=>!P.optional).concat(h.parent?h.parent.keys.filter(P=>P.optional):[]).map(P=>P.name)),f.params&&Bi(f.params,h.keys.map(P=>P.name))),_=h.stringify(y)}else if(f.path!=null)_=f.path,h=n.find(P=>P.re.test(_)),h&&(y=h.parse(_),w=h.record.name);else{if(h=d.name?r.get(d.name):n.find(P=>P.re.test(d.path)),!h)throw pn(1,{location:f,currentLocation:d});w=h.record.name,y=W({},d.params,f.params),_=h.stringify(y)}const k=[];let R=h;for(;R;)k.unshift(R.record),R=R.parent;return{name:w,path:_,params:y,matched:k,meta:kf(k)}}e.forEach(f=>i(f));function u(){n.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function Bi(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function zi(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Cf(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Cf(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function qi(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function kf(e){return e.reduce((t,n)=>W(t,n.meta),{})}function Hi(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Rf(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;Va(e,t[i])<0?r=i:n=i+1}const s=Tf(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function Tf(e){let t=e;for(;t=t.parent;)if(Ka(t)&&Va(e,t)===0)return t}function Ka({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Af(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Da," "),o=i.indexOf("="),a=Kn(o<0?i:i.slice(0,o)),l=o<0?null:Kn(i.slice(o+1));if(a in t){let c=t[a];Ge(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Vi(e){let t="";for(let n in e){const r=e[n];if(n=Gu(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ge(r)?r.map(i=>i&&hs(i)):[r&&hs(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Of(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Ge(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const $f=Symbol(""),Ki=Symbol(""),jr=Symbol(""),Ks=Symbol(""),gs=Symbol("");function Sn(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function wt(e,t,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(pn(4,{from:n,to:t})):d instanceof Error?l(d):mf(d)?l(pn(2,{from:t,to:d})):(o&&r.enterCallbacks[s]===o&&typeof d=="function"&&o.push(d),a())},u=i(()=>e.call(r&&r.instances[s],t,n,c));let f=Promise.resolve(u);e.length<3&&(f=f.then(c)),f.catch(d=>l(d))})}function Qr(e,t,n,r,s=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(La(l)){const u=(l.__vccOpts||l)[t];u&&i.push(wt(u,n,r,o,a,s))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=Du(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const h=(f.__vccOpts||f)[t];return h&&wt(h,n,r,o,a,s)()}))}}return i}function Wi(e){const t=se(jr),n=se(Ks),r=Ke(()=>{const l=_e(e.to);return t.resolve(l)}),s=Ke(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(hn.bind(null,u));if(d>-1)return d;const h=Gi(l[c-2]);return c>1&&Gi(u)===h&&f[f.length-1].path!==h?f.findIndex(hn.bind(null,l[c-2])):d}),i=Ke(()=>s.value>-1&&Mf(n.params,r.value.params)),o=Ke(()=>s.value>-1&&s.value===n.matched.length-1&&Ba(n.params,r.value.params));function a(l={}){if(Lf(l)){const c=t[_e(e.replace)?"replace":"push"](_e(e.to)).catch(Dn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:Ke(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function If(e){return e.length===1?e[0]:e}const jf=Fe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Wi,setup(e,{slots:t}){const n=kr(Wi(e)),{options:r}=se(jr),s=Ke(()=>({[Ji(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Ji(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&If(t.default(n));return e.custom?i:Oe("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Wa=jf;function Lf(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Mf(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Ge(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Gi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ji=(e,t,n)=>e??t??n,Df=Fe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=se(gs),s=Ke(()=>e.route||r.value),i=se(Ki,0),o=Ke(()=>{let c=_e(i);const{matched:u}=s.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=Ke(()=>s.value.matched[o.value]);Ln(Ki,Ke(()=>o.value+1)),Ln($f,a),Ln(gs,s);const l=Ue();return ur(()=>[l.value,a.value,e.name],([c,u,f],[d,h,y])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!hn(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=s.value,u=e.name,f=a.value,d=f&&f.components[u];if(!d)return Qi(n.default,{Component:d,route:c});const h=f.props[u],y=h?h===!0?c.params:typeof h=="function"?h(c):h:null,w=Oe(d,W({},y,t,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return Qi(n.default,{Component:w,route:c})||w}}});function Qi(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Ws=Df;function Nf(e){const t=Pf(e.routes,e),n=e.parseQuery||Af,r=e.stringifyQuery||Vi,s=e.history,i=Sn(),o=Sn(),a=Sn(),l=Xl(mt);let c=mt;rn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Gr.bind(null,b=>""+b),f=Gr.bind(null,Qu),d=Gr.bind(null,Kn);function h(b,j){let $,M;return qa(b)?($=t.getRecordMatcher(b),M=j):M=b,t.addRoute(M,$)}function y(b){const j=t.getRecordMatcher(b);j&&t.removeRoute(j)}function _(){return t.getRoutes().map(b=>b.record)}function w(b){return!!t.getRecordMatcher(b)}function k(b,j){if(j=W({},j||l.value),typeof b=="string"){const m=Jr(n,b,j.path),v=t.resolve({path:m.path},j),S=s.createHref(m.fullPath);return W(m,v,{params:d(v.params),hash:Kn(m.hash),redirectedFrom:void 0,href:S})}let $;if(b.path!=null)$=W({},b,{path:Jr(n,b.path,j.path).path});else{const m=W({},b.params);for(const v in m)m[v]==null&&delete m[v];$=W({},b,{params:f(m)}),j.params=f(j.params)}const M=t.resolve($,j),X=b.hash||"";M.params=u(d(M.params));const p=Xu(r,W({},b,{hash:Wu(X),path:M.path})),g=s.createHref(p);return W({fullPath:p,hash:X,query:r===Vi?Of(b.query):b.query||{}},M,{redirectedFrom:void 0,href:g})}function R(b){return typeof b=="string"?Jr(n,b,l.value.path):W({},b)}function P(b,j){if(c!==b)return pn(8,{from:j,to:b})}function x(b){return q(b)}function L(b){return x(W(R(b),{replace:!0}))}function Q(b){const j=b.matched[b.matched.length-1];if(j&&j.redirect){const{redirect:$}=j;let M=typeof $=="function"?$(b):$;return typeof M=="string"&&(M=M.includes("?")||M.includes("#")?M=R(M):{path:M},M.params={}),W({query:b.query,hash:b.hash,params:M.path!=null?{}:b.params},M)}}function q(b,j){const $=c=k(b),M=l.value,X=b.state,p=b.force,g=b.replace===!0,m=Q($);if(m)return q(W(R(m),{state:typeof m=="object"?W({},X,m.state):X,force:p,replace:g}),j||$);const v=$;v.redirectedFrom=j;let S;return!p&&ef(r,M,$)&&(S=pn(16,{to:v,from:M}),Je(M,M,!0,!1)),(S?Promise.resolve(S):we(v,M)).catch(E=>ct(E)?ct(E,2)?E:gt(E):K(E,v,M)).then(E=>{if(E){if(ct(E,2))return q(W({replace:g},R(E.to),{state:typeof E.to=="object"?W({},X,E.to.state):X,force:p}),j||v)}else E=ge(v,M,!0,g,X);return Ee(v,M,E),E})}function ue(b,j){const $=P(b,j);return $?Promise.reject($):Promise.resolve()}function oe(b){const j=Vt.values().next().value;return j&&typeof j.runWithContext=="function"?j.runWithContext(b):b()}function we(b,j){let $;const[M,X,p]=Uf(b,j);$=Qr(M.reverse(),"beforeRouteLeave",b,j);for(const m of M)m.leaveGuards.forEach(v=>{$.push(wt(v,b,j))});const g=ue.bind(null,b,j);return $.push(g),Be($).then(()=>{$=[];for(const m of i.list())$.push(wt(m,b,j));return $.push(g),Be($)}).then(()=>{$=Qr(X,"beforeRouteUpdate",b,j);for(const m of X)m.updateGuards.forEach(v=>{$.push(wt(v,b,j))});return $.push(g),Be($)}).then(()=>{$=[];for(const m of p)if(m.beforeEnter)if(Ge(m.beforeEnter))for(const v of m.beforeEnter)$.push(wt(v,b,j));else $.push(wt(m.beforeEnter,b,j));return $.push(g),Be($)}).then(()=>(b.matched.forEach(m=>m.enterCallbacks={}),$=Qr(p,"beforeRouteEnter",b,j,oe),$.push(g),Be($))).then(()=>{$=[];for(const m of o.list())$.push(wt(m,b,j));return $.push(g),Be($)}).catch(m=>ct(m,8)?m:Promise.reject(m))}function Ee(b,j,$){a.list().forEach(M=>oe(()=>M(b,j,$)))}function ge(b,j,$,M,X){const p=P(b,j);if(p)return p;const g=j===mt,m=rn?history.state:{};$&&(M||g?s.replace(b.fullPath,W({scroll:g&&m&&m.scroll},X)):s.push(b.fullPath,X)),l.value=b,Je(b,j,$,g),gt()}let pe;function ot(){pe||(pe=s.listen((b,j,$)=>{if(!Xn.listening)return;const M=k(b),X=Q(M);if(X){q(W(X,{replace:!0,force:!0}),M).catch(Dn);return}c=M;const p=l.value;rn&&cf(Mi(p.fullPath,$.delta),Ir()),we(M,p).catch(g=>ct(g,12)?g:ct(g,2)?(q(W(R(g.to),{force:!0}),M).then(m=>{ct(m,20)&&!$.delta&&$.type===Wn.pop&&s.go(-1,!1)}).catch(Dn),Promise.reject()):($.delta&&s.go(-$.delta,!1),K(g,M,p))).then(g=>{g=g||ge(M,p,!1),g&&($.delta&&!ct(g,8)?s.go(-$.delta,!1):$.type===Wn.pop&&ct(g,20)&&s.go(-1,!1)),Ee(M,p,g)}).catch(Dn)}))}let He=Sn(),ae=Sn(),Z;function K(b,j,$){gt(b);const M=ae.list();return M.length?M.forEach(X=>X(b,j,$)):console.error(b),Promise.reject(b)}function at(){return Z&&l.value!==mt?Promise.resolve():new Promise((b,j)=>{He.add([b,j])})}function gt(b){return Z||(Z=!b,ot(),He.list().forEach(([j,$])=>b?$(b):j()),He.reset()),b}function Je(b,j,$,M){const{scrollBehavior:X}=e;if(!rn||!X)return Promise.resolve();const p=!$&&uf(Mi(b.fullPath,0))||(M||!$)&&history.state&&history.state.scroll||null;return ea().then(()=>X(b,j,p)).then(g=>g&&lf(g)).catch(g=>K(g,b,j))}const Re=b=>s.go(b);let Ht;const Vt=new Set,Xn={currentRoute:l,listening:!0,addRoute:h,removeRoute:y,clearRoutes:t.clearRoutes,hasRoute:w,getRoutes:_,resolve:k,options:e,push:x,replace:L,go:Re,back:()=>Re(-1),forward:()=>Re(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ae.add,isReady:at,install(b){const j=this;b.component("RouterLink",Wa),b.component("RouterView",Ws),b.config.globalProperties.$router=j,Object.defineProperty(b.config.globalProperties,"$route",{enumerable:!0,get:()=>_e(l)}),rn&&!Ht&&l.value===mt&&(Ht=!0,x(s.location).catch(X=>{}));const $={};for(const X in mt)Object.defineProperty($,X,{get:()=>l.value[X],enumerable:!0});b.provide(jr,j),b.provide(Ks,Jo($)),b.provide(gs,l);const M=b.unmount;Vt.add(b),b.unmount=function(){Vt.delete(b),Vt.size<1&&(c=mt,pe&&pe(),pe=null,l.value=mt,Ht=!1,Z=!1),M()}}};function Be(b){return b.reduce((j,$)=>j.then(()=>oe($)),Promise.resolve())}return Xn}function Uf(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>hn(c,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>hn(c,l))||s.push(l))}return[n,r,s]}function Yn(){return se(jr)}function Lr(e){return se(Ks)}const Ff=Fe({__name:"App",setup(e){return(t,n)=>(he(),qs(_e(Ws)))}}),Bf={showNotification:e=>alert(e)};/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 * © 2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var rt=function(){return rt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rt.apply(this,arguments)};var Ft;(function(e){var t=function(){function o(a,l,c,u){if(this.version=a,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version value out of range");if(u<-1||u>7)throw new RangeError("Mask value out of range");this.size=a*4+17;for(var f=[],d=0;d<this.size;d++)f.push(!1);for(var d=0;d<this.size;d++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();var h=this.addEccAndInterleave(c);if(this.drawCodewords(h),u==-1)for(var y=1e9,d=0;d<8;d++){this.applyMask(d),this.drawFormatBits(d);var _=this.getPenaltyScore();_<y&&(u=d,y=_),this.applyMask(d)}s(0<=u&&u<=7),this.mask=u,this.applyMask(u),this.drawFormatBits(u),this.isFunction=[]}return o.encodeText=function(a,l){var c=e.QrSegment.makeSegments(a);return o.encodeSegments(c,l)},o.encodeBinary=function(a,l){var c=e.QrSegment.makeBytes(a);return o.encodeSegments([c],l)},o.encodeSegments=function(a,l,c,u,f,d){if(c===void 0&&(c=1),u===void 0&&(u=40),f===void 0&&(f=-1),d===void 0&&(d=!0),!(o.MIN_VERSION<=c&&c<=u&&u<=o.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");var h,y;for(h=c;;h++){var _=o.getNumDataCodewords(h,l)*8,w=i.getTotalBits(a,h);if(w<=_){y=w;break}if(h>=u)throw new RangeError("Data too long")}for(var k=0,R=[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH];k<R.length;k++){var P=R[k];d&&y<=o.getNumDataCodewords(h,P)*8&&(l=P)}for(var x=[],L=0,Q=a;L<Q.length;L++){var q=Q[L];n(q.mode.modeBits,4,x),n(q.numChars,q.mode.numCharCountBits(h),x);for(var ue=0,oe=q.getData();ue<oe.length;ue++){var we=oe[ue];x.push(we)}}s(x.length==y);var Ee=o.getNumDataCodewords(h,l)*8;s(x.length<=Ee),n(0,Math.min(4,Ee-x.length),x),n(0,(8-x.length%8)%8,x),s(x.length%8==0);for(var ge=236;x.length<Ee;ge^=253)n(ge,8,x);for(var pe=[];pe.length*8<x.length;)pe.push(0);return x.forEach(function(ot,He){return pe[He>>>3]|=ot<<7-(He&7)}),new o(h,l,pe,f)},o.prototype.getModule=function(a,l){return 0<=a&&a<this.size&&0<=l&&l<this.size&&this.modules[l][a]},o.prototype.getModules=function(){return this.modules},o.prototype.drawFunctionPatterns=function(){for(var a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var l=this.getAlignmentPatternPositions(),c=l.length,a=0;a<c;a++)for(var u=0;u<c;u++)a==0&&u==0||a==0&&u==c-1||a==c-1&&u==0||this.drawAlignmentPattern(l[a],l[u]);this.drawFormatBits(0),this.drawVersion()},o.prototype.drawFormatBits=function(a){for(var l=this.errorCorrectionLevel.formatBits<<3|a,c=l,u=0;u<10;u++)c=c<<1^(c>>>9)*1335;var f=(l<<10|c)^21522;s(f>>>15==0);for(var u=0;u<=5;u++)this.setFunctionModule(8,u,r(f,u));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(var u=9;u<15;u++)this.setFunctionModule(14-u,8,r(f,u));for(var u=0;u<8;u++)this.setFunctionModule(this.size-1-u,8,r(f,u));for(var u=8;u<15;u++)this.setFunctionModule(8,this.size-15+u,r(f,u));this.setFunctionModule(8,this.size-8,!0)},o.prototype.drawVersion=function(){if(!(this.version<7)){for(var a=this.version,l=0;l<12;l++)a=a<<1^(a>>>11)*7973;var c=this.version<<12|a;s(c>>>18==0);for(var l=0;l<18;l++){var u=r(c,l),f=this.size-11+l%3,d=Math.floor(l/3);this.setFunctionModule(f,d,u),this.setFunctionModule(d,f,u)}}},o.prototype.drawFinderPattern=function(a,l){for(var c=-4;c<=4;c++)for(var u=-4;u<=4;u++){var f=Math.max(Math.abs(u),Math.abs(c)),d=a+u,h=l+c;0<=d&&d<this.size&&0<=h&&h<this.size&&this.setFunctionModule(d,h,f!=2&&f!=4)}},o.prototype.drawAlignmentPattern=function(a,l){for(var c=-2;c<=2;c++)for(var u=-2;u<=2;u++)this.setFunctionModule(a+u,l+c,Math.max(Math.abs(u),Math.abs(c))!=1)},o.prototype.setFunctionModule=function(a,l,c){this.modules[l][a]=c,this.isFunction[l][a]=!0},o.prototype.addEccAndInterleave=function(a){var l=this.version,c=this.errorCorrectionLevel;if(a.length!=o.getNumDataCodewords(l,c))throw new RangeError("Invalid argument");for(var u=o.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l],f=o.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l],d=Math.floor(o.getNumRawDataModules(l)/8),h=u-d%u,y=Math.floor(d/u),_=[],w=o.reedSolomonComputeDivisor(f),k=0,R=0;k<u;k++){var P=a.slice(R,R+y-f+(k<h?0:1));R+=P.length;var x=o.reedSolomonComputeRemainder(P,w);k<h&&P.push(0),_.push(P.concat(x))}for(var L=[],Q=function(q){_.forEach(function(ue,oe){(q!=y-f||oe>=h)&&L.push(ue[q])})},k=0;k<_[0].length;k++)Q(k);return s(L.length==d),L},o.prototype.drawCodewords=function(a){if(a.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var l=0,c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(var u=0;u<this.size;u++)for(var f=0;f<2;f++){var d=c-f,h=(c+1&2)==0,y=h?this.size-1-u:u;!this.isFunction[y][d]&&l<a.length*8&&(this.modules[y][d]=r(a[l>>>3],7-(l&7)),l++)}}s(l==a.length*8)},o.prototype.applyMask=function(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(var l=0;l<this.size;l++)for(var c=0;c<this.size;c++){var u=void 0;switch(a){case 0:u=(c+l)%2==0;break;case 1:u=l%2==0;break;case 2:u=c%3==0;break;case 3:u=(c+l)%3==0;break;case 4:u=(Math.floor(c/3)+Math.floor(l/2))%2==0;break;case 5:u=c*l%2+c*l%3==0;break;case 6:u=(c*l%2+c*l%3)%2==0;break;case 7:u=((c+l)%2+c*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][c]&&u&&(this.modules[l][c]=!this.modules[l][c])}},o.prototype.getPenaltyScore=function(){for(var a=0,l=0;l<this.size;l++){for(var c=!1,u=0,f=[0,0,0,0,0,0,0],d=0;d<this.size;d++)this.modules[l][d]==c?(u++,u==5?a+=o.PENALTY_N1:u>5&&a++):(this.finderPenaltyAddHistory(u,f),c||(a+=this.finderPenaltyCountPatterns(f)*o.PENALTY_N3),c=this.modules[l][d],u=1);a+=this.finderPenaltyTerminateAndCount(c,u,f)*o.PENALTY_N3}for(var d=0;d<this.size;d++){for(var c=!1,h=0,f=[0,0,0,0,0,0,0],l=0;l<this.size;l++)this.modules[l][d]==c?(h++,h==5?a+=o.PENALTY_N1:h>5&&a++):(this.finderPenaltyAddHistory(h,f),c||(a+=this.finderPenaltyCountPatterns(f)*o.PENALTY_N3),c=this.modules[l][d],h=1);a+=this.finderPenaltyTerminateAndCount(c,h,f)*o.PENALTY_N3}for(var l=0;l<this.size-1;l++)for(var d=0;d<this.size-1;d++){var y=this.modules[l][d];y==this.modules[l][d+1]&&y==this.modules[l+1][d]&&y==this.modules[l+1][d+1]&&(a+=o.PENALTY_N2)}for(var _=0,w=0,k=this.modules;w<k.length;w++){var R=k[w];_=R.reduce(function(L,Q){return L+(Q?1:0)},_)}var P=this.size*this.size,x=Math.ceil(Math.abs(_*20-P*10)/P)-1;return s(0<=x&&x<=9),a+=x*o.PENALTY_N4,s(0<=a&&a<=2568888),a},o.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var a=Math.floor(this.version/7)+2,l=Math.floor((this.version*8+a*3+5)/(a*4-4))*2,c=[6],u=this.size-7;c.length<a;u-=l)c.splice(1,0,u);return c},o.getNumRawDataModules=function(a){if(a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version number out of range");var l=(16*a+128)*a+64;if(a>=2){var c=Math.floor(a/7)+2;l-=(25*c-10)*c-55,a>=7&&(l-=36)}return s(208<=l&&l<=29648),l},o.getNumDataCodewords=function(a,l){return Math.floor(o.getNumRawDataModules(a)/8)-o.ECC_CODEWORDS_PER_BLOCK[l.ordinal][a]*o.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][a]},o.reedSolomonComputeDivisor=function(a){if(a<1||a>255)throw new RangeError("Degree out of range");for(var l=[],c=0;c<a-1;c++)l.push(0);l.push(1);for(var u=1,c=0;c<a;c++){for(var f=0;f<l.length;f++)l[f]=o.reedSolomonMultiply(l[f],u),f+1<l.length&&(l[f]^=l[f+1]);u=o.reedSolomonMultiply(u,2)}return l},o.reedSolomonComputeRemainder=function(a,l){for(var c=l.map(function(y){return 0}),u=function(y){var _=y^c.shift();c.push(0),l.forEach(function(w,k){return c[k]^=o.reedSolomonMultiply(w,_)})},f=0,d=a;f<d.length;f++){var h=d[f];u(h)}return c},o.reedSolomonMultiply=function(a,l){if(a>>>8||l>>>8)throw new RangeError("Byte out of range");for(var c=0,u=7;u>=0;u--)c=c<<1^(c>>>7)*285,c^=(l>>>u&1)*a;return s(c>>>8==0),c},o.prototype.finderPenaltyCountPatterns=function(a){var l=a[1];s(l<=this.size*3);var c=l>0&&a[2]==l&&a[3]==l*3&&a[4]==l&&a[5]==l;return(c&&a[0]>=l*4&&a[6]>=l?1:0)+(c&&a[6]>=l*4&&a[0]>=l?1:0)},o.prototype.finderPenaltyTerminateAndCount=function(a,l,c){return a&&(this.finderPenaltyAddHistory(l,c),l=0),l+=this.size,this.finderPenaltyAddHistory(l,c),this.finderPenaltyCountPatterns(c)},o.prototype.finderPenaltyAddHistory=function(a,l){l[0]==0&&(a+=this.size),l.pop(),l.unshift(a)},o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o}();e.QrCode=t;function n(o,a,l){if(a<0||a>31||o>>>a)throw new RangeError("Value out of range");for(var c=a-1;c>=0;c--)l.push(o>>>c&1)}function r(o,a){return(o>>>a&1)!=0}function s(o){if(!o)throw new Error("Assertion error")}var i=function(){function o(a,l,c){if(this.mode=a,this.numChars=l,this.bitData=c,l<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}return o.makeBytes=function(a){for(var l=[],c=0,u=a;c<u.length;c++){var f=u[c];n(f,8,l)}return new o(o.Mode.BYTE,a.length,l)},o.makeNumeric=function(a){if(!o.isNumeric(a))throw new RangeError("String contains non-numeric characters");for(var l=[],c=0;c<a.length;){var u=Math.min(a.length-c,3);n(parseInt(a.substring(c,c+u),10),u*3+1,l),c+=u}return new o(o.Mode.NUMERIC,a.length,l)},o.makeAlphanumeric=function(a){if(!o.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");var l=[],c;for(c=0;c+2<=a.length;c+=2){var u=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c))*45;u+=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c+1)),n(u,11,l)}return c<a.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c)),6,l),new o(o.Mode.ALPHANUMERIC,a.length,l)},o.makeSegments=function(a){return a==""?[]:o.isNumeric(a)?[o.makeNumeric(a)]:o.isAlphanumeric(a)?[o.makeAlphanumeric(a)]:[o.makeBytes(o.toUtf8ByteArray(a))]},o.makeEci=function(a){var l=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)n(a,8,l);else if(a<16384)n(2,2,l),n(a,14,l);else if(a<1e6)n(6,3,l),n(a,21,l);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,l)},o.isNumeric=function(a){return o.NUMERIC_REGEX.test(a)},o.isAlphanumeric=function(a){return o.ALPHANUMERIC_REGEX.test(a)},o.prototype.getData=function(){return this.bitData.slice()},o.getTotalBits=function(a,l){for(var c=0,u=0,f=a;u<f.length;u++){var d=f[u],h=d.mode.numCharCountBits(l);if(d.numChars>=1<<h)return 1/0;c+=4+h+d.bitData.length}return c},o.toUtf8ByteArray=function(a){a=encodeURI(a);for(var l=[],c=0;c<a.length;c++)a.charAt(c)!="%"?l.push(a.charCodeAt(c)):(l.push(parseInt(a.substring(c+1,c+3),16)),c+=2);return l},o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",o}();e.QrSegment=i})(Ft||(Ft={}));(function(e){(function(t){var n=function(){function r(s,i){this.ordinal=s,this.formatBits=i}return r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),r}();t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Ft||(Ft={}));(function(e){(function(t){var n=function(){function r(s,i){this.modeBits=s,this.numBitsCharCount=i}return r.prototype.numCharCountBits=function(s){return this.numBitsCharCount[Math.floor((s+7)/17)]},r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),r}();t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Ft||(Ft={}));var sn=Ft,Gs="L",Js={L:sn.QrCode.Ecc.LOW,M:sn.QrCode.Ecc.MEDIUM,Q:sn.QrCode.Ecc.QUARTILE,H:sn.QrCode.Ecc.HIGH},zf=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function Qs(e){return e in Js}function Ga(e,t){t===void 0&&(t=0);var n=[];return e.forEach(function(r,s){var i=null;r.forEach(function(o,a){if(!o&&i!==null){n.push("M".concat(i+t," ").concat(s+t,"h").concat(a-i,"v1H").concat(i+t,"z")),i=null;return}if(a===r.length-1){if(!o)return;i===null?n.push("M".concat(a+t,",").concat(s+t," h1v1H").concat(a+t,"z")):n.push("M".concat(i+t,",").concat(s+t," h").concat(a+1-i,"v1H").concat(i+t,"z"));return}o&&i===null&&(i=a)})}),n.join("")}function Ja(e,t,n,r){var s=r.width,i=r.height,o=r.x,a=r.y,l=e.length+n*2,c=Math.floor(t*.1),u=l/t,f=(s||c)*u,d=(i||c)*u,h=o==null?e.length/2-f/2:o*u,y=a==null?e.length/2-d/2:a*u,_=null;if(r.excavate){var w=Math.floor(h),k=Math.floor(y),R=Math.ceil(f+h-w),P=Math.ceil(d+y-k);_={x:w,y:k,w:R,h:P}}return{x:h,y,h:d,w:f,excavation:_}}function Qa(e,t){return e.slice().map(function(n,r){return r<t.y||r>=t.y+t.h?n:n.map(function(s,i){return i<t.x||i>=t.x+t.w?s:!1})})}var Ys={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:Gs,validator:function(e){return Qs(e)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(e){return["linear","radial"].indexOf(e)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},qf=rt(rt({},Ys),{renderAs:{type:String,required:!1,default:"canvas",validator:function(e){return["canvas","svg"].indexOf(e)>-1}}}),Hf=Fe({name:"QRCodeSvg",props:Ys,setup:function(e){var t=Ue(0),n=Ue(""),r,s=function(){var o=e.value,a=e.level,l=e.margin,c=l>>>0,u=Qs(a)?a:Gs,f=sn.QrCode.encodeText(o,Js[u]).getModules();if(t.value=f.length+c*2,e.imageSettings.src){var d=Ja(f,e.size,c,e.imageSettings);r={x:d.x+c,y:d.y+c,width:d.w,height:d.h},d.excavation&&(f=Qa(f,d.excavation))}n.value=Ga(f,c)},i=function(){if(!e.gradient)return null;var o=e.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return Oe(e.gradientType==="linear"?"linearGradient":"radialGradient",rt({id:"qr-gradient"},o),[Oe("stop",{offset:"0%",style:{stopColor:e.gradientStartColor}}),Oe("stop",{offset:"100%",style:{stopColor:e.gradientEndColor}})])};return s(),Us(s),function(){return Oe("svg",{width:e.size,height:e.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(t.value," ").concat(t.value)},[Oe("defs",{},[i()]),Oe("rect",{width:"100%",height:"100%",fill:e.background}),Oe("path",{fill:e.gradient?"url(#qr-gradient)":e.foreground,d:n.value}),e.imageSettings.src&&Oe("image",rt({href:e.imageSettings.src},r))])}}}),Vf=Fe({name:"QRCodeCanvas",props:Ys,setup:function(e,t){var n=Ue(null),r=Ue(null),s=function(){var o=e.value,a=e.level,l=e.size,c=e.margin,u=e.background,f=e.foreground,d=e.gradient,h=e.gradientType,y=e.gradientStartColor,_=e.gradientEndColor,w=c>>>0,k=Qs(a)?a:Gs,R=n.value;if(R){var P=R.getContext("2d");if(P){var x=sn.QrCode.encodeText(o,Js[k]).getModules(),L=x.length+w*2,Q=r.value,q={x:0,y:0,width:0,height:0},ue=e.imageSettings.src&&Q!=null&&Q.naturalWidth!==0&&Q.naturalHeight!==0;if(ue){var oe=Ja(x,e.size,w,e.imageSettings);q={x:oe.x+w,y:oe.y+w,width:oe.w,height:oe.h},oe.excavation&&(x=Qa(x,oe.excavation))}var we=window.devicePixelRatio||1,Ee=l/L*we;if(R.height=R.width=l*we,P.scale(Ee,Ee),P.fillStyle=u,P.fillRect(0,0,L,L),d){var ge=void 0;h==="linear"?ge=P.createLinearGradient(0,0,L,L):ge=P.createRadialGradient(L/2,L/2,0,L/2,L/2,L/2),ge.addColorStop(0,y),ge.addColorStop(1,_),P.fillStyle=ge}else P.fillStyle=f;zf?P.fill(new Path2D(Ga(x,w))):x.forEach(function(pe,ot){pe.forEach(function(He,ae){He&&P.fillRect(ae+w,ot+w,1,1)})}),ue&&P.drawImage(Q,q.x,q.y,q.width,q.height)}}};yn(s),Us(s);var i=t.attrs.style;return function(){return Oe(De,[Oe("canvas",rt(rt({},t.attrs),{ref:n,style:rt(rt({},i),{width:"".concat(e.size,"px"),height:"".concat(e.size,"px")})})),e.imageSettings.src&&Oe("img",{ref:r,src:e.imageSettings.src,style:{display:"none"},onLoad:s})])}}}),Kf=Fe({name:"Qrcode",render:function(){var e=this.$props,t=e.renderAs,n=e.value,r=e.size,s=e.margin,i=e.level,o=e.background,a=e.foreground,l=e.imageSettings,c=e.gradient,u=e.gradientType,f=e.gradientStartColor,d=e.gradientEndColor;return Oe(t==="svg"?Hf:Vf,{value:n,size:r,margin:s,level:i,background:o,foreground:a,imageSettings:l,gradient:c,gradientType:u,gradientStartColor:f,gradientEndColor:d})},props:qf});const Wf={"data-testid":"lobby-id"},Gf={"data-testid":"player-username"},Jf=["src"],Qf=Fe({__name:"AdminLobby",setup(e){const t=se("container"),n=se("notificationProvider"),r=Lr(),s=Yn(),i=parseInt(r.params.lobbyId),o=parseInt(r.params.quizId),a={name:"player-lobby",params:{lobbyId:i}},l=s.resolve(a).href,c=new URL(location.origin+l).toString(),u=Ue([]),f=async()=>{try{await t.quizService.startQuiz(i),await s.push({name:"admin-quiz",params:{quizId:o,lobbyId:i,questionOrder:1}})}catch(d){d instanceof Error&&n.showNotification("Error: "+d.message)}};return yn(async()=>{u.value=await t.quizService.getPlayersByLobby(i),t.quizService.startListeningForNewPlayers(i,d=>{u.value.push(d)})}),Fs(async()=>{try{await t.quizService.stopListeningForNewPlayers(i)}catch(d){d instanceof Error&&n.showNotification("Error: "+d.message)}}),(d,h)=>(he(),xe("div",null,[le("div",Wf,"Lobby ID: "+Dt(_e(i)),1),ke(Kf,{value:_e(c),"data-testid":"qr-code"},null,8,["value"]),le("div",null,[(he(!0),xe(De,null,Bs(u.value,y=>(he(),xe("div",{"data-testid":"player",key:y.id},[le("p",Gf,Dt(y.username),1),le("img",{"data-testid":"player-image",src:y.image},null,8,Jf)]))),128))]),ke(_e(Wa),{"data-testid":"initialize-quiz-button",onClick:f,to:{name:"admin-quiz",params:{quizId:_e(o),lobbyId:_e(i),questionOrder:1}}},{default:ia(()=>h[0]||(h[0]=[Aa("Initialize Quiz ")])),_:1},8,["to"])]))}}),Yf={"data-testid":"quiz-title"},Zf=["onClick"],Xf=Fe({__name:"AdminView",setup(e){const{quizService:t}=se("container"),{showNotification:n}=se("notificationProvider"),r=Yn(),s=Ue([]);yn(async()=>{s.value=await t.getQuizzes()});const i=async o=>{try{const a=await t.createLobby(o);r.push(`admin/lobby/${a.id}`)}catch{n("Error: Failed to create lobby")}};return(o,a)=>(he(!0),xe(De,null,Bs(s.value,l=>(he(),xe("div",{key:l.id},[le("h1",Yf,Dt(l.name),1),le("button",{"data-testid":"initialize-quiz-button",onClick:c=>i(l.id)}," Initialize ",8,Zf)]))),128))}}),ed=Fe({__name:"HomeView",setup(e){const t=Yn(),n=se("container"),r=se("notificationProvider"),s=Ue(""),i=async()=>{if(isNaN(parseInt(s.value))){r.showNotification("Error: Invalid lobby id");return}try{const o=await n.quizService.getQuizByLobbyId(parseInt(s.value));await t.push({name:"player-lobby",params:{lobbyId:s.value,quizId:o.id}})}catch(o){o instanceof Error&&r.showNotification(`Error: ${o.message}`)}};return(o,a)=>(he(),xe("div",null,[le("form",{"data-testid":"join-lobby-form",onSubmit:i},[oa(le("input",{type:"text","data-testid":"join-lobby-input","onUpdate:modelValue":a[0]||(a[0]=l=>s.value=l)},null,512),[[ja,s.value]])],32)]))}}),td={key:0},nd=["src"],rd={"data-testid":"player-username"},sd=Fe({__name:"PlayerLobbyBeforeQuizStarts",setup(e){const t=Yn(),n=Lr(),r=parseInt(n.params.lobbyId),s=parseInt(n.params.quizId),i=se("container"),o=se("notificationProvider"),{player:a}=se("playerProvider");return a||(o.showNotification("Error: Player not found"),t.push({name:"home"})),yn(()=>{i.quizService.listenQuizStart(r,()=>{t.push({name:"player-quiz",params:{quizId:s,lobbyId:r,questionOrder:1}})})}),(l,c)=>_e(a)?(he(),xe("div",td,[le("img",{src:_e(a).image,"data-testid":"player-avatar"},null,8,nd),le("span",rd,Dt(_e(a).username),1)])):Rn("",!0)}}),id={player:null},od=Fe({__name:"PlayerProviders",setup(e){return Ln("playerProvider",id),(t,n)=>(he(),qs(_e(Ws)))}}),ad={fileToDataURL(e){return new Promise((t,n)=>{const r=new FileReader;r.onloadend=s=>t(r.result),r.onerror=s=>n(r.error),r.onabort=s=>n(new Error("Read aborted")),r.readAsDataURL(e)})}},ld=["src"],cd=Fe({__name:"PlayersLobby",setup(e){const t=se("container"),n=se("notificationProvider"),r=se("playerProvider"),s=Lr(),i=Yn(),o=parseInt(s.params.lobbyId),a=parseInt(s.params.quizId),l=Ue(""),c=Ue(null),u=Ue(""),f=async()=>{if(l.value.length<4){n.showNotification("Error: Username should be at least 4 characters long");return}try{r.player=await t.quizService.createPlayerByLobbyId(o,l.value,c.value),await i.push({name:"player-lobby-before-quiz-starts",params:{lobbyId:o,quizId:a}})}catch{n.showNotification("Error: Failed to create player")}},d=async h=>{const y=await t.avatarService.generateAvatarByString(l.value);c.value=y,u.value=await ad.fileToDataURL(y)};return(h,y)=>(he(),xe("div",null,[le("form",{onSubmit:Ou(f,["prevent"]),"data-testid":"player-form"},[le("img",{"data-testid":"player-avatar",src:u.value},null,8,ld),oa(le("input",{type:"text",onInput:d,"onUpdate:modelValue":y[0]||(y[0]=_=>l.value=_),"data-testid":"player-username-input"},null,544),[[ja,l.value]]),y[1]||(y[1]=le("input",{type:"submit","data-testid":"player-submit"},null,-1))],32)]))}}),ud={key:0},fd=["src"],dd={key:1},hd={"data-testid":"time-left"},pd={key:2},gd={"data-testid":"question-answers"},md={"data-testid":"answer-title"},yd=1e3,_d=Fe({__name:"AdminQuestionView",props:{countdownTimeInS:{type:Number,required:!1,default:()=>10}},setup(e){const t=Lr(),n=parseInt(t.params.quizId),r=parseInt(t.params.questionOrder),s=parseInt(t.params.lobbyId),i=se("container"),o=Ue(null),a=Ue(e.countdownTimeInS);return yn(async()=>{o.value=await i.quizService.getQuestionByQuizIdAndQuestionOrder(n,r);const l=setInterval(c,yd);function c(){if(a.value===0){clearInterval(l);return}i.quizService.updateCountdown(s,a.value--)}}),(l,c)=>(he(),xe("div",null,[o.value?(he(),xe("div",ud,[c[0]||(c[0]=le("div",{"data-testid":"question-title"},"Question 1",-1)),a.value===0?(he(),xe("img",{key:0,"data-testid":"question-image",src:o.value.image},null,8,fd)):Rn("",!0)])):Rn("",!0),a.value>0?(he(),xe("div",dd,[le("div",hd,Dt(a.value),1)])):Rn("",!0),a.value===0&&o.value?(he(),xe("div",pd,[le("div",gd,[(he(!0),xe(De,null,Bs(o.value.answers,u=>(he(),xe("div",{key:u.id},[le("div",md,Dt(u.title),1)]))),128))])])):Rn("",!0)]))}}),vd=Nf({history:gf("/supahoot/"),routes:[{path:"/admin",name:"admin",component:Xf},{path:"/admin/quiz/:quizId/lobby/:lobbyId",name:"admin-lobby",component:Qf},{path:"/admin/quiz/:quizId/lobby/:lobbyId/question/:questionOrder",name:"admin-quiz",component:_d},{path:"/",name:"home",component:ed},{path:"/quiz/:quizId/lobby/:lobbyId",component:od,children:[{path:"",name:"player-lobby",component:cd},{path:"before-start",name:"player-lobby-before-quiz-starts",component:sd}]}]}),bd="modulepreload",wd=function(e){return"/supahoot/"+e},Yi={},gn=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=wd(l),l in Yi)return;Yi[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":bd,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Ed=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gn(async()=>{const{default:r}=await Promise.resolve().then(()=>_n);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Zs extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Sd extends Zs{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class xd extends Zs{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Pd extends Zs{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ms;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ms||(ms={}));var Cd=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class kd{constructor(t,{headers:n={},customFetch:r,region:s=ms.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Ed(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Cd(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(y=>{throw new Sd(y)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new xd(u);if(!u.ok)throw new Pd(u);let d=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return d==="application/json"?h=yield u.json():d==="application/octet-stream"?h=yield u.blob():d==="text/event-stream"?h=u:d==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(s){return{data:null,error:s}}})}}function Rd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Td(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var fe={},Wt={},Gt={},Jt={},Qt={},Yt={},Ad=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mn=Ad();const Od=mn.fetch,Ya=mn.fetch.bind(mn),Za=mn.Headers,$d=mn.Request,Id=mn.Response,_n=Object.freeze(Object.defineProperty({__proto__:null,Headers:Za,Request:$d,Response:Id,default:Ya,fetch:Od},Symbol.toStringTag,{value:"Module"})),jd=Td(_n);var sr={},Zi;function Xa(){if(Zi)return sr;Zi=1,Object.defineProperty(sr,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return sr.default=e,sr}var Xi;function el(){if(Xi)return Yt;Xi=1;var e=Yt&&Yt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Yt,"__esModule",{value:!0});const t=e(jd),n=e(Xa());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,f,d;let h=null,y=null,_=null,w=c.status,k=c.statusText;if(c.ok){if(this.method!=="HEAD"){const L=await c.text();L===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=L:y=JSON.parse(L))}const P=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),x=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");P&&x&&x.length>1&&(_=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(h={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,_=null,w=406,k="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const P=await c.text();try{h=JSON.parse(P),Array.isArray(h)&&c.status===404&&(y=[],h=null,w=200,k="OK")}catch{c.status===404&&P===""?(w=204,k="No Content"):h={message:P}}if(h&&this.isMaybeSingle&&(!((d=h==null?void 0:h.details)===null||d===void 0)&&d.includes("0 rows"))&&(h=null,w=200,k="OK"),h&&this.shouldThrowOnError)throw new n.default(h)}return{error:h,data:y,count:_,status:w,statusText:k}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,f,d;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(d=c==null?void 0:c.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}}return Yt.default=r,Yt}var eo;function tl(){if(eo)return Qt;eo=1;var e=Qt&&Qt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qt,"__esModule",{value:!0});const t=e(el());class n extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const f=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${d}"; options=${f};`,c==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Qt.default=n,Qt}var to;function Xs(){if(to)return Jt;to=1;var e=Jt&&Jt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jt,"__esModule",{value:!0});const t=e(tl());class n extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${l}fts${c}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return Jt.default=n,Jt}var no;function nl(){if(no)return Gt;no=1;var e=Gt&&Gt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gt,"__esModule",{value:!0});const t=e(Xs());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=i,this.schema=o,this.fetch=a}select(s,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const c=(s??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(s)){const c=s.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(s)){const f=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(f.length>0){const d=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const i="DELETE",o=[];return s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Gt.default=n,Gt}var xn={},Pn={},ro;function Ld(){return ro||(ro=1,Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.version=void 0,Pn.version="0.0.0-automated"),Pn}var so;function Md(){if(so)return xn;so=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.DEFAULT_HEADERS=void 0;const e=Ld();return xn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},xn}var io;function Dd(){if(io)return Wt;io=1;var e=Wt&&Wt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Wt,"__esModule",{value:!0});const t=e(nl()),n=e(Xs()),r=Md();class s{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){let f;const d=new URL(`${this.url}/rpc/${o}`);let h;l||c?(f=l?"HEAD":"GET",Object.entries(a).filter(([_,w])=>w!==void 0).map(([_,w])=>[_,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([_,w])=>{d.searchParams.append(_,w)})):(f="POST",h=a);const y=Object.assign({},this.headers);return u&&(y.Prefer=`count=${u}`),new n.default({method:f,url:d,headers:y,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return Wt.default=s,Wt}var oo;function Nd(){if(oo)return fe;oo=1;var e=fe&&fe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(fe,"__esModule",{value:!0}),fe.PostgrestError=fe.PostgrestBuilder=fe.PostgrestTransformBuilder=fe.PostgrestFilterBuilder=fe.PostgrestQueryBuilder=fe.PostgrestClient=void 0;const t=e(Dd());fe.PostgrestClient=t.default;const n=e(nl());fe.PostgrestQueryBuilder=n.default;const r=e(Xs());fe.PostgrestFilterBuilder=r.default;const s=e(tl());fe.PostgrestTransformBuilder=s.default;const i=e(el());fe.PostgrestBuilder=i.default;const o=e(Xa());return fe.PostgrestError=o.default,fe.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},fe}var Ud=Nd();const Fd=Rd(Ud),{PostgrestClient:Bd,PostgrestQueryBuilder:Qp,PostgrestFilterBuilder:Yp,PostgrestTransformBuilder:Zp,PostgrestBuilder:Xp,PostgrestError:eg}=Fd,zd="2.11.2",qd={"X-Client-Info":`realtime-js/${zd}`},Hd="1.0.0",rl=1e4,Vd=1e3;var fn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fn||(fn={}));var Le;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Le||(Le={}));var Ve;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ve||(Ve={}));var ys;(function(e){e.websocket="websocket"})(ys||(ys={}));var jt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(jt||(jt={}));class Kd{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class sl{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ne||(ne={}));const ao=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Wd(o,e,t,s),i),{})},Wd=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?il(i,o):_s(o)},il=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Yd(t,n)}switch(e){case ne.bool:return Gd(t);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return Jd(t);case ne.json:case ne.jsonb:return Qd(t);case ne.timestamp:return Zd(t);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return _s(t);default:return _s(t)}},_s=e=>e,Gd=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Jd=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Qd=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Yd=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>il(t,a))}return e},Zd=e=>typeof e=="string"?e.replace(" ","T"):e,ol=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Yr{constructor(t,n,r={},s=rl){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var lo;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(lo||(lo={}));class Un{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Un.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Un.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Un.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const f=i[c];if(f){const d=u.map(w=>w.presence_ref),h=f.map(w=>w.presence_ref),y=u.filter(w=>h.indexOf(w.presence_ref)<0),_=f.filter(w=>d.indexOf(w.presence_ref)<0);y.length>0&&(a[c]=y),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const f=t[a].map(h=>h.presence_ref),d=u.filter(h=>f.indexOf(h.presence_ref)<0);t[a].unshift(...d)}r(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var co;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(co||(co={}));var uo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(uo||(uo={}));var ft;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ft||(ft={}));class ei{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Yr(this,Ve.join,this.params,this.timeout),this.rejoinTimer=new sl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Le.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ve.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Un(this),this.broadcastEndpointURL=ol(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(ft.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(ft.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(ft.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,h=(f=d==null?void 0:d.length)!==null&&f!==void 0?f:0,y=[];for(let _=0;_<h;_++){const w=d[_],{filter:{event:k,schema:R,table:P,filter:x}}=w,L=u&&u[_];if(L&&L.event===k&&L.schema===R&&L.table===P&&L.filter===x)y.push(Object.assign(Object.assign({},w),{id:L.id}));else{this.unsubscribe(),t==null||t(ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(ft.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Le.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ve.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Yr(this,Ve.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Yr(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Ve;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let d=this._onMessage(o,n,r);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var y,_,w;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(_=h.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(h=>h.callback(d,r)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var y,_,w,k,R,P;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const x=h.id,L=(y=h.filter)===null||y===void 0?void 0:y.event;return x&&((_=n.ids)===null||_===void 0?void 0:_.includes(x))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const x=(R=(k=h==null?void 0:h.filter)===null||k===void 0?void 0:k.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return x==="*"||x===((P=n==null?void 0:n.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof d=="object"&&"ids"in d){const y=d.data,{schema:_,table:w,commit_timestamp:k,type:R,errors:P}=y;d=Object.assign(Object.assign({},{schema:_,table:w,commit_timestamp:k,eventType:R,new:{},old:{},errors:P}),this._getPayloadRecords(y))}h.callback(d,r)})}_isClosed(){return this.state===Le.closed}_isJoined(){return this.state===Le.joined}_isJoining(){return this.state===Le.joining}_isLeaving(){return this.state===Le.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ei.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ve.close,{},t)}_onError(t){this._on(Ve.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Le.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ao(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ao(t.columns,t.old_record)),n}}const Xd=()=>{},eh=typeof WebSocket<"u",th=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nh{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=qd,this.params={},this.timeout=rl,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Xd,this.conn=null,this.sendBuffer=[],this.serializer=new Kd,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>gn(async()=>{const{default:l}=await Promise.resolve().then(()=>_n);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${ys.websocket}`,this.httpEndpoint=ol(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new sl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(eh){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new rh(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),gn(async()=>{const{default:t}=await import("./browser-DwxIEqCr.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Hd}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fn.connecting:return jt.Connecting;case fn.open:return jt.Open;case fn.closing:return jt.Closing;default:return jt.Closed}}isConnected(){return this.connectionState()===jt.Open}channel(t,n={config:{}}){const r=new ei(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Ve.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Vd,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ve.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([th],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class rh{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=fn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class ti extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function de(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class sh extends ti{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class vs extends ti{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var ih=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const al=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gn(async()=>{const{default:r}=await Promise.resolve().then(()=>_n);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},oh=()=>ih(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gn(()=>Promise.resolve().then(()=>_n),void 0)).Response:Response}),bs=e=>{if(Array.isArray(e))return e.map(n=>bs(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=bs(r)}),t};var zt=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Zr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ah=(e,t,n)=>zt(void 0,void 0,void 0,function*(){const r=yield oh();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new sh(Zr(s),e.status||500))}).catch(s=>{t(new vs(Zr(s),s))}):t(new vs(Zr(e),e))}),lh=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Zn(e,t,n,r,s,i){return zt(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,lh(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ah(l,a,r))})})}function br(e,t,n,r){return zt(this,void 0,void 0,function*(){return Zn(e,"GET",t,n,r)})}function Et(e,t,n,r,s){return zt(this,void 0,void 0,function*(){return Zn(e,"POST",t,r,s,n)})}function ch(e,t,n,r,s){return zt(this,void 0,void 0,function*(){return Zn(e,"PUT",t,r,s,n)})}function uh(e,t,n,r){return zt(this,void 0,void 0,function*(){return Zn(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ll(e,t,n,r,s){return zt(this,void 0,void 0,function*(){return Zn(e,"DELETE",t,r,s,n)})}var Ae=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const fh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dh{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=al(s)}uploadOrUpdate(t,n,r,s){return Ae(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},fo),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield f.json();return f.ok?{data:{path:c,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(de(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ae(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:fo.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),d=yield f.json();return f.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(de(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Ae(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Et(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ti("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ae(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ae(this,void 0,void 0,function*(){try{return{data:{path:(yield Et(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ae(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Et(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ae(this,void 0,void 0,function*(){try{const s=yield Et(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}download(t,n){return Ae(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield br(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(de(a))return{data:null,error:a};throw a}})}info(t){return Ae(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield br(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:bs(r),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}exists(t){return Ae(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield uh(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(de(r)&&r instanceof vs){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return Ae(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ae(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},fh),n),{prefix:t||""});return{data:yield Et(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const hh="2.7.1",ph={"X-Client-Info":`storage-js/${hh}`};var Zt=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class gh{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},ph),n),this.fetch=al(r)}listBuckets(){return Zt(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(de(t))return{data:null,error:t};throw t}})}getBucket(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Zt(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Zt(this,void 0,void 0,function*(){try{return{data:yield ch(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}}class mh extends gh{constructor(t,n={},r){super(t,n,r)}from(t){return new dh(this.url,this.headers,t,this.fetch)}}const yh="2.48.1";let Tn="";typeof Deno<"u"?Tn="deno":typeof document<"u"?Tn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tn="react-native":Tn="node";const _h={"X-Client-Info":`supabase-js-${Tn}/${yh}`},vh={headers:_h},bh={schema:"public"},wh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Eh={};var Sh=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const xh=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ya:t=fetch,(...n)=>t(...n)},Ph=()=>typeof Headers>"u"?Za:Headers,Ch=(e,t,n)=>{const r=xh(n),s=Ph();return(i,o)=>Sh(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var kh=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function Rh(e){return e.replace(/\/$/,"")}function Th(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>kh(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const cl="2.67.3",Ah="http://localhost:9999",Oh="supabase.auth.token",$h={"X-Client-Info":`gotrue-js/${cl}`},ho=10,ws="X-Supabase-Api-Version",ul={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Ih(e){return Math.round(Date.now()/1e3)+e}function jh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const et=()=>typeof window<"u"&&typeof document<"u",Ot={tested:!1,writable:!1},Fn=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ot.tested)return Ot.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ot.tested=!0,Ot.writable=!0}catch{Ot.tested=!0,Ot.writable=!1}return Ot.writable};function Lh(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const fl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gn(async()=>{const{default:r}=await Promise.resolve().then(()=>_n);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Mh=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",dl=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ir=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},or=async(e,t)=>{await e.removeItem(t)};function Dh(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,c,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)o=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Mr{constructor(){this.promise=new Mr.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Mr.promiseConstructor=Promise;function po(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(Dh(r))}async function Nh(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Uh(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Fh(e){return("0"+e.toString(16)).substr(-2)}function Bh(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Fh).join("")}async function zh(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function qh(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hh(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await zh(e);return qh(n)}async function Xt(e,t,n=!1){const r=Bh();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await dl(e,`${t}-code-verifier`,s);const i=await Hh(r);return[i,r===i?"plain":"s256"]}const Vh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kh(e){const t=e.headers.get(ws);if(!t||!t.match(Vh))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class ni extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Wh extends ni{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Gh(e){return z(e)&&e.name==="AuthApiError"}class hl extends ni{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class qt extends ni{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class yt extends qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jh(e){return z(e)&&e.name==="AuthSessionMissingError"}class Xr extends qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ar extends qt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class lr extends qt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Qh(e){return z(e)&&e.name==="AuthImplicitGrantRedirectError"}class go extends qt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Es extends qt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function es(e){return z(e)&&e.name==="AuthRetryableFetchError"}class mo extends qt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Yh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const It=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Zh=[502,503,504];async function yo(e){var t;if(!Mh(e))throw new Es(It(e),0);if(Zh.includes(e.status))throw new Es(It(e),e.status);let n;try{n=await e.json()}catch(i){throw new hl(It(i),i)}let r;const s=Kh(e);if(s&&s.getTime()>=ul["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new mo(It(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new yt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new mo(It(n),e.status,n.weak_password.reasons);throw new Wh(It(n),e.status||500,r)}const Xh=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function H(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ws]||(i[ws]=ul["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ep(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function ep(e,t,n,r,s,i){const o=Xh(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Es(It(l),0)}if(a.ok||await yo(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await yo(l)}}function _t(e){var t;let n=null;sp(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Ih(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function _o(e){const t=_t(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function St(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function tp(e){return{data:e,error:null}}function np(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Yh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function rp(e){return e}function sp(e){return e.access_token&&e.refresh_token&&e.expires_in}var ip=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class op{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=fl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:St})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=ip(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:np,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:St})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:rp});if(u.error)throw u.error;const f=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);c[`${w}Page`]=_}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(z(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await H(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:St})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:St})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:St})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await H(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(z(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}const ap={getItem:e=>Fn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Fn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Fn()&&globalThis.localStorage.removeItem(e)}};function vo(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function lp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const en={debug:!!(globalThis&&Fn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pl extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class cp extends pl{}async function up(e,t,n){en.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),en.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){en.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{en.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw en.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new cp(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(en.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}lp();const fp={url:Ah,storageKey:Oh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$h,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Cn=30*1e3,bo=3;async function wo(e,t,n){return await n()}class Gn{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gn.nextInstanceID,Gn.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},fp),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new op({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=fl(s.fetch),this.lock=s.lock||wo,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:et()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=up:this.lock=wo,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Fn()?this.storage=ap:(this.memoryStorage={},this.storage=vo(this.memoryStorage)):(this.memoryStorage={},this.storage=vo(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cl}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Lh(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),et()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Qh(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return z(n)?{error:n}:{error:new hl("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:_t}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:u,password:f,options:d}=t;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await Xt(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:y},xform:_t})}else if("phone"in t){const{phone:u,password:f,options:d}=t;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:_t})}else throw new ar("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_o})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_o})}else throw new ar("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Xr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await ir(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:_t});if(await or(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Xr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:_t}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Xr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Xt(this.storage,this.storageKey));const{error:f}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new ar("You must provide either an email or phone number.")}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:_t});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Xt(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:tp})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new yt;const{error:s}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await H(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await H(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ar("You must provide either an email or phone number and a type")}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ir(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:St}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yt}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:St})})}catch(n){if(z(n))return Jh(n)&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new yt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Xt(this.storage,this.storageKey));const{data:c,error:u}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:St});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return po(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new yt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=po(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(z(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new yt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!et())throw new lr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new lr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new go("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lr("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new go("No code detected.");const{data:R,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new lr("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let d=u+f;l&&(d=parseInt(l));const h=d-u;h*1e3<=Cn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const y=d-f;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,d,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,d,u);const{data:_,error:w}=await this._getUser(i);if(w)throw w;const k={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:d,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:t.type},error:null}}catch(r){if(z(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ir(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Gh(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=jh(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Xt(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:f,error:d}=i;if(d)throw d;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return et()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(z(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Uh(async s=>(s>0&&await Nh(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_t})),(s,i)=>{const o=200*Math.pow(2,s);return i&&es(i)&&Date.now()+o-r<Cn})}catch(r){if(this._debug(n,"error",r),z(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),et()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ir(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+ho;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${ho}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),es(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Mr;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new yt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),z(i)){const o={session:null,error:i};return es(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await dl(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await or(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Cn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Cn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Cn}ms, refresh threshold is ${bo} ticks`),s<=bo&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof pl)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Xt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await H(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Gn.nextInstanceID=0;const dp=Gn;class hp extends dp{constructor(t){super(t)}}var pp=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class gp{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Rh(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:bh,realtime:Eh,auth:Object.assign(Object.assign({},wh),{storageKey:l}),global:vh},u=Th(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Ch(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Bd(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new kd(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new mh(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return pp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hp({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new nh(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mp=(e,t,n)=>new gp(e,t,n);class yp{constructor(){er(this,"supabase",mp("https://dnsewtyjyfqpkugrwhmq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRuc2V3dHlqeWZxcGt1Z3J3aG1xIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY2NTc0ODUsImV4cCI6MjA1MjIzMzQ4NX0.OPESoZ2-AJfV3TvfKxemcLjmn9730bRd5DVXAlJxPbQ"));er(this,"channels",{});er(this,"eventListeners",{listen_for_new_players:[],start_quiz:[],update_countdown:[]})}async getQuizzes(){const{error:t,data:n}=await this.supabase.from("quizzes").select("*");if(t)throw new Error(t.message);return n}async createLobby(t){const{error:n,data:r}=await this.supabase.from("lobbies").insert({quiz_id:t}).select();if(n)throw new Error(n.message);return r[0]}async getPlayersByLobby(t){const{error:n,data:r}=await this.supabase.from("players").select("*").eq("lobby_id",t),s=r.map(this.generatePlayerWithAvatar.bind(this));if(n)throw new Error(n.message);return s}startListeningForNewPlayers(t,n){this.initializeLobbyChannel(t),this.eventListeners.listen_for_new_players.push(n)}async stopListeningForNewPlayers(t){this.initializeLobbyChannel(t),this.eventListeners.listen_for_new_players=[]}async createPlayerByLobbyId(t,n,r){const{error:s,data:i}=await this.supabase.storage.from("player-avatars").upload(`public/${t}_${n}.jpeg`,r);if(s)throw new Error(s.message);const{error:o,data:a}=await this.supabase.from("players").insert({lobby_id:t,username:n,image:i.path}).select();if(o)throw new Error(o.message);return this.generatePlayerWithAvatar(a[0])}async startQuiz(t){if(await this.initializeLobbyChannel(t).send({type:"broadcast",event:"start_quiz"})!=="ok")throw new Error("Failed to start quiz")}async getQuizByLobbyId(t){const{error:n,data:r}=await this.supabase.from("lobbies").select("quizzes(*)").eq("id",t);if(n)throw new Error(n.message);return r[0].quizzes}async getQuestionByQuizIdAndQuestionOrder(t,n){const{error:r,data:s}=await this.supabase.from("questions").select("*, answers(*)").eq('"order"',n).eq("quiz_id",t);if(r)throw new Error(r.message);return s[0]}listenCountdown(t,n){this.initializeLobbyChannel(t),this.eventListeners.update_countdown.push(n)}updateCountdown(t,n){this.initializeLobbyChannel(t).send({type:"broadcast",event:"update_countdown",payload:{count:n}})}listenQuizStart(t,n){this.initializeLobbyChannel(t),this.eventListeners.start_quiz.push(n)}initializeLobbyChannel(t){if(this.channels[`lobby-${t}`])return this.channels[`lobby-${t}`];const n=this.supabase.channel(`lobby-${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"players",filter:`lobby_id=eq.${t}`},r=>{const s={...r.new,image:this.getPlayerAvatarUrl(r.new)};this.eventListeners.listen_for_new_players.forEach(i=>{i(s)})}).on("broadcast",{event:"start_quiz"},r=>{this.eventListeners.start_quiz.forEach(s=>{s()})}).on("broadcast",{event:"update_countdown"},r=>{this.eventListeners.update_countdown.forEach(s=>{s(r.payload.count)})}).subscribe();return this.channels[`lobby-${t}`]=n,n}generatePlayerWithAvatar(t){return{...t,image:this.getPlayerAvatarUrl(t)}}getPlayerAvatarUrl(t){const{data:{publicUrl:n}}=this.supabase.storage.from("player-avatars").getPublicUrl(t.image);return n}}function Lt(e){return e.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function _p(e){var t,n,r,s,i,o,a;const l=(t=e.meta)===null||t===void 0?void 0:t.title,c=(n=e.meta)===null||n===void 0?void 0:n.creator,u=(r=e.meta)===null||r===void 0?void 0:r.source,f=(i=(s=e.meta)===null||s===void 0?void 0:s.license)===null||i===void 0?void 0:i.url,d=vp(e);return!l&&!c&&!u&&!f&&!d?"":'<metadata xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"><rdf:RDF><rdf:Description>'+(l?`<dc:title>${Lt(l)}</dc:title>`:"")+(c?`<dc:creator>${Lt(c)}</dc:creator>`:"")+(u?`<dc:source xsi:type="dcterms:URI">${Lt((a=(o=e.meta)===null||o===void 0?void 0:o.source)!==null&&a!==void 0?a:"")}</dc:source>`:"")+(f?`<dcterms:license xsi:type="dcterms:URI">${Lt(f)}</dcterms:license>`:"")+(d?`<dc:rights>${Lt(d)}</dc:rights>`:"")+"</rdf:Description></rdf:RDF></metadata>"}function vp(e){var t,n,r,s,i,o,a,l,c,u,f,d,h,y,_;let w=!((t=e.meta)===null||t===void 0)&&t.title?`„${(n=e.meta)===null||n===void 0?void 0:n.title}”`:"Design",k=`„${(s=(r=e.meta)===null||r===void 0?void 0:r.creator)!==null&&s!==void 0?s:"Unknown"}”`;!((i=e.meta)===null||i===void 0)&&i.source&&(w+=` (${e.meta.source})`);let R="";return((a=(o=e.meta)===null||o===void 0?void 0:o.license)===null||a===void 0?void 0:a.name)!=="MIT"&&((l=e.meta)===null||l===void 0?void 0:l.creator)!=="DiceBear"&&(!((c=e.meta)===null||c===void 0)&&c.title)&&(R+="Remix of "),R+=`${w} by ${k}`,!((f=(u=e.meta)===null||u===void 0?void 0:u.license)===null||f===void 0)&&f.name&&(R+=`, licensed under „${(h=(d=e.meta)===null||d===void 0?void 0:d.license)===null||h===void 0?void 0:h.name}”`,!((_=(y=e.meta)===null||y===void 0?void 0:y.license)===null||_===void 0)&&_.url&&(R+=` (${e.meta.license.url})`)),R}const Eo=-2147483648,bp=2147483647;function gl(e){return e^=e<<13,e^=e>>17,e^=e<<5,e}function wp(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0,t=gl(t);return t}function wr(e=""){e=e.toString();let t=wp(e)||1;const n=()=>t=gl(t),r=(s,i)=>Math.floor((n()-Eo)/(bp-Eo)*(i+1-s)+s);return{seed:e,next:n,bool(s=50){return r(1,100)<=s},integer(s,i){return r(s,i)},pick(s,i){var o;return s.length===0?(n(),i):(o=s[r(0,s.length-1)])!==null&&o!==void 0?o:i},shuffle(s){const i=wr(n().toString()),o=[...s];for(let a=o.length-1;a>0;a--){const l=i.integer(0,a);[o[a],o[l]]=[o[l],o[a]]}return o},string(s,i="abcdefghijklmnopqrstuvwxyz1234567890"){const o=wr(n().toString());let a="";for(let l=0;l<s;l++)a+=i[o.integer(0,i.length-1)];return a}}}function vn(e){let t=e.attributes.viewBox.split(" "),n=parseInt(t[0]),r=parseInt(t[1]),s=parseInt(t[2]),i=parseInt(t[3]);return{x:n,y:r,width:s,height:i}}function Ep(e,t,n,r,s){let{width:i,height:o,x:a,y:l}=vn(e);const c=`<rect fill="${t}" width="${i}" height="${o}" x="${a}" y="${l}" />`;switch(r){case"solid":return c+e.body;case"gradientLinear":return`<rect fill="url(#backgroundLinear)" width="${i}" height="${o}" x="${a}" y="${l}" /><defs><linearGradient id="backgroundLinear" gradientTransform="rotate(${s} 0.5 0.5)"><stop stop-color="${t}"/><stop offset="1" stop-color="${n}"/></linearGradient></defs>`+e.body}}function Sp(e,t){let{width:n,height:r,x:s,y:i}=vn(e),o=t?(t-100)/100:0,a=(n/2+s)*o*-1,l=(r/2+i)*o*-1;return`<g transform="translate(${a} ${l}) scale(${t/100})">${e.body}</g>`}function xp(e,t,n){let r=vn(e),s=(r.width+r.x*2)*((t??0)/100),i=(r.height+r.y*2)*((n??0)/100);return`<g transform="translate(${s} ${i})">${e.body}</g>`}function Pp(e,t){let{width:n,height:r,x:s,y:i}=vn(e);return`<g transform="rotate(${t}, ${n/2+s}, ${r/2+i})">${e.body}</g>`}function Cp(e){let{width:t,x:n}=vn(e);return`<g transform="scale(-1 1) translate(${t*-1-n*2} 0)">${e.body}</g>`}function kp(e,t){let{width:n,height:r,x:s,y:i}=vn(e),o=t?n*t/100:0,a=t?r*t/100:0;return`<mask id="viewboxMask"><rect width="${n}" height="${r}" rx="${o}" ry="${a}" x="${s}" y="${i}" fill="#fff" /></mask><g mask="url(#viewboxMask)">${e.body}</g>`}function Rp(e){const t={xmlns:"http://www.w3.org/2000/svg",...e.attributes};return Object.keys(t).map(n=>`${Lt(n)}="${Lt(t[n])}"`).join(" ")}function Tp(e){const t=wr(Math.random().toString()),n={};return e.body.replace(/(id="|url\(#)([a-z0-9-_]+)([")])/gi,(r,s,i,o)=>(n[i]=n[i]||t.string(8),`${s}${n[i]}${o}`))}const Ap={properties:{seed:{type:"string"},flip:{type:"boolean",default:!1},rotate:{type:"integer",minimum:0,maximum:360,default:0},scale:{type:"integer",minimum:0,maximum:200,default:100},radius:{type:"integer",minimum:0,maximum:50,default:0},size:{type:"integer",minimum:1},backgroundColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"}},backgroundType:{type:"array",items:{type:"string",enum:["solid","gradientLinear"]},default:["solid"]},backgroundRotation:{type:"array",items:{type:"integer",minimum:-360,maximum:360},default:[0,360]},translateX:{type:"integer",minimum:-100,maximum:100,default:0},translateY:{type:"integer",minimum:-100,maximum:100,default:0},clip:{type:"boolean",default:!0},randomizeIds:{type:"boolean",default:!1}}};function So(e){var t;let n={},r=(t=e.properties)!==null&&t!==void 0?t:{};return Object.keys(r).forEach(s=>{let i=r[s];typeof i=="object"&&i.default!==void 0&&(Array.isArray(i.default)?n[s]=[...i.default]:typeof i.default=="object"?n[s]={...i.default}:n[s]=i.default)}),n}function Op(e,t){var n;let r={...So(Ap),...So((n=e.schema)!==null&&n!==void 0?n:{}),...t};return JSON.parse(JSON.stringify(r))}function xo(e){return e==="transparent"?e:`#${e}`}function $p(e,t,n){var r;let s=e.shuffle(t);s.length<=1||t.length==2&&n=="gradientLinear"?(s=t,e.next()):s=e.shuffle(t),s.length===0&&(s=["transparent"]);const i=s[0],o=(r=s[1])!==null&&r!==void 0?r:s[0];return{primary:xo(i),secondary:xo(o)}}function Ip(e,t={}){var n,r,s,i,o;t=Op(e,t);const a=wr(t.seed),l=e.create({prng:a,options:t}),c=a.pick((n=t.backgroundType)!==null&&n!==void 0?n:[],"solid"),{primary:u,secondary:f}=$p(a,(r=t.backgroundColor)!==null&&r!==void 0?r:[],c),d=a.integer(!((s=t.backgroundRotation)===null||s===void 0)&&s.length?Math.min(...t.backgroundRotation):0,!((i=t.backgroundRotation)===null||i===void 0)&&i.length?Math.max(...t.backgroundRotation):0);t.size&&(l.attributes.width=t.size.toString(),l.attributes.height=t.size.toString()),t.scale!==void 0&&t.scale!==100&&(l.body=Sp(l,t.scale)),t.flip&&(l.body=Cp(l)),t.rotate&&(l.body=Pp(l,t.rotate)),(t.translateX||t.translateY)&&(l.body=xp(l,t.translateX,t.translateY)),u!=="transparent"&&f!=="transparent"&&(l.body=Ep(l,u,f,c,d)),(t.radius||t.clip)&&(l.body=kp(l,(o=t.radius)!==null&&o!==void 0?o:0)),t.randomizeIds&&(l.body=Tp(l));const h=Rp(l),y=_p(e),_=`<svg ${h}>${y}${l.body}</svg>`;return{toString:()=>_,toJson:()=>{var w;return{svg:_,extra:{primaryBackgroundColor:u,secondaryBackgroundColor:f,backgroundType:c,backgroundRotation:d,...(w=l.extra)===null||w===void 0?void 0:w.call(l)}}},toDataUri:()=>`data:image/svg+xml;utf8,${encodeURIComponent(_)}`}}const jp={bite:(e,t)=>'<rect x="4" y="5" width="68" height="22" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="9" width="60" height="14" rx="2" fill="#000" fill-opacity=".6"/><path fill-rule="evenodd" clip-rule="evenodd" d="m20 17 6-8H14l6 8ZM32 17l6-8H26l6 8ZM44 17l6-8H38l6 8ZM56 17l6-8H50l6 8Z" fill="#E1E6E8"/>',diagram:(e,t)=>'<rect x="4" y="4" width="68" height="24" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="8" width="60" height="16" rx="2" fill="#000" fill-opacity=".8"/><path d="M9 17h11l2-4 3 7 4-8 2 9 3-11 3 10 3-3h15l3-4 2 7 3-3h4" stroke="#4EFAC9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>',grill01:(e,t)=>'<g fill="#000" fill-opacity=".6"><rect x="12" y="12" width="4" height="8" rx="2"/><rect x="36" y="12" width="4" height="8" rx="2"/><rect x="24" y="12" width="4" height="8" rx="2"/><rect x="48" y="12" width="4" height="8" rx="2"/><rect x="60" y="12" width="4" height="8" rx="2"/></g>',grill02:(e,t)=>'<g fill="#000" fill-opacity=".6"><rect x="28" y="10" width="6" height="14" rx="2"/><rect x="14" y="10" width="6" height="14" rx="2"/><rect x="42" y="10" width="6" height="14" rx="2"/><rect x="56" y="10" width="6" height="14" rx="2"/></g>',grill03:(e,t)=>'<rect x="4" y="5" width="68" height="22" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="9" width="60" height="14" rx="2" fill="#fff"/><path fill="#000" fill-opacity=".1" d="M18 9h4v14h-4zM42 9h4v14h-4zM30 9h4v14h-4zM54 9h4v14h-4z"/>',smile01:(e,t)=>'<path d="M27.05 8.44a2 2 0 1 1 3.9-.88C31.72 10.96 34.4 13 38 13c3.6 0 6.28-2.04 7.05-5.44a2 2 0 1 1 3.9.88C47.75 13.7 43.43 17 38 17s-9.76-3.3-10.95-8.56Z" fill="#000" fill-opacity=".6"/>',smile02:(e,t)=>'<path fill-rule="evenodd" clip-rule="evenodd" d="M18 10.22C18 21.78 24.47 28 38 28c13.52 0 20-6.34 20-17.78C58 9.5 57.17 8 55 8H21c-2.05 0-3 1.38-3 2.22Z" fill="#000" fill-opacity=".8"/><mask id="mouthSmile02-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="18" y="8" width="40" height="20"><path fill-rule="evenodd" clip-rule="evenodd" d="M18 10.22C18 21.78 24.47 28 38 28c13.52 0 20-6.34 20-17.78C58 9.5 57.17 8 55 8H21c-2.05 0-3 1.38-3 2.22Z" fill="#fff"/></mask><g mask="url(#mouthSmile02-a)"><rect x="30" y="2" width="16" height="14" rx="2" fill="#fff"/></g>',square01:(e,t)=>'<rect x="24" y="6" width="27" height="8" rx="4" fill="#000" fill-opacity=".8"/>',square02:(e,t)=>'<rect x="16" y="8" width="44" height="4" rx="2" fill="#000" fill-opacity=".8"/>'},Lp={bulging:(e,t)=>'<circle cx="28" cy="24" r="18" fill="#000" fill-opacity=".2"/><circle cx="74" cy="24" r="18" fill="#000" fill-opacity=".2"/><circle cx="28" cy="24" r="15" fill="#F1EEDA"/><circle cx="74" cy="24" r="15" fill="#F1EEDA"/><rect x="26" y="15" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/><rect x="74" y="15" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/>',dizzy:(e,t)=>'<path d="m25 27.2 5.5 5.5c.5.4 1.2.4 1.6 0l1.6-1.6c.4-.5.4-1.2 0-1.6L28.2 24l5.5-5.5c.4-.5.4-1.2 0-1.6l-1.6-1.6c-.5-.4-1.2-.4-1.6 0L25 20.8l-5.5-5.5c-.5-.4-1.2-.4-1.6 0l-1.6 1.6c-.4.4-.4 1.1 0 1.6l5.5 5.5-5.5 5.5c-.4.5-.4 1.2 0 1.6l1.6 1.6c.5.4 1.2.4 1.6 0l5.5-5.5ZM79 27.2l5.5 5.5c.5.4 1.2.4 1.6 0l1.6-1.6c.4-.5.4-1.2 0-1.6L82.2 24l5.5-5.5c.4-.5.4-1.2 0-1.6l-1.6-1.6c-.5-.4-1.2-.4-1.6 0L79 20.8l-5.5-5.5c-.5-.4-1.2-.4-1.6 0l-1.6 1.6c-.4.4-.4 1.1 0 1.6l5.5 5.5-5.5 5.5c-.4.5-.4 1.2 0 1.6l1.6 1.6c.5.4 1.2.4 1.6 0l5.5-5.5Z" fill="#000" fill-opacity=".8"/>',eva:(e,t)=>'<g fill-rule="evenodd" clip-rule="evenodd"><path d="M53 0c34.75 0 49 17.47 49 31 0 13.53-19.59 17-49 17-29.05 0-51-3.47-51-17S17.11 0 53 0Z" fill="#000" fill-opacity=".8"/><path d="M28.82 34.65c-6.53-1.35-11.24-6.34-10.52-11.14.72-4.79 6.6-7.58 13.12-6.23 6.53 1.36 11.24 6.35 10.52 11.15-.72 4.8-6.6 7.59-13.12 6.23ZM75.42 34.65c-6.52 1.36-12.4-1.43-13.12-6.23-.72-4.8 4-9.8 10.52-11.15 6.52-1.35 12.4 1.44 13.12 6.24.72 4.81-4 9.8-10.52 11.15Z" fill="#25A6F5"/></g>',frame1:(e,t)=>'<rect y="4" width="104" height="42" rx="4" fill="#000" fill-opacity=".8"/><rect x="28" y="25" width="10" height="11" rx="2" fill="#8BDDFF"/><rect x="66" y="25" width="10" height="11" rx="2" fill="#8BDDFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21 4h8L12 46H4L21 4Z" fill="#fff" fill-opacity=".4"/>',frame2:(e,t)=>'<rect x="8" y="10" width="88" height="36" rx="4" fill="#000" fill-opacity=".8"/><rect x="28" y="21" width="10" height="17" rx="2" fill="#5EF2B8"/><rect x="66" y="21" width="10" height="17" rx="2" fill="#5EF2B8"/><path fill-rule="evenodd" clip-rule="evenodd" d="M83 10h5L76 46h-5l12-36Z" fill="#fff" fill-opacity=".4"/>',glow:(e,t)=>'<g fill="#fff"><circle cx="21" cy="30" r="15" fill-opacity=".1"/><circle cx="83" cy="30" r="15" fill-opacity=".1"/><circle cx="21" cy="30" r="12" fill-opacity=".1"/><circle cx="83" cy="30" r="12" fill-opacity=".1"/><circle cx="21" cy="30" r="6" fill-opacity=".8"/><circle cx="83" cy="30" r="6" fill-opacity=".8"/><circle cx="21" cy="30" r="3" fill-opacity=".8"/><circle cx="83" cy="30" r="3" fill-opacity=".8"/></g>',happy:(e,t)=>'<path d="m18 19 12-2M20 31c0-3.31 2.9-6 7-6 3.1 0 6 2.69 6 6M86 20l-12-3M84 31c0-3.31-2.9-6-6-6-4.1 0-7 2.69-7 6" stroke="#000" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>',hearts:(e,t)=>'<path d="M29.27 9.68c-2.55.13-4.96 2.24-6.25 4.15-1.48-1.76-4.1-3.6-6.65-3.47-5.48.28-8.85 3.8-8.63 8.1.3 5.72 4.88 8.89 9.7 12.24 1.71 1.15 5 4.15 5.42 4.82.42.67 2.14.6 2.58-.13a37.8 37.8 0 0 1 4.9-5.36c4.43-3.84 8.66-7.47 8.36-13.2-.23-4.3-3.95-7.44-9.43-7.15ZM87.63 10.36c-2.55-.14-5.17 1.7-6.65 3.47-1.3-1.9-3.7-4.02-6.25-4.15-5.48-.29-9.2 2.86-9.43 7.16-.3 5.72 3.93 9.35 8.36 13.19 1.6 1.32 4.55 4.64 4.9 5.36.35.7 2.06.82 2.58.13.51-.7 3.7-3.67 5.42-4.82 4.81-3.35 9.4-6.52 9.7-12.24.22-4.3-3.15-7.82-8.63-8.1Z" fill="#FF5353" fill-opacity=".8"/>',robocop:(e,t)=>'<rect x="7" y="16" width="91" height="16" rx="4" fill="#000" fill-opacity=".8"/><mask id="eyesRobocop-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="7" y="16" width="91" height="16"><rect x="7" y="16" width="91" height="16" rx="4" fill="#fff"/></mask><g mask="url(#eyesRobocop-a)" fill-rule="evenodd" clip-rule="evenodd" fill="#fff" fill-opacity=".8"><path d="M76 7h18L82 37H64L76 7ZM52 7h9L49 37h-9L52 7Z"/></g>',round:(e,t)=>'<g fill="#fff"><circle cx="24" cy="30" r="6"/><circle cx="80" cy="30" r="6"/></g>',roundFrame01:(e,t)=>'<rect y="12" width="104" height="32" rx="16" fill="#000" fill-opacity=".8"/><rect x="24" y="22" width="10" height="12" rx="2" fill="#F4F4F4"/><rect x="70" y="22" width="10" height="12" rx="2" fill="#F4F4F4"/>',roundFrame02:(e,t)=>'<rect y="11" width="104" height="34" rx="17" fill="#000" fill-opacity=".8"/><circle cx="29" cy="28" r="13" fill="#F1EEDA"/><circle cx="75" cy="28" r="13" fill="#F1EEDA"/><rect x="24" y="23" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/><rect x="70" y="23" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/>',sensor:(e,t)=>'<path d="M28 44a20 20 0 0 0 19.9-18h41.52a5 5 0 1 0 0-4H47.9A20 20 0 1 0 28 44Z" fill="#000" fill-opacity=".2"/><circle cx="94" cy="24" r="2" fill="#fff"/><circle cx="28" cy="24" r="16" fill="#000" fill-opacity=".6"/><circle cx="34" cy="16" r="3" fill="#fff"/>',shade01:(e,t)=>'<path d="M96 2H8c-4.5 0-8 3.5-8 8.03V28c0 4.5 3.5 8 8 8h13c8 0 11 8 18 8h27c7 0 9-8 17-8h13c4.5 0 8-3.5 8-8V10c0-4.5-3.5-8-8-8Z" fill="#000" fill-opacity=".8"/><path d="M87 14H17c-3.5 0-5 3-5 5v2c0 2 1.5 5 5 5h12c6 0 11.62 8 17 8h14c5.38 0 9-8 15-8h12c3.5 0 5-3 5-5v-2c0-2-1.5-5-5-5Z" fill="#FF3D3D"/><path d="M22.44 36.09 37.26 2h11L31.4 40.78l-.76-.58c-2.38-1.82-4.83-3.69-8.2-4.11ZM11.48 36 26.26 2h4L15.48 36h-4Z" fill="#fff" fill-opacity=".2"/>'},Mp=Object.freeze(Object.defineProperty({__proto__:null,eyes:Lp,mouth:jp},Symbol.toStringTag,{value:"Module"}));function Po({prng:e,group:t,values:n=[]}){const r=Mp,s=e.pick(n);if(s&&r[t][s])return{name:s,value:r[t][s]}}function Dp({prng:e,options:t}){const n=Po({prng:e,group:"mouth",values:t.mouth}),r=Po({prng:e,group:"eyes",values:t.eyes});return{mouth:n,eyes:r}}function Np({prng:e,options:t}){return{}}const Up={$schema:"http://json-schema.org/draft-07/schema#",properties:{backgroundColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"},default:["ffb300","1e88e5","546e7a","6d4c41","00acc1","f4511e","5e35b1","43a047","757575","3949ab","039be5","7cb342","c0ca33","fb8c00","d81b60","8e24aa","e53935","00897b","fdd835"]},eyes:{type:"array",items:{type:"string",enum:["bulging","dizzy","eva","frame1","frame2","glow","happy","hearts","robocop","round","roundFrame01","roundFrame02","sensor","shade01"]},default:["bulging","dizzy","eva","frame1","frame2","glow","happy","hearts","robocop","round","roundFrame01","roundFrame02","sensor","shade01"]},mouth:{type:"array",items:{type:"string",enum:["bite","diagram","grill01","grill02","grill03","smile01","smile02","square01","square02"]},default:["bite","diagram","grill01","grill02","grill03","smile01","smile02","square01","square02"]}}},Fp={title:"Bottts",creator:"Pablo Stanley",source:"https://bottts.com/",homepage:"https://twitter.com/pablostanley",license:{name:"Free for personal and commercial use",url:"https://bottts.com/"}},Bp=({prng:e,options:t})=>{var n,r,s,i;const o=Dp({prng:e,options:t}),a=Np({prng:e,options:t});return{attributes:{viewBox:"0 0 120 120",fill:"none","shape-rendering":"auto"},body:`<g transform="translate(22 68)">${(r=(n=o.mouth)===null||n===void 0?void 0:n.value(o,a))!==null&&r!==void 0?r:""}</g><g transform="translate(8 20)">${(i=(s=o.eyes)===null||s===void 0?void 0:s.value(o,a))!==null&&i!==void 0?i:""}</g>`,extra:()=>({...Object.entries(o).reduce((l,[c,u])=>(l[c]=u==null?void 0:u.name,l),{}),...Object.entries(a).reduce((l,[c,u])=>(l[`${c}Color`]=u,l),{})})}},zp=Object.freeze(Object.defineProperty({__proto__:null,create:Bp,meta:Fp,schema:Up},Symbol.toStringTag,{value:"Module"}));function Ss(e){switch(e){case"svg":return"image/svg+xml";case"png":case"jpeg":case"webp":case"avif":return`image/${e}`;default:throw new Error(`Unsupported format: ${e}`)}}function qp(e,t=512){let n=t;return e=e.replace(/<svg([^>]*)/,(r,s)=>{const i=s.match(/width="([^"]+)"/);return i&&(n=parseInt(i[1])),s.match(/width="([^"]+)"/)?s=s.replace(/width="([^"]+)"/,`width="${n}"`):s+=` width="${n}"`,s.match(/height="([^"]+)"/)?s=s.replace(/height="([^"]+)"/,`height="${n}"`):s+=` height="${n}"`,`<svg${s}`}),{svg:e,size:n}}const Hp=e=>Vp(e,"jpeg");function Vp(e,t){const n=typeof e=="string"?e:e.toString();return{toDataUri:()=>ml(n,t),toArrayBuffer:()=>Kp(n,t)}}async function ml(e,t,n){return t==="svg"?`data:${Ss(t)};utf8,${encodeURIComponent(e)}`:(await yl(e,t)).toDataURL(Ss(t))}async function Kp(e,t,n){const r=await yl(e,t);return await new Promise((s,i)=>{r.toBlob(o=>{o?s(o.arrayBuffer()):i(new Error("Could not create blob"))},Ss(t))})}async function yl(e,t,n){const{svg:r,size:s}=qp(e),i=document.createElement("canvas");i.width=s,i.height=s;const o=i.getContext("2d");if(o===null)throw new Error("Could not get canvas context");t==="jpeg"&&(o.fillStyle="white",o.fillRect(0,0,s,s));const a=document.createElement("img");return a.width=s,a.height=s,a.setAttribute("src",await ml(r,"svg")),new Promise((l,c)=>{a.onload=()=>{o.drawImage(a,0,0,s,s),l(i)},a.onerror=u=>c(u)})}class Wp{async generateAvatarByString(t){const n=Ip(zp,{seed:t}),r=await Hp(n).toArrayBuffer(),s=new Uint8Array(r);return new File([s],`${t}.jpeg`,{type:"image/jpeg"})}}const Gp={quizService:new yp,avatarService:new Wp},_l=ju(Ff);_l.use(vd).provide("container",Gp).provide("notificationProvider",Bf);_l.mount("#app");export{Rd as g};
